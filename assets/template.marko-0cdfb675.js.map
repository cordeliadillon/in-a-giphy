{"version":3,"file":"template.marko-0cdfb675.js","sources":["../../node_modules/warp10/src/constants.js","../../node_modules/warp10/src/finalize.js","../../node_modules/warp10/finalize.js","../../node_modules/marko/dist/runtime/queueMicrotask.js","../../node_modules/raptor-util/extend.js","../../node_modules/marko/dist/runtime/components/State.js","../../node_modules/marko/dist/runtime/components/dom-data.js","../../node_modules/marko/dist/node_modules/@internal/components-util/index-browser.js","../../node_modules/marko/dist/runtime/vdom/morphdom/helpers.js","../../node_modules/marko/dist/runtime/dom-insert.js","../../node_modules/marko/dist/runtime/createOut.js","../../node_modules/marko/dist/runtime/components/GlobalComponentsContext.js","../../node_modules/marko/dist/runtime/components/ComponentsContext.js","../../node_modules/events-light/src/index.js","../../node_modules/marko/dist/runtime/RenderResult.js","../../node_modules/listener-tracker/lib/listener-tracker.js","../../node_modules/raptor-util/copyProps.js","../../node_modules/raptor-util/inherit.js","../../node_modules/marko/dist/node_modules/@internal/set-immediate/index-browser.js","../../node_modules/marko/dist/runtime/components/update-manager.js","../../node_modules/marko/dist/runtime/vdom/morphdom/specialElHandlers.js","../../node_modules/marko/dist/runtime/components/KeySequence.js","../../node_modules/marko/dist/runtime/vdom/VNode.js","../../node_modules/marko/dist/runtime/vdom/VDocumentFragment.js","../../node_modules/marko/dist/runtime/vdom/VElement.js","../../node_modules/marko/dist/runtime/vdom/VText.js","../../node_modules/marko/dist/runtime/vdom/VComponent.js","../../node_modules/marko/dist/runtime/vdom/morphdom/fragment.js","../../node_modules/marko/dist/runtime/vdom/VFragment.js","../../node_modules/marko/dist/runtime/vdom/parse-html.js","../../node_modules/marko/dist/runtime/vdom/vdom.js","../../node_modules/marko/dist/runtime/components/event-delegation.js","../../node_modules/marko/dist/runtime/vdom/morphdom/index.js","../../node_modules/marko/dist/runtime/components/Component.js","../../node_modules/marko/dist/runtime/components/defineComponent.js","../../node_modules/warp10/constants.js","../../node_modules/marko/dist/runtime/components/ComponentDef.js","../../node_modules/marko/dist/node_modules/@internal/components-registry/index-browser.js","../../node_modules/marko/dist/node_modules/@internal/components-entry/index-browser.js","../../node_modules/marko/dist/runtime/components/index.js","../../node_modules/marko/dist/runtime/helpers/class-value.js","../../node_modules/marko/dist/runtime/helpers/_change-case.js","../../node_modules/marko/dist/runtime/helpers/style-value.js","../../node_modules/marko/dist/runtime/vdom/helpers/attrs.js","../../node_modules/marko/dist/runtime/vdom/AsyncVDOMBuilder.js","../../node_modules/marko/dist/runtime/renderable.js","../../node_modules/marko/dist/runtime/vdom/index.js","../../node_modules/marko/dist/runtime/vdom/helpers/v-element.js","../../node_modules/marko/dist/node_modules/@internal/components-beginComponent/index-browser.js","../../node_modules/marko/dist/node_modules/@internal/components-endComponent/index-browser.js","../../node_modules/marko/dist/runtime/components/renderer.js","../../node_modules/marko/dist/runtime/components/registry.js","../../src/components/icon-mag/icon-mag.marko?marko-browser","../../node_modules/marko/dist/runtime/helpers/render-tag.js","../../src/components/search-input/search-input.marko?marko-browser","../../src/components/icon-logo/icon-logo.marko?marko-browser","../../node_modules/marko/dist/runtime/helpers/dynamic-tag.js","../../src/components/app-header/app-header.marko?marko-browser","../../src/services/giphy/constants.js","../../src/services/giphy/load.js","../../node_modules/toggle-selection/index.js","../../node_modules/copy-to-clipboard/index.js","../../src/components/icon-link/icon-link.marko?marko-browser","../../src/components/giphy-card/giphy-card.marko?marko-browser","../../src/components/search-empty/search-empty.marko?marko-browser","../../src/components/search-results/search-results.marko?marko-browser","../../src/components/app-footer/app-footer.marko?marko-browser","../../src/components/app-main/app-main.marko?marko-browser"],"sourcesContent":["var win = typeof window !== \"undefined\" ? window : global;\nexports.NOOP = win.$W10NOOP = win.$W10NOOP || function () {};","var constants = require(\"./constants\");\nvar isArray = Array.isArray;\n\nfunction resolve(object, path, len) {\n    var current = object;\n    for (var i=0; i<len; i++) {\n        current = current[path[i]];\n    }\n\n    return current;\n}\n\nfunction resolveType(info) {\n    if (info.type === 'Date') {\n        return new Date(info.value);\n    } else if (info.type === 'URL') {\n        return new URL(info.value);\n    } else if (info.type === 'URLSearchParams') {\n        return new URLSearchParams(info.value);\n    } else if (info.type === 'NOOP') {\n        return constants.NOOP;\n    } else {\n        throw new Error('Bad type');\n    }\n}\n\nmodule.exports = function finalize(outer) {\n    if (!outer) {\n        return outer;\n    }\n\n    var assignments = outer.$$;\n    if (assignments) {\n        var object = outer.o;\n        var len;\n\n        if (assignments && (len=assignments.length)) {\n            for (var i=0; i<len; i++) {\n                var assignment = assignments[i];\n\n                var rhs = assignment.r;\n                var rhsValue;\n\n                if (isArray(rhs)) {\n                    rhsValue = resolve(object, rhs, rhs.length);\n                } else {\n                    rhsValue = resolveType(rhs);\n                }\n\n                var lhs = assignment.l;\n                var lhsLast = lhs.length-1;\n\n                if (lhsLast === -1) {\n                    object = outer.o = rhsValue;\n                    break;\n                } else {\n                    var lhsParent = resolve(object, lhs, lhsLast);\n                    lhsParent[lhs[lhsLast]] = rhsValue;\n                }\n            }\n        }\n\n        assignments.length = 0; // Assignments have been applied, do not reapply\n\n        return object == null ? null : object;\n    } else {\n        return outer;\n    }\n\n};","module.exports = require('./src/finalize');","\"use strict\";var promise;\nmodule.exports =\ntypeof queueMicrotask === \"function\" ?\nqueueMicrotask :\ntypeof Promise === \"function\" && (promise = Promise.resolve()) ?\nfunction (cb) {\n  promise.then(cb).catch(rethrow);\n} :\nsetTimeout;\nfunction rethrow(err) {\n  setTimeout(function () {\n    throw err;\n  });\n}","module.exports = function extend(target, source) { //A simple function to copy properties from one object to another\n    if (!target) { //Check if a target was provided, otherwise create a new empty object to return\n        target = {};\n    }\n\n    if (source) {\n        for (var propName in source) {\n            if (source.hasOwnProperty(propName)) { //Only look at source properties that are not inherited\n                target[propName] = source[propName]; //Copy the property\n            }\n        }\n    }\n\n    return target;\n};","\"use strict\";var extend = require(\"raptor-util/extend\");\n\nfunction ensure(state, propertyName) {\n  var proto = state.constructor.prototype;\n  if (!(propertyName in proto)) {\n    Object.defineProperty(proto, propertyName, {\n      get: function () {\n        return this.al_[propertyName];\n      },\n      set: function (value) {\n        this._Y_(propertyName, value, false /* ensure:false */);\n      }\n    });\n  }\n}\n\nfunction State(component) {\n  this.i_ = component;\n  this.al_ = {};\n\n  this._R_ = false;\n  this.ad_ = null;\n  this.ac_ = null;\n  this.az_ = null; // An object that we use to keep tracking of state properties that were forced to be dirty\n\n  Object.seal(this);\n}\n\nState.prototype = {\n  _a_: function () {\n    var self = this;\n\n    self._R_ = false;\n    self.ad_ = null;\n    self.ac_ = null;\n    self.az_ = null;\n  },\n\n  _W_: function (newState) {\n    var state = this;\n    var key;\n\n    var rawState = this.al_;\n\n    for (key in rawState) {\n      if (!(key in newState)) {\n        state._Y_(\n        key,\n        undefined,\n        false /* ensure:false */,\n        false /* forceDirty:false */);\n\n      }\n    }\n\n    for (key in newState) {\n      state._Y_(\n      key,\n      newState[key],\n      true /* ensure:true */,\n      false /* forceDirty:false */);\n\n    }\n  },\n  _Y_: function (name, value, shouldEnsure, forceDirty) {\n    var rawState = this.al_;\n\n    if (shouldEnsure) {\n      ensure(this, name);\n    }\n\n    if (forceDirty) {\n      var forcedDirtyState = this.az_ || (this.az_ = {});\n      forcedDirtyState[name] = true;\n    } else if (rawState[name] === value) {\n      return;\n    }\n\n    if (!this._R_) {\n      // This is the first time we are modifying the component state\n      // so introduce some properties to do some tracking of\n      // changes to the state\n      this._R_ = true; // Mark the component state as dirty (i.e. modified)\n      this.ad_ = rawState;\n      this.al_ = rawState = extend({}, rawState);\n      this.ac_ = {};\n      this.i_._X_();\n    }\n\n    this.ac_[name] = value;\n\n    if (value === undefined) {\n      // Don't store state properties with an undefined or null value\n      delete rawState[name];\n    } else {\n      // Otherwise, store the new value in the component state\n      rawState[name] = value;\n    }\n  },\n  toJSON: function () {\n    return this.al_;\n  }\n};\n\nmodule.exports = State;","\"use strict\";module.exports = {\n  _u_: new WeakMap(),\n  _t_: new WeakMap(),\n  W_: new WeakMap(),\n  aE_: new WeakMap(),\n  _s_: new WeakMap(),\n  V_: {}\n};","\"use strict\";var domData = require(\"../../../runtime/components/dom-data\");\nvar componentsByDOMNode = domData.W_;\nvar keysByDOMNode = domData._s_;\nvar vElementsByDOMNode = domData._t_;\nvar vPropsByDOMNode = domData._u_;\nvar markoUID = window.$MUID || (window.$MUID = { i: 0 });\nvar runtimeId = markoUID.i++;\n\nvar componentLookup = {};\n\nvar EMPTY_OBJECT = {};\n\nfunction getComponentForEl(el, host) {\n  var node =\n  typeof el == \"string\" ?\n  ((host ? host.ownerDocument : host) || document).getElementById(el) :\n  el;\n  var component;\n  var vElement;\n\n  while (node) {\n    if (node.fragment) {\n      if (node.fragment.endNode === node) {\n        node = node.fragment.startNode;\n      } else {\n        node = node.fragment;\n        component = componentsByDOMNode.get(node);\n      }\n    } else if (vElement = vElementsByDOMNode.get(node)) {\n      component = vElement._v_;\n    }\n\n    if (component) {\n      return component;\n    }\n\n    node = node.previousSibling || node.parentNode;\n  }\n}\n\nfunction destroyComponentForNode(node) {\n  var componentToDestroy = componentsByDOMNode.get(node.fragment || node);\n  if (componentToDestroy) {\n    componentToDestroy._w_();\n    delete componentLookup[componentToDestroy.id];\n  }\n}\nfunction destroyNodeRecursive(node, component) {\n  destroyComponentForNode(node);\n  if (node.nodeType === 1 || node.nodeType === 12) {\n    var key;\n\n    if (component && (key = keysByDOMNode.get(node))) {\n      if (node === component.l_[key]) {\n        if (componentsByDOMNode.get(node) && /\\[\\]$/.test(key)) {\n          delete component.l_[key][\n          componentsByDOMNode.get(node).id];\n\n        } else {\n          delete component.l_[key];\n        }\n      }\n    }\n\n    var curChild = node.firstChild;\n    while (curChild && curChild !== node.endNode) {\n      destroyNodeRecursive(curChild, component);\n      curChild = curChild.nextSibling;\n    }\n  }\n}\n\nfunction nextComponentId() {\n  // Each component will get an ID that is unique across all loaded\n  // marko runtimes. This allows multiple instances of marko to be\n  // loaded in the same window and they should all place nice\n  // together\n  return \"c\" + markoUID.i++;\n}\n\nfunction nextComponentIdProvider() {\n  return nextComponentId;\n}\n\nfunction attachBubblingEvent(\ncomponentDef,\nhandlerMethodName,\nisOnce,\nextraArgs)\n{\n  if (handlerMethodName) {\n    var componentId = componentDef.id;\n    if (extraArgs) {\n      return [handlerMethodName, componentId, isOnce, extraArgs];\n    } else {\n      return [handlerMethodName, componentId, isOnce];\n    }\n  }\n}\n\nfunction getMarkoPropsFromEl(el) {\n  var vElement = vElementsByDOMNode.get(el);\n  var virtualProps;\n\n  if (vElement) {\n    virtualProps = vElement._x_;\n  } else {\n    virtualProps = vPropsByDOMNode.get(el);\n    if (!virtualProps) {\n      virtualProps = el.getAttribute(\"data-marko\");\n      vPropsByDOMNode.set(\n      el,\n      virtualProps = virtualProps ? JSON.parse(virtualProps) : EMPTY_OBJECT);\n\n    }\n  }\n\n  return virtualProps;\n}\n\nfunction normalizeComponentKey(key, parentId) {\n  if (key[0] === \"#\") {\n    key = key.replace(\"#\" + parentId + \"-\", \"\");\n  }\n  return key;\n}\n\nfunction addComponentRootToKeyedElements(\nkeyedElements,\nkey,\nrootNode,\ncomponentId)\n{\n  if (/\\[\\]$/.test(key)) {\n    var repeatedElementsForKey = keyedElements[key] =\n    keyedElements[key] || {};\n    repeatedElementsForKey[componentId] = rootNode;\n  } else {\n    keyedElements[key] = rootNode;\n  }\n}\n\n// eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports._y_ = runtimeId;\nexports.T_ = componentLookup;\nexports.E_ = getComponentForEl;\nexports._z_ = destroyComponentForNode;\nexports._A_ = destroyNodeRecursive;\nexports._B_ = nextComponentIdProvider;\nexports._C_ = attachBubblingEvent;\nexports.Z_ = getMarkoPropsFromEl;\nexports.U_ = addComponentRootToKeyedElements;\nexports._D_ = normalizeComponentKey;","\"use strict\";function insertBefore(node, referenceNode, parentNode) {\n  if (node.insertInto) {\n    return node.insertInto(parentNode, referenceNode);\n  }\n  return parentNode.insertBefore(\n  node,\n  referenceNode && referenceNode.startNode || referenceNode);\n\n}\n\nfunction insertAfter(node, referenceNode, parentNode) {\n  return insertBefore(\n  node,\n  referenceNode && referenceNode.nextSibling,\n  parentNode);\n\n}\n\nfunction nextSibling(node) {\n  var next = node.nextSibling;\n  var fragment = next && next.fragment;\n  if (fragment) {\n    return next === fragment.startNode ? fragment : null;\n  }\n  return next;\n}\n\nfunction firstChild(node) {\n  var next = node.firstChild;\n  return next && next.fragment || next;\n}\n\nfunction removeChild(node) {\n  if (node.remove) node.remove();else\n  node.parentNode.removeChild(node);\n}\n\nexports.aJ_ = insertBefore;\nexports.aK_ = insertAfter;\nexports.bQ_ = nextSibling;\nexports.ai_ = firstChild;\nexports.aL_ = removeChild;","\"use strict\";var extend = require(\"raptor-util/extend\");\nvar componentsUtil = require(\"@internal/components-util\");\nvar destroyComponentForNode = componentsUtil._z_;\nvar destroyNodeRecursive = componentsUtil._A_;\nvar helpers = require(\"./vdom/morphdom/helpers\");\n\nvar insertBefore = helpers.aJ_;\nvar insertAfter = helpers.aK_;\nvar removeChild = helpers.aL_;\n\nfunction resolveEl(el) {\n  if (typeof el == \"string\") {\n    var elId = el;\n    el = document.getElementById(elId);\n    if (!el) {\n      throw Error(\"Not found: \" + elId);\n    }\n  }\n  return el;\n}\n\nfunction beforeRemove(referenceEl) {\n  destroyNodeRecursive(referenceEl);\n  destroyComponentForNode(referenceEl);\n}\n\nmodule.exports = function (target, getEl, afterInsert) {\n  extend(target, {\n    appendTo: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    prependTo: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, referenceEl.firstChild || null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    replace: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      beforeRemove(referenceEl);\n      insertBefore(el, referenceEl, referenceEl.parentNode);\n      removeChild(referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    replaceChildrenOf: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n\n      var curChild = referenceEl.firstChild;\n      while (curChild) {\n        var nextSibling = curChild.nextSibling; // Just in case the DOM changes while removing\n        beforeRemove(curChild);\n        curChild = nextSibling;\n      }\n\n      referenceEl.innerHTML = \"\";\n      insertBefore(el, null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    insertBefore: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, referenceEl, referenceEl.parentNode);\n      return afterInsert(this, referenceEl);\n    },\n    insertAfter: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertAfter(el, referenceEl, referenceEl.parentNode);\n      return afterInsert(this, referenceEl);\n    }\n  });\n};","\"use strict\";var actualCreateOut;\n\nfunction setCreateOut(createOutFunc) {\n  actualCreateOut = createOutFunc;\n}\n\nfunction createOut(globalData) {\n  return actualCreateOut(globalData);\n}\n\ncreateOut.aI_ = setCreateOut;\n\nmodule.exports = createOut;","\"use strict\";var nextComponentIdProvider =\nrequire(\"@internal/components-util\")._B_;\n\nfunction GlobalComponentsContext(out) {\n  this.z_ = {};\n  this.ah_ = undefined;\n  this.aw_ = nextComponentIdProvider(out);\n}\n\nmodule.exports = GlobalComponentsContext;","\"use strict\";\nvar GlobalComponentsContext = require(\"./GlobalComponentsContext\");\n\nfunction ComponentsContext(out, parentComponentsContext) {\n  var globalComponentsContext;\n  var componentDef;\n\n  if (parentComponentsContext) {\n    globalComponentsContext = parentComponentsContext.f_;\n    componentDef = parentComponentsContext.k_;\n\n    var nestedContextsForParent;\n    if (\n    !(nestedContextsForParent = parentComponentsContext.P_))\n    {\n      nestedContextsForParent = parentComponentsContext.P_ = [];\n    }\n\n    nestedContextsForParent.push(this);\n  } else {\n    globalComponentsContext = out.global.b_;\n    if (globalComponentsContext === undefined) {\n      out.global.b_ = globalComponentsContext =\n      new GlobalComponentsContext(out);\n    }\n  }\n\n  this.f_ = globalComponentsContext;\n  this.b_ = [];\n  this.A_ = out;\n  this.k_ = componentDef;\n  this.P_ = undefined;\n  this.p_ =\n  parentComponentsContext && parentComponentsContext.p_;\n}\n\nComponentsContext.prototype = {\n  _K_: function (host) {\n    var componentDefs = this.b_;\n\n    ComponentsContext._q_(componentDefs, host);\n\n    this.A_.emit(\"ax_\");\n\n    // Reset things stored in global since global is retained for\n    // future renders\n    this.A_.global.b_ = undefined;\n\n    return componentDefs;\n  }\n};\n\nfunction getComponentsContext(out) {\n  return out.b_ || (out.b_ = new ComponentsContext(out));\n}\n\nmodule.exports = exports = ComponentsContext;\n\nexports.e_ = getComponentsContext;","/* jshint newcap:false */\nvar slice = Array.prototype.slice;\n\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\n\nfunction checkListener(listener) {\n    if (!isFunction(listener)) {\n        throw TypeError('Invalid listener');\n    }\n}\n\nfunction invokeListener(ee, listener, args) {\n    switch (args.length) {\n        // fast cases\n        case 1:\n            listener.call(ee);\n            break;\n        case 2:\n            listener.call(ee, args[1]);\n            break;\n        case 3:\n            listener.call(ee, args[1], args[2]);\n            break;\n            // slower\n        default:\n            listener.apply(ee, slice.call(args, 1));\n    }\n}\n\nfunction addListener(eventEmitter, type, listener, prepend) {\n    checkListener(listener);\n\n    var events = eventEmitter.$e || (eventEmitter.$e = {});\n\n    var listeners = events[type];\n    if (listeners) {\n        if (isFunction(listeners)) {\n            events[type] = prepend ? [listener, listeners] : [listeners, listener];\n        } else {\n            if (prepend) {\n                listeners.unshift(listener);\n            } else {\n                listeners.push(listener);\n            }\n        }\n\n    } else {\n        events[type] = listener;\n    }\n    return eventEmitter;\n}\n\nfunction EventEmitter() {\n    this.$e = this.$e || {};\n}\n\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype = {\n    $e: null,\n\n    emit: function(type) {\n        var args = arguments;\n\n        var events = this.$e;\n        if (!events) {\n            return;\n        }\n\n        var listeners = events && events[type];\n        if (!listeners) {\n            // If there is no 'error' event listener then throw.\n            if (type === 'error') {\n                var error = args[1];\n                if (!(error instanceof Error)) {\n                    var context = error;\n                    error = new Error('Error: ' + context);\n                    error.context = context;\n                }\n\n                throw error; // Unhandled 'error' event\n            }\n\n            return false;\n        }\n\n        if (isFunction(listeners)) {\n            invokeListener(this, listeners, args);\n        } else {\n            listeners = slice.call(listeners);\n\n            for (var i=0, len=listeners.length; i<len; i++) {\n                var listener = listeners[i];\n                invokeListener(this, listener, args);\n            }\n        }\n\n        return true;\n    },\n\n    on: function(type, listener) {\n        return addListener(this, type, listener, false);\n    },\n\n    prependListener: function(type, listener) {\n        return addListener(this, type, listener, true);\n    },\n\n    once: function(type, listener) {\n        checkListener(listener);\n\n        function g() {\n            this.removeListener(type, g);\n\n            if (listener) {\n                listener.apply(this, arguments);\n                listener = null;\n            }\n        }\n\n        this.on(type, g);\n\n        return this;\n    },\n\n    // emits a 'removeListener' event iff the listener was removed\n    removeListener: function(type, listener) {\n        checkListener(listener);\n\n        var events = this.$e;\n        var listeners;\n\n        if (events && (listeners = events[type])) {\n            if (isFunction(listeners)) {\n                if (listeners === listener) {\n                    delete events[type];\n                }\n            } else {\n                for (var i=listeners.length-1; i>=0; i--) {\n                    if (listeners[i] === listener) {\n                        listeners.splice(i, 1);\n                    }\n                }\n            }\n        }\n\n        return this;\n    },\n\n    removeAllListeners: function(type) {\n        var events = this.$e;\n        if (events) {\n            delete events[type];\n        }\n    },\n\n    listenerCount: function(type) {\n        var events = this.$e;\n        var listeners = events && events[type];\n        return listeners ? (isFunction(listeners) ? 1 : listeners.length) : 0;\n    }\n};\n\nmodule.exports = EventEmitter;","\"use strict\";var domInsert = require(\"./dom-insert\");\n\n\nfunction getRootNode(el) {\n  var cur = el;\n  while (cur.parentNode) cur = cur.parentNode;\n  return cur;\n}\n\nfunction getComponentDefs(result) {\n  var componentDefs = result.b_;\n\n  if (!componentDefs) {\n    throw Error(\"No component\");\n  }\n  return componentDefs;\n}\n\nfunction RenderResult(out) {\n  this.out = this.A_ = out;\n  this.b_ = undefined;\n}\n\nmodule.exports = RenderResult;\n\nvar proto = RenderResult.prototype = {\n  getComponent: function () {\n    return this.getComponents()[0];\n  },\n  getComponents: function (selector) {\n    if (this.b_ === undefined) {\n      throw Error(\"Not added to DOM\");\n    }\n\n    var componentDefs = getComponentDefs(this);\n\n    var components = [];\n\n    componentDefs.forEach(function (componentDef) {\n      var component = componentDef.i_;\n      if (!selector || selector(component)) {\n        components.push(component);\n      }\n    });\n\n    return components;\n  },\n\n  afterInsert: function (host) {\n    var out = this.A_;\n    var componentsContext = out.b_;\n    if (componentsContext) {\n      this.b_ = componentsContext._K_(host);\n    } else {\n      this.b_ = null;\n    }\n\n    return this;\n  },\n  getNode: function (host) {\n    return this.A_._L_(host);\n  },\n  getOutput: function () {\n    return this.A_._M_();\n  },\n  toString: function () {\n    return this.A_.toString();\n  },\n  document: typeof document === \"object\" && document\n};\n\nObject.defineProperty(proto, \"html\", {\n  get: function () {\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n    return this.toString();\n  }\n});\n\nObject.defineProperty(proto, \"context\", {\n  get: function () {\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n    return this.A_;\n  }\n});\n\n// Add all of the following DOM methods to Component.prototype:\n// - appendTo(referenceEl)\n// - replace(referenceEl)\n// - replaceChildrenOf(referenceEl)\n// - insertBefore(referenceEl)\n// - insertAfter(referenceEl)\n// - prependTo(referenceEl)\ndomInsert(\nproto,\nfunction getEl(renderResult, referenceEl) {\n  return renderResult.getNode(getRootNode(referenceEl));\n},\nfunction afterInsert(renderResult, referenceEl) {\n  return renderResult.afterInsert(getRootNode(referenceEl));\n});","var INDEX_EVENT = 0;\nvar INDEX_USER_LISTENER = 1;\nvar INDEX_WRAPPED_LISTENER = 2;\nvar DESTROY = \"destroy\";\n\nfunction isNonEventEmitter(target) {\n  return !target.once;\n}\n\nfunction EventEmitterWrapper(target) {\n    this.$__target = target;\n    this.$__listeners = [];\n    this.$__subscribeTo = null;\n}\n\nEventEmitterWrapper.prototype = {\n    $__remove: function(test, testWrapped) {\n        var target = this.$__target;\n        var listeners = this.$__listeners;\n\n        this.$__listeners = listeners.filter(function(curListener) {\n            var curEvent = curListener[INDEX_EVENT];\n            var curListenerFunc = curListener[INDEX_USER_LISTENER];\n            var curWrappedListenerFunc = curListener[INDEX_WRAPPED_LISTENER];\n\n            if (testWrapped) {\n                // If the user used `once` to attach an event listener then we had to\n                // wrap their listener function with a new function that does some extra\n                // cleanup to avoid a memory leak. If the `testWrapped` flag is set to true\n                // then we are attempting to remove based on a function that we had to\n                // wrap (not the user listener function)\n                if (curWrappedListenerFunc && test(curEvent, curWrappedListenerFunc)) {\n                    target.removeListener(curEvent, curWrappedListenerFunc);\n\n                    return false;\n                }\n            } else if (test(curEvent, curListenerFunc)) {\n                // If the listener function was wrapped due to it being a `once` listener\n                // then we should remove from the target EventEmitter using wrapped\n                // listener function. Otherwise, we remove the listener using the user-provided\n                // listener function.\n                target.removeListener(curEvent, curWrappedListenerFunc || curListenerFunc);\n\n                return false;\n            }\n\n            return true;\n        });\n\n        // Fixes https://github.com/raptorjs/listener-tracker/issues/2\n        // If all of the listeners stored with a wrapped EventEmitter\n        // have been removed then we should unregister the wrapped\n        // EventEmitter in the parent SubscriptionTracker\n        var subscribeTo = this.$__subscribeTo;\n\n        if (!this.$__listeners.length && subscribeTo) {\n            var self = this;\n            var subscribeToList = subscribeTo.$__subscribeToList;\n            subscribeTo.$__subscribeToList = subscribeToList.filter(function(cur) {\n                return cur !== self;\n            });\n        }\n    },\n\n    on: function(event, listener) {\n        this.$__target.on(event, listener);\n        this.$__listeners.push([event, listener]);\n        return this;\n    },\n\n    once: function(event, listener) {\n        var self = this;\n\n        // Handling a `once` event listener is a little tricky since we need to also\n        // do our own cleanup if the `once` event is emitted. Therefore, we need\n        // to wrap the user's listener function with our own listener function.\n        var wrappedListener = function() {\n            self.$__remove(function(event, listenerFunc) {\n                return wrappedListener === listenerFunc;\n            }, true /* We are removing the wrapped listener */);\n\n            listener.apply(this, arguments);\n        };\n\n        this.$__target.once(event, wrappedListener);\n        this.$__listeners.push([event, listener, wrappedListener]);\n        return this;\n    },\n\n    removeListener: function(event, listener) {\n        if (typeof event === 'function') {\n            listener = event;\n            event = null;\n        }\n\n        if (listener && event) {\n            this.$__remove(function(curEvent, curListener) {\n                return event === curEvent && listener === curListener;\n            });\n        } else if (listener) {\n            this.$__remove(function(curEvent, curListener) {\n                return listener === curListener;\n            });\n        } else if (event) {\n            this.removeAllListeners(event);\n        }\n\n        return this;\n    },\n\n    removeAllListeners: function(event) {\n\n        var listeners = this.$__listeners;\n        var target = this.$__target;\n\n        if (event) {\n            this.$__remove(function(curEvent, curListener) {\n                return event === curEvent;\n            });\n        } else {\n            for (var i = listeners.length - 1; i >= 0; i--) {\n                var cur = listeners[i];\n                target.removeListener(cur[INDEX_EVENT], cur[INDEX_USER_LISTENER]);\n            }\n            this.$__listeners.length = 0;\n        }\n\n        return this;\n    }\n};\n\nfunction EventEmitterAdapter(target) {\n    this.$__target = target;\n}\n\nEventEmitterAdapter.prototype = {\n    on: function(event, listener) {\n        this.$__target.addEventListener(event, listener);\n        return this;\n    },\n\n    once: function(event, listener) {\n        var self = this;\n\n        // need to save this so we can remove it below\n        var onceListener = function() {\n          self.$__target.removeEventListener(event, onceListener);\n          listener();\n        };\n        this.$__target.addEventListener(event, onceListener);\n        return this;\n    },\n\n    removeListener: function(event, listener) {\n        this.$__target.removeEventListener(event, listener);\n        return this;\n    }\n};\n\nfunction SubscriptionTracker() {\n    this.$__subscribeToList = [];\n}\n\nSubscriptionTracker.prototype = {\n\n    subscribeTo: function(target, options) {\n        var addDestroyListener = !options || options.addDestroyListener !== false;\n        var wrapper;\n        var nonEE;\n        var subscribeToList = this.$__subscribeToList;\n\n        for (var i=0, len=subscribeToList.length; i<len; i++) {\n            var cur = subscribeToList[i];\n            if (cur.$__target === target) {\n                wrapper = cur;\n                break;\n            }\n        }\n\n        if (!wrapper) {\n            if (isNonEventEmitter(target)) {\n              nonEE = new EventEmitterAdapter(target);\n            }\n\n            wrapper = new EventEmitterWrapper(nonEE || target);\n            if (addDestroyListener && !nonEE) {\n                wrapper.once(DESTROY, function() {\n                    wrapper.removeAllListeners();\n\n                    for (var i = subscribeToList.length - 1; i >= 0; i--) {\n                        if (subscribeToList[i].$__target === target) {\n                            subscribeToList.splice(i, 1);\n                            break;\n                        }\n                    }\n                });\n            }\n\n            // Store a reference to the parent SubscriptionTracker so that we can do cleanup\n            // if the EventEmitterWrapper instance becomes empty (i.e., no active listeners)\n            wrapper.$__subscribeTo = this;\n            subscribeToList.push(wrapper);\n        }\n\n        return wrapper;\n    },\n\n    removeAllListeners: function(target, event) {\n        var subscribeToList = this.$__subscribeToList;\n        var i;\n\n        if (target) {\n            for (i = subscribeToList.length - 1; i >= 0; i--) {\n                var cur = subscribeToList[i];\n                if (cur.$__target === target) {\n                    cur.removeAllListeners(event);\n\n                    if (!cur.$__listeners.length) {\n                        // Do some cleanup if we removed all\n                        // listeners for the target event emitter\n                        subscribeToList.splice(i, 1);\n                    }\n\n                    break;\n                }\n            }\n        } else {\n            for (i = subscribeToList.length - 1; i >= 0; i--) {\n                subscribeToList[i].removeAllListeners();\n            }\n            subscribeToList.length = 0;\n        }\n    }\n};\n\nexports = module.exports = SubscriptionTracker;\n\nexports.wrap = function(targetEventEmitter) {\n    var nonEE;\n    var wrapper;\n\n    if (isNonEventEmitter(targetEventEmitter)) {\n      nonEE = new EventEmitterAdapter(targetEventEmitter);\n    }\n\n    wrapper = new EventEmitterWrapper(nonEE || targetEventEmitter);\n    if (!nonEE) {\n      // we don't set this for non EE types\n      targetEventEmitter.once(DESTROY, function() {\n          wrapper.$__listeners.length = 0;\n      });\n    }\n\n    return wrapper;\n};\n\nexports.createTracker = function() {\n    return new SubscriptionTracker();\n};\n","module.exports = function copyProps(from, to) {\n    Object.getOwnPropertyNames(from).forEach(function(name) {\n        var descriptor = Object.getOwnPropertyDescriptor(from, name);\n        Object.defineProperty(to, name, descriptor);\n    });\n};","var copyProps = require('./copyProps');\n\nfunction inherit(ctor, superCtor, shouldCopyProps) {\n    var oldProto = ctor.prototype;\n    var newProto = ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            writable: true,\n            configurable: true\n        }\n    });\n    if (oldProto && shouldCopyProps !== false) {\n        copyProps(oldProto, newProto);\n    }\n    ctor.$super = superCtor;\n    ctor.prototype = newProto;\n    return ctor;\n}\n\n\nmodule.exports = inherit;\ninherit._inherit = inherit;\n","\"use strict\";var queue = [];\nvar msg = \"\" + Math.random();\nwindow.addEventListener(\"message\", function (ev) {\n  if (ev.data === msg) {\n    var callbacks = queue;\n    queue = [];\n    for (var i = 0; i < callbacks.length; i++) {\n      callbacks[i]();\n    }\n  }\n});\n\nexports._I_ = function (callback) {\n  if (queue.push(callback) === 1) {\n    window.postMessage(msg, \"*\");\n  }\n};","\"use strict\";\n\nvar updatesScheduled = false;\nvar batchStack = []; // A stack of batched updates\nvar unbatchedQueue = []; // Used for scheduled batched updates\n\nvar setImmediate = require(\"@internal/set-immediate\")._I_;\n\n/**\n * This function is called when we schedule the update of \"unbatched\"\n * updates to components.\n */\nfunction updateUnbatchedComponents() {\n  if (unbatchedQueue.length) {\n    try {\n      updateComponents(unbatchedQueue);\n    } finally {\n      // Reset the flag now that this scheduled batch update\n      // is complete so that we can later schedule another\n      // batched update if needed\n      updatesScheduled = false;\n    }\n  }\n}\n\nfunction scheduleUpdates() {\n  if (updatesScheduled) {\n    // We have already scheduled a batched update for the\n    // nextTick so nothing to do\n    return;\n  }\n\n  updatesScheduled = true;\n\n  setImmediate(updateUnbatchedComponents);\n}\n\nfunction updateComponents(queue) {\n  // Loop over the components in the queue and update them.\n  // NOTE: It is okay if the queue grows during the iteration\n  //       since we will still get to them at the end\n  for (var i = 0; i < queue.length; i++) {\n    var component = queue[i];\n    component.aq_(); // Do the actual component update\n  }\n\n  // Clear out the queue by setting the length to zero\n  queue.length = 0;\n}\n\nfunction batchUpdate(func) {\n  // If the batched update stack is empty then this\n  // is the outer batched update. After the outer\n  // batched update completes we invoke the \"afterUpdate\"\n  // event listeners.\n  var batch = {\n    aH_: null\n  };\n\n  batchStack.push(batch);\n\n  try {\n    func();\n  } finally {\n    try {\n      // Update all of the components that where queued up\n      // in this batch (if any)\n      if (batch.aH_) {\n        updateComponents(batch.aH_);\n      }\n    } finally {\n      // Now that we have completed the update of all the components\n      // in this batch we need to remove it off the top of the stack\n      batchStack.length--;\n    }\n  }\n}\n\nfunction queueComponentUpdate(component) {\n  var batchStackLen = batchStack.length;\n\n  if (batchStackLen) {\n    // When a batch update is started we push a new batch on to a stack.\n    // If the stack has a non-zero length then we know that a batch has\n    // been started so we can just queue the component on the top batch. When\n    // the batch is ended this component will be updated.\n    var batch = batchStack[batchStackLen - 1];\n\n    // We default the batch queue to null to avoid creating an Array instance\n    // unnecessarily. If it is null then we create a new Array, otherwise\n    // we push it onto the existing Array queue\n    if (batch.aH_) {\n      batch.aH_.push(component);\n    } else {\n      batch.aH_ = [component];\n    }\n  } else {\n    // We are not within a batched update. We need to schedule a batch update\n    // for the nextTick (if that hasn't been done already) and we will\n    // add the component to the unbatched queued\n    scheduleUpdates();\n    unbatchedQueue.push(component);\n  }\n}\n\nexports.aa_ = queueComponentUpdate;\nexports.ag_ = batchUpdate;","\"use strict\";function syncBooleanAttrProp(fromEl, toEl, name) {\n  if (fromEl[name] !== toEl[name]) {\n    fromEl[name] = toEl[name];\n    if (fromEl[name]) {\n      fromEl.setAttribute(name, \"\");\n    } else {\n      fromEl.removeAttribute(name, \"\");\n    }\n  }\n}\n\nfunction forEachOption(el, fn, i) {\n  var curChild = el.ai_;\n\n  while (curChild) {\n    if (curChild.bF_ === \"option\") {\n      fn(curChild, ++i);\n    } else {\n      i = forEachOption(curChild, fn, i);\n    }\n\n    curChild = curChild.bQ_;\n  }\n\n  return i;\n}\n\n// We use a JavaScript class to benefit from fast property lookup\nfunction SpecialElHandlers() {}\nSpecialElHandlers.prototype = {\n  /**\n   * Needed for IE. Apparently IE doesn't think that \"selected\" is an\n   * attribute when reading over the attributes using selectEl.attributes\n   */\n  option: function (fromEl, toEl) {\n    syncBooleanAttrProp(fromEl, toEl, \"selected\");\n  },\n  button: function (fromEl, toEl) {\n    syncBooleanAttrProp(fromEl, toEl, \"disabled\");\n  },\n  /**\n   * The \"value\" attribute is special for the <input> element since it sets\n   * the initial value. Changing the \"value\" attribute without changing the\n   * \"value\" property will have no effect since it is only used to the set the\n   * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n   */\n  input: function (fromEl, toEl) {\n    syncBooleanAttrProp(fromEl, toEl, \"checked\");\n    syncBooleanAttrProp(fromEl, toEl, \"disabled\");\n\n    if (fromEl.value != toEl.q_) {\n      fromEl.value = toEl.q_;\n    }\n\n    if (fromEl.hasAttribute(\"value\") && !toEl.bJ_(\"value\")) {\n      fromEl.removeAttribute(\"value\");\n    }\n  },\n\n  textarea: function (fromEl, toEl) {\n    if (toEl.bT_) {\n      return;\n    }\n\n    var newValue = toEl.q_;\n    if (fromEl.value != newValue) {\n      fromEl.value = newValue;\n    }\n\n    var firstChild = fromEl.firstChild;\n    if (firstChild) {\n      // Needed for IE. Apparently IE sets the placeholder as the\n      // node value and vise versa. This ignores an empty update.\n      var oldValue = firstChild.nodeValue;\n\n      if (\n      oldValue == newValue ||\n      !newValue && oldValue == fromEl.placeholder)\n      {\n        return;\n      }\n\n      firstChild.nodeValue = newValue;\n    }\n  },\n  select: function (fromEl, toEl) {\n    if (!toEl.bJ_(\"multiple\")) {\n      var selected = 0;\n      forEachOption(\n      toEl,\n      function (option, i) {\n        if (option.bJ_(\"selected\")) {\n          selected = i;\n        }\n      },\n      -1);\n\n\n      if (fromEl.selectedIndex !== selected) {\n        fromEl.selectedIndex = selected;\n      }\n    }\n  }\n};\n\nmodule.exports = new SpecialElHandlers();","\"use strict\";function KeySequence() {\n  this.ay_ = Object.create(null);\n}\n\nKeySequence.prototype.av_ = function (key) {\n  var lookup = this.ay_;\n\n  if (lookup[key]) {\n    return key + \"_\" + lookup[key]++;\n  }\n\n  lookup[key] = 1;\n  return key;\n};\n\nmodule.exports = KeySequence;","\"use strict\"; /* jshint newcap:false */\nfunction VNode() {}\n\nVNode.prototype = {\n  bx_: function (finalChildCount, ownerComponent) {\n    this.bN_ = finalChildCount;\n    this.bO_ = 0;\n    this.bD_ = null;\n    this.bP_ = null;\n    this.bA_ = null;\n    this.bB_ = null;\n    this._v_ = ownerComponent;\n  },\n\n  get ai_() {\n    var firstChild = this.bD_;\n\n    if (firstChild && firstChild.bC_) {\n      var nestedFirstChild = firstChild.ai_;\n      // The first child is a DocumentFragment node.\n      // If the DocumentFragment node has a first child then we will return that.\n      // Otherwise, the DocumentFragment node is not *really* the first child and\n      // we need to skip to its next sibling\n      return nestedFirstChild || firstChild.bQ_;\n    }\n\n    return firstChild;\n  },\n\n  get bQ_() {\n    var nextSibling = this.bB_;\n\n    if (nextSibling) {\n      if (nextSibling.bC_) {\n        var firstChild = nextSibling.ai_;\n        return firstChild || nextSibling.bQ_;\n      }\n    } else {\n      var parentNode = this.bA_;\n      if (parentNode && parentNode.bC_) {\n        return parentNode.bQ_;\n      }\n    }\n\n    return nextSibling;\n  },\n\n  bp_: function (child) {\n    this.bO_++;\n\n    if (this.bF_ === \"textarea\") {\n      if (child.bR_) {\n        var childValue = child.bS_;\n        this.bG_ = (this.bG_ || \"\") + childValue;\n      } else if (child.o_ || child.n_) {\n        this.bT_ = true;\n      } else {\n        throw TypeError();\n      }\n    } else {\n      var lastChild = this.bP_;\n\n      child.bA_ = this;\n\n      if (lastChild) {\n        lastChild.bB_ = child;\n      } else {\n        this.bD_ = child;\n      }\n\n      this.bP_ = child;\n    }\n\n    return child;\n  },\n\n  bI_: function finishChild() {\n    if (this.bO_ === this.bN_ && this.bA_) {\n      return this.bA_.bI_();\n    } else {\n      return this;\n    }\n  }\n\n  // ,toJSON: function() {\n  //     var clone = Object.assign({\n  //         nodeType: this.nodeType\n  //     }, this);\n  //\n  //     for (var k in clone) {\n  //         if (k.startsWith('_')) {\n  //             delete clone[k];\n  //         }\n  //     }\n  //     delete clone._nextSibling;\n  //     delete clone._lastChild;\n  //     delete clone.parentNode;\n  //     return clone;\n  // }\n};\n\nmodule.exports = VNode;","\"use strict\";var VNode = require(\"./VNode\");\nvar inherit = require(\"raptor-util/inherit\");\nvar extend = require(\"raptor-util/extend\");\n\nfunction VDocumentFragmentClone(other) {\n  extend(this, other);\n  this.bA_ = null;\n  this.bB_ = null;\n}\n\nfunction VDocumentFragment(out) {\n  this.bx_(null /* childCount */);\n  this.A_ = out;\n}\n\nVDocumentFragment.prototype = {\n  bz_: 11,\n\n  bC_: true,\n\n  bq_: function () {\n    return new VDocumentFragmentClone(this);\n  },\n\n  bw_: function (host) {\n    return (host.ownerDocument || host).createDocumentFragment();\n  }\n};\n\ninherit(VDocumentFragment, VNode);\n\nVDocumentFragmentClone.prototype = VDocumentFragment.prototype;\n\nmodule.exports = VDocumentFragment;","\"use strict\"; /* jshint newcap:false */\n\nvar domData = require(\"../components/dom-data\");\nvar componentsUtil = require(\"@internal/components-util\");\nvar vElementByDOMNode = domData._t_;\nvar VNode = require(\"./VNode\");\nvar inherit = require(\"raptor-util/inherit\");\nvar ATTR_XLINK_HREF = \"xlink:href\";\nvar xmlnsRegExp = /^xmlns(:|$)/;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar NS_XLINK = \"http://www.w3.org/1999/xlink\";\nvar NS_HTML = \"http://www.w3.org/1999/xhtml\";\nvar NS_MATH = \"http://www.w3.org/1998/Math/MathML\";\nvar NS_SVG = \"http://www.w3.org/2000/svg\";\nvar DEFAULT_NS = {\n  svg: NS_SVG,\n  math: NS_MATH\n};\n\nvar FLAG_SIMPLE_ATTRS = 1;\nvar FLAG_CUSTOM_ELEMENT = 2;\nvar FLAG_SPREAD_ATTRS = 4;\n\nvar defineProperty = Object.defineProperty;\n\nvar ATTR_HREF = \"href\";\nvar EMPTY_OBJECT = Object.freeze({});\n\nfunction convertAttrValue(type, value) {\n  if (value === true) {\n    return \"\";\n  } else if (type == \"object\") {\n    if (value instanceof RegExp) {\n      return value.source;\n    }\n  }\n\n  return value + \"\";\n}\n\nfunction assign(a, b) {\n  for (var key in b) {\n    if (hasOwnProperty.call(b, key)) {\n      a[key] = b[key];\n    }\n  }\n}\n\nfunction setAttribute(el, namespaceURI, name, value) {\n  if (namespaceURI === null) {\n    el.setAttribute(name, value);\n  } else {\n    el.setAttributeNS(namespaceURI, name, value);\n  }\n}\n\nfunction removeAttribute(el, namespaceURI, name) {\n  if (namespaceURI === null) {\n    el.removeAttribute(name);\n  } else {\n    el.removeAttributeNS(namespaceURI, name);\n  }\n}\n\nfunction VElementClone(other) {\n  this.bD_ = other.bD_;\n  this.bA_ = null;\n  this.bB_ = null;\n\n  this.by_ = other.by_;\n  this.bE_ = other.bE_;\n  this._x_ = other._x_;\n  this.bF_ = other.bF_;\n  this.C_ = other.C_;\n  this.bG_ = other.bG_;\n  this.bH_ = other.bH_;\n}\n\nfunction VElement(\ntagName,\nattrs,\nkey,\nownerComponent,\nchildCount,\nflags,\nprops)\n{\n  this.bx_(childCount, ownerComponent);\n\n  var constId;\n\n  if (props) {\n    constId = props.i;\n  }\n\n  this.by_ = key;\n  this.C_ = flags || 0;\n  this.bE_ = attrs || EMPTY_OBJECT;\n  this._x_ = props || EMPTY_OBJECT;\n  this.bF_ = tagName;\n  this.bG_ = null;\n  this.bH_ = constId;\n  this.o_ = false;\n  this.n_ = false;\n}\n\nVElement.prototype = {\n  bz_: 1,\n\n  bq_: function () {\n    return new VElementClone(this);\n  },\n\n  /**\n   * Shorthand method for creating and appending an HTML element\n   *\n   * @param  {String} tagName    The tag name (e.g. \"div\")\n   * @param  {int|null} attrCount  The number of attributes (or `null` if not known)\n   * @param  {int|null} childCount The number of child nodes (or `null` if not known)\n   */\n  e: function (tagName, attrs, key, ownerComponent, childCount, flags, props) {\n    var child = this.bp_(\n    new VElement(\n    tagName,\n    attrs,\n    key,\n    ownerComponent,\n    childCount,\n    flags,\n    props));\n\n\n\n    if (childCount === 0) {\n      return this.bI_();\n    } else {\n      return child;\n    }\n  },\n\n  /**\n   * Shorthand method for creating and appending a static node. The provided node is automatically cloned\n   * using a shallow clone since it will be mutated as a result of setting `nextSibling` and `parentNode`.\n   *\n   * @param  {String} value The value for the new Comment node\n   */\n  n: function (node, ownerComponent) {\n    node = node.bq_();\n    node._v_ = ownerComponent;\n    this.bp_(node);\n    return this.bI_();\n  },\n\n  bw_: function (host, parentNamespaceURI) {\n    var tagName = this.bF_;\n    var attributes = this.bE_;\n    var namespaceURI = DEFAULT_NS[tagName] || parentNamespaceURI || NS_HTML;\n\n    var flags = this.C_;\n    var el = (host.ownerDocument || host).createElementNS(\n    namespaceURI,\n    tagName);\n\n\n    if (flags & FLAG_CUSTOM_ELEMENT) {\n      assign(el, attributes);\n    } else {\n      for (var attrName in attributes) {\n        var attrValue = attributes[attrName];\n\n        if (attrValue !== false && attrValue != null) {\n          var type = typeof attrValue;\n\n          if (type !== \"string\") {\n            // Special attributes aren't copied to the real DOM. They are only\n            // kept in the virtual attributes map\n            attrValue = convertAttrValue(type, attrValue);\n          }\n\n          if (attrName == ATTR_XLINK_HREF) {\n            setAttribute(el, NS_XLINK, ATTR_HREF, attrValue);\n          } else {\n            el.setAttribute(attrName, attrValue);\n          }\n        }\n      }\n\n      if (tagName === \"textarea\") {\n        el.defaultValue = el.value = this.q_;\n      }\n    }\n\n    vElementByDOMNode.set(el, this);\n\n    return el;\n  },\n\n  bJ_: function (name) {\n    // We don't care about the namespaces since the there\n    // is no chance that attributes with the same name will have\n    // different namespaces\n    var value = this.bE_[name];\n    return value != null && value !== false;\n  }\n};\n\ninherit(VElement, VNode);\n\nvar proto = VElementClone.prototype = VElement.prototype;\n\n[\"checked\", \"selected\", \"disabled\"].forEach(function (name) {\n  defineProperty(proto, name, {\n    get: function () {\n      var value = this.bE_[name];\n      return value !== false && value != null;\n    }\n  });\n});\n\ndefineProperty(proto, \"q_\", {\n  get: function () {\n    var value = this.bG_;\n    if (value == null) {\n      value = this.bE_.value;\n    }\n    return value != null && value !== false ?\n    value + \"\" :\n    this.bE_.type === \"checkbox\" ||\n    this.bE_.type === \"radio\" ?\n    \"on\" :\n    \"\";\n  }\n});\n\nVElement.bK_ = function (attrs) {\n  // By default this static method is a no-op, but if there are any\n  // compiled components that have \"no-update\" attributes then\n  // `preserve-attrs.js` will be imported and this method will be replaced\n  // with a method that actually does something\n  return attrs;\n};\n\nfunction virtualizeElement(node, virtualizeChildNodes, ownerComponent) {\n  var attributes = node.attributes;\n  var attrCount = attributes.length;\n\n  var attrs = null;\n  var props = null;\n\n  if (attrCount) {\n    attrs = {};\n    for (var i = 0; i < attrCount; i++) {\n      var attr = attributes[i];\n      var attrName = attr.name;\n      if (!xmlnsRegExp.test(attrName)) {\n        if (attrName === \"data-marko\") {\n          props = componentsUtil.Z_(node);\n        } else if (attr.namespaceURI === NS_XLINK) {\n          attrs[ATTR_XLINK_HREF] = attr.value;\n        } else {\n          attrs[attrName] = attr.value;\n        }\n      }\n    }\n  }\n\n  var tagName = node.nodeName;\n\n  if (node.namespaceURI === NS_HTML) {\n    tagName = tagName.toLowerCase();\n  }\n\n  var vdomEl = new VElement(\n  tagName,\n  attrs,\n  null /*key*/,\n  ownerComponent,\n  0 /*child count*/,\n  0 /*flags*/,\n  props);\n\n\n  if (vdomEl.bF_ === \"textarea\") {\n    vdomEl.bG_ = node.value;\n  } else if (virtualizeChildNodes) {\n    virtualizeChildNodes(node, vdomEl, ownerComponent);\n  }\n\n  return vdomEl;\n}\n\nVElement.bL_ = virtualizeElement;\n\nVElement.bM_ = function (fromEl, vFromEl, toEl) {\n  var removePreservedAttributes = VElement.bK_;\n\n  var fromFlags = vFromEl.C_;\n  var toFlags = toEl.C_;\n\n  vElementByDOMNode.set(fromEl, toEl);\n\n  var attrs = toEl.bE_;\n  var props = toEl._x_;\n\n  if (toFlags & FLAG_CUSTOM_ELEMENT) {\n    return assign(fromEl, attrs);\n  }\n\n  var attrName;\n\n  // We use expando properties to associate the previous HTML\n  // attributes provided as part of the VDOM node with the\n  // real VElement DOM node. When diffing attributes,\n  // we only use our internal representation of the attributes.\n  // When diffing for the first time it's possible that the\n  // real VElement node will not have the expando property\n  // so we build the attribute map from the expando property\n\n  var oldAttrs = vFromEl.bE_;\n\n  if (oldAttrs) {\n    if (oldAttrs === attrs) {\n      // For constant attributes the same object will be provided\n      // every render and we can use that to our advantage to\n      // not waste time diffing a constant, immutable attribute\n      // map.\n      return;\n    } else {\n      oldAttrs = removePreservedAttributes(oldAttrs, props);\n    }\n  }\n\n  var attrValue;\n\n  if (toFlags & FLAG_SIMPLE_ATTRS && fromFlags & FLAG_SIMPLE_ATTRS) {\n    if (oldAttrs[\"class\"] !== (attrValue = attrs[\"class\"])) {\n      fromEl.className = attrValue;\n    }\n    if (oldAttrs.id !== (attrValue = attrs.id)) {\n      fromEl.id = attrValue;\n    }\n    if (oldAttrs.style !== (attrValue = attrs.style)) {\n      fromEl.style.cssText = attrValue;\n    }\n    return;\n  }\n\n  // In some cases we only want to set an attribute value for the first\n  // render or we don't want certain attributes to be touched. To support\n  // that use case we delete out all of the preserved attributes\n  // so it's as if they never existed.\n  attrs = removePreservedAttributes(attrs, props, true);\n\n  var namespaceURI;\n\n  // Loop over all of the attributes in the attribute map and compare\n  // them to the value in the old map. However, if the value is\n  // null/undefined/false then we want to remove the attribute\n  for (attrName in attrs) {\n    attrValue = attrs[attrName];\n    namespaceURI = null;\n\n    if (attrName === ATTR_XLINK_HREF) {\n      namespaceURI = NS_XLINK;\n      attrName = ATTR_HREF;\n    }\n\n    if (attrValue == null || attrValue === false) {\n      removeAttribute(fromEl, namespaceURI, attrName);\n    } else if (oldAttrs[attrName] !== attrValue) {\n      var type = typeof attrValue;\n\n      if (type !== \"string\") {\n        attrValue = convertAttrValue(type, attrValue);\n      }\n\n      setAttribute(fromEl, namespaceURI, attrName, attrValue);\n    }\n  }\n\n  // If there are any old attributes that are not in the new set of attributes\n  // then we need to remove those attributes from the target node\n  //\n  // NOTE: We can skip this if the the element is keyed and didn't have spread attributes\n  //       because we know we already processed all of the attributes for\n  //       both the target and original element since target VElement nodes will\n  //       have all attributes declared. However, we can only skip if the node\n  //       was not a virtualized node (i.e., a node that was not rendered by a\n  //       Marko template, but rather a node that was created from an HTML\n  //       string or a real DOM node).\n  if (toEl.by_ === null || fromFlags & FLAG_SPREAD_ATTRS) {\n    for (attrName in oldAttrs) {\n      if (!(attrName in attrs)) {\n        if (attrName === ATTR_XLINK_HREF) {\n          fromEl.removeAttributeNS(ATTR_XLINK_HREF, ATTR_HREF);\n        } else {\n          fromEl.removeAttribute(attrName);\n        }\n      }\n    }\n  }\n};\n\nmodule.exports = VElement;","\"use strict\";var VNode = require(\"./VNode\");\nvar inherit = require(\"raptor-util/inherit\");\n\nfunction VText(value, ownerComponent) {\n  this.bx_(-1 /* no children */, ownerComponent);\n  this.bS_ = value;\n}\n\nVText.prototype = {\n  bR_: true,\n\n  bz_: 3,\n\n  bw_: function (host) {\n    return (host.ownerDocument || host).createTextNode(this.bS_);\n  },\n\n  bq_: function () {\n    return new VText(this.bS_);\n  }\n};\n\ninherit(VText, VNode);\n\nmodule.exports = VText;","\"use strict\";var VNode = require(\"./VNode\");\nvar inherit = require(\"raptor-util/inherit\");\n\nfunction VComponent(component, key, ownerComponent, preserve) {\n  this.bx_(null /* childCount */, ownerComponent);\n  this.by_ = key;\n  this.i_ = component;\n  this.o_ = preserve;\n}\n\nVComponent.prototype = {\n  bz_: 2\n};\n\ninherit(VComponent, VNode);\n\nmodule.exports = VComponent;","\"use strict\";var helpers = require(\"./helpers\");\nvar insertBefore = helpers.aJ_;\n\nvar fragmentPrototype = {\n  nodeType: 12,\n  get firstChild() {\n    var firstChild = this.startNode.nextSibling;\n    return firstChild === this.endNode ? undefined : firstChild;\n  },\n  get lastChild() {\n    var lastChild = this.endNode.previousSibling;\n    return lastChild === this.startNode ? undefined : lastChild;\n  },\n  get parentNode() {\n    var parentNode = this.startNode.parentNode;\n    return parentNode === this.detachedContainer ? undefined : parentNode;\n  },\n  get namespaceURI() {\n    return this.startNode.parentNode.namespaceURI;\n  },\n  get nextSibling() {\n    return this.endNode.nextSibling;\n  },\n  get nodes() {\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n    var nodes = [];\n    var current = this.startNode;\n    while (current !== this.endNode) {\n      nodes.push(current);\n      current = current.nextSibling;\n    }\n    nodes.push(current);\n    return nodes;\n  },\n  insertBefore: function (newChildNode, referenceNode) {\n    var actualReference = referenceNode == null ? this.endNode : referenceNode;\n    return insertBefore(\n    newChildNode,\n    actualReference,\n    this.startNode.parentNode);\n\n  },\n  insertInto: function (newParentNode, referenceNode) {\n    this.nodes.forEach(function (node) {\n      insertBefore(node, referenceNode, newParentNode);\n    }, this);\n    return this;\n  },\n  remove: function () {\n    this.nodes.forEach(function (node) {\n      this.detachedContainer.appendChild(node);\n    }, this);\n  }\n};\n\nfunction createFragmentNode(startNode, nextNode, parentNode) {\n  var fragment = Object.create(fragmentPrototype);\n  var isRoot = startNode && startNode.ownerDocument === startNode.parentNode;\n  fragment.startNode = isRoot ?\n  document.createComment(\"\") :\n  document.createTextNode(\"\");\n  fragment.endNode = isRoot ?\n  document.createComment(\"\") :\n  document.createTextNode(\"\");\n  fragment.startNode.fragment = fragment;\n  fragment.endNode.fragment = fragment;\n  var detachedContainer = fragment.detachedContainer =\n  document.createDocumentFragment();\n  parentNode =\n  parentNode || startNode && startNode.parentNode || detachedContainer;\n  insertBefore(fragment.startNode, startNode, parentNode);\n  insertBefore(fragment.endNode, nextNode, parentNode);\n  return fragment;\n}\n\nfunction beginFragmentNode(startNode, parentNode) {\n  var fragment = createFragmentNode(startNode, null, parentNode);\n  fragment.bV_ = function (nextNode) {\n    fragment.bV_ = null;\n    insertBefore(\n    fragment.endNode,\n    nextNode,\n    parentNode || startNode.parentNode);\n\n  };\n  return fragment;\n}\n\nexports.S_ = createFragmentNode;\nexports.bW_ = beginFragmentNode;","\"use strict\";var domData = require(\"../components/dom-data\");\nvar keysByDOMNode = domData._s_;\nvar vElementByDOMNode = domData._t_;\nvar VNode = require(\"./VNode\");\nvar inherit = require(\"raptor-util/inherit\");\nvar createFragmentNode = require(\"./morphdom/fragment\").S_;\n\nfunction VFragment(key, ownerComponent, preserve) {\n  this.bx_(null /* childCount */, ownerComponent);\n  this.by_ = key;\n  this.o_ = preserve;\n}\n\nVFragment.prototype = {\n  bz_: 12,\n  bw_: function () {\n    var fragment = createFragmentNode();\n    keysByDOMNode.set(fragment, this.by_);\n    vElementByDOMNode.set(fragment, this);\n    return fragment;\n  }\n};\n\ninherit(VFragment, VNode);\n\nmodule.exports = VFragment;","\"use strict\";var parseHTML = function (html) {\n  var container = document.createElement(\"template\");\n  parseHTML = container.content ?\n  function (html) {\n    container.innerHTML = html;\n    return container.content;\n  } :\n  function (html) {\n    container.innerHTML = html;\n    return container;\n  };\n\n  return parseHTML(html);\n};\n\nmodule.exports = function (html) {\n  return parseHTML(html).firstChild;\n};","\"use strict\";var VNode = require(\"./VNode\");\nvar VDocumentFragment = require(\"./VDocumentFragment\");\nvar VElement = require(\"./VElement\");\nvar VText = require(\"./VText\");\nvar VComponent = require(\"./VComponent\");\nvar VFragment = require(\"./VFragment\");\nvar parseHTML = require(\"./parse-html\");\n\nvar specialHtmlRegexp = /[&<]/;\n\nfunction virtualizeChildNodes(node, vdomParent, ownerComponent) {\n  var curChild = node.firstChild;\n  while (curChild) {\n    vdomParent.bp_(virtualize(curChild, ownerComponent));\n    curChild = curChild.nextSibling;\n  }\n}\n\nfunction virtualize(node, ownerComponent) {\n  switch (node.nodeType) {\n    case 1:\n      return VElement.bL_(node, virtualizeChildNodes, ownerComponent);\n    case 3:\n      return new VText(node.nodeValue, ownerComponent);\n    case 11:\n      var vdomDocFragment = new VDocumentFragment();\n      virtualizeChildNodes(node, vdomDocFragment, ownerComponent);\n      return vdomDocFragment;}\n\n}\n\nfunction virtualizeHTML(html, ownerComponent) {\n  if (!specialHtmlRegexp.test(html)) {\n    return new VText(html, ownerComponent);\n  }\n\n  var vdomFragment = new VDocumentFragment();\n  var curChild = parseHTML(html);\n\n  while (curChild) {\n    vdomFragment.bp_(virtualize(curChild, ownerComponent));\n    curChild = curChild.nextSibling;\n  }\n\n  return vdomFragment;\n}\n\nvar Node_prototype = VNode.prototype;\n\n/**\n * Shorthand method for creating and appending a Text node with a given value\n * @param  {String} value The text value for the new Text node\n */\nNode_prototype.t = function (value) {\n  var type = typeof value;\n  var vdomNode;\n\n  if (type !== \"string\") {\n    if (value == null) {\n      value = \"\";\n    } else if (type === \"object\") {\n      if (value.toHTML) {\n        vdomNode = virtualizeHTML(value.toHTML());\n      }\n    }\n  }\n\n  this.bp_(vdomNode || new VText(value.toString()));\n  return this.bI_();\n};\n\nNode_prototype.bu_ = function () {\n  return this.bp_(new VDocumentFragment());\n};\n\nexports.b__ = VDocumentFragment;\nexports.aZ_ = VElement;\nexports.ba_ = VText;\nexports.bb_ = VComponent;\nexports.bc_ = VFragment;\nexports.bL_ = virtualize;\nexports.bd_ = virtualizeHTML;","\"use strict\";var componentsUtil = require(\"@internal/components-util\");\nvar runtimeId = componentsUtil._y_;\nvar componentLookup = componentsUtil.T_;\nvar getMarkoPropsFromEl = componentsUtil.Z_;\n\nvar TEXT_NODE = 3;\n\n// We make our best effort to allow multiple marko runtimes to be loaded in the\n// same window. Each marko runtime will get its own unique runtime ID.\nvar listenersAttachedKey = \"$MDE\" + runtimeId;\nvar delegatedEvents = {};\n\nfunction getEventFromEl(el, eventName) {\n  var virtualProps = getMarkoPropsFromEl(el);\n  var eventInfo = virtualProps[eventName];\n\n  if (typeof eventInfo === \"string\") {\n    eventInfo = eventInfo.split(\" \");\n    if (eventInfo[2]) {\n      eventInfo[2] = eventInfo[2] === \"true\";\n    }\n    if (eventInfo.length == 4) {\n      eventInfo[3] = parseInt(eventInfo[3], 10);\n    }\n  }\n\n  return eventInfo;\n}\n\nfunction delegateEvent(node, eventName, target, event) {\n  var targetMethod = target[0];\n  var targetComponentId = target[1];\n  var isOnce = target[2];\n  var extraArgs = target[3];\n\n  if (isOnce) {\n    var virtualProps = getMarkoPropsFromEl(node);\n    delete virtualProps[eventName];\n  }\n\n  var targetComponent = componentLookup[targetComponentId];\n\n  if (!targetComponent) {\n    return;\n  }\n\n  var targetFunc =\n  typeof targetMethod === \"function\" ?\n  targetMethod :\n  targetComponent[targetMethod];\n  if (!targetFunc) {\n    throw Error(\"Method not found: \" + targetMethod);\n  }\n\n  if (extraArgs != null) {\n    if (typeof extraArgs === \"number\") {\n      extraArgs = targetComponent.I_[extraArgs];\n    }\n  }\n\n  // Invoke the component method\n  if (extraArgs) {\n    targetFunc.apply(targetComponent, extraArgs.concat(event, node));\n  } else {\n    targetFunc.call(targetComponent, event, node);\n  }\n}\n\nfunction addDelegatedEventHandler(eventType) {\n  if (!delegatedEvents[eventType]) {\n    delegatedEvents[eventType] = true;\n  }\n}\n\nfunction addDelegatedEventHandlerToHost(eventType, host) {\n  var listeners = host[listenersAttachedKey] =\n  host[listenersAttachedKey] || {};\n  if (!listeners[eventType]) {\n    (host.body || host).addEventListener(\n    eventType,\n    listeners[eventType] = function (event) {\n      var curNode = event.target;\n      if (!curNode) {\n        return;\n      }\n\n      curNode =\n      // event.target of an SVGElementInstance does not have a\n      // `getAttribute` function in IE 11.\n      // See https://github.com/marko-js/marko/issues/796\n      curNode.correspondingUseElement || (\n      // in some browsers the event target can be a text node\n      // one example being dragenter in firefox.\n      curNode.nodeType === TEXT_NODE ? curNode.parentNode : curNode);\n\n      // Search up the tree looking DOM events mapped to target\n      // component methods\n      var propName = \"on\" + eventType;\n      var target;\n\n      // Attributes will have the following form:\n      // on<event_type>(\"<target_method>|<component_id>\")\n\n      if (event.bubbles) {\n        var propagationStopped = false;\n\n        // Monkey-patch to fix #97\n        var oldStopPropagation = event.stopPropagation;\n\n        event.stopPropagation = function () {\n          oldStopPropagation.call(event);\n          propagationStopped = true;\n        };\n\n        do {\n          if (target = getEventFromEl(curNode, propName)) {\n            delegateEvent(curNode, propName, target, event);\n\n            if (propagationStopped) {\n              break;\n            }\n          }\n        } while ((curNode = curNode.parentNode) && curNode.getAttribute);\n      } else if (target = getEventFromEl(curNode, propName)) {\n        delegateEvent(curNode, propName, target, event);\n      }\n    },\n    true);\n\n  }\n}\n\nfunction noop() {}\n\nexports.aD_ = noop;\nexports._T_ = noop;\nexports.aA_ = delegateEvent;\nexports.aB_ = getEventFromEl;\nexports.___ = addDelegatedEventHandler;\nexports._i_ = function (host) {\n  Object.keys(delegatedEvents).forEach(function (eventType) {\n    addDelegatedEventHandlerToHost(eventType, host);\n  });\n};","\"use strict\";\nvar specialElHandlers = require(\"./specialElHandlers\");\nvar KeySequence = require(\"../../components/KeySequence\");\nvar componentsUtil = require(\"@internal/components-util\");\nvar existingComponentLookup = componentsUtil.T_;\nvar destroyNodeRecursive = componentsUtil._A_;\nvar addComponentRootToKeyedElements =\ncomponentsUtil.U_;\nvar normalizeComponentKey = componentsUtil._D_;\nvar VElement = require(\"../vdom\").aZ_;\nvar virtualizeElement = VElement.bL_;\nvar morphAttrs = VElement.bM_;\nvar eventDelegation = require(\"../../components/event-delegation\");\nvar fragment = require(\"./fragment\");\nvar helpers = require(\"./helpers\");\nvar domData = require(\"../../components/dom-data\");\nvar keysByDOMNode = domData._s_;\nvar componentByDOMNode = domData.W_;\nvar vElementByDOMNode = domData._t_;\nvar detachedByDOMNode = domData.aE_;\n\nvar insertBefore = helpers.aJ_;\nvar insertAfter = helpers.aK_;\nvar nextSibling = helpers.bQ_;\nvar firstChild = helpers.ai_;\nvar removeChild = helpers.aL_;\nvar createFragmentNode = fragment.S_;\nvar beginFragmentNode = fragment.bW_;\n\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\nvar COMPONENT_NODE = 2;\nvar FRAGMENT_NODE = 12;\nvar DOCTYPE_NODE = 10;\n\n// var FLAG_SIMPLE_ATTRS = 1;\n// var FLAG_CUSTOM_ELEMENT = 2;\n// var FLAG_SPREAD_ATTRS = 4;\n\nfunction isAutoKey(key) {\n  return key[0] !== \"@\";\n}\n\nfunction compareNodeNames(fromEl, toEl) {\n  return fromEl.bF_ === toEl.bF_;\n}\n\nfunction caseInsensitiveCompare(a, b) {\n  return a.toLowerCase() === b.toLowerCase();\n}\n\nfunction onNodeAdded(node, componentsContext) {\n  if (node.nodeType === ELEMENT_NODE) {\n    eventDelegation.aD_(node, componentsContext);\n  }\n}\n\nfunction morphdom(fromNode, toNode, host, componentsContext) {\n  var globalComponentsContext;\n  var isHydrate = false;\n  var keySequences = Object.create(null);\n\n  if (componentsContext) {\n    globalComponentsContext = componentsContext.f_;\n    isHydrate = globalComponentsContext.g_;\n  }\n\n  function insertVirtualNodeBefore(\n  vNode,\n  key,\n  referenceEl,\n  parentEl,\n  ownerComponent,\n  parentComponent)\n  {\n    var realNode = vNode.bw_(host, parentEl.namespaceURI);\n    insertBefore(realNode, referenceEl, parentEl);\n\n    if (\n    vNode.bz_ === ELEMENT_NODE ||\n    vNode.bz_ === FRAGMENT_NODE)\n    {\n      if (key) {\n        keysByDOMNode.set(realNode, key);\n        (isAutoKey(key) ? parentComponent : ownerComponent).l_[\n        key] =\n        realNode;\n      }\n\n      if (vNode.bF_ !== \"textarea\") {\n        morphChildren(realNode, vNode, parentComponent);\n      }\n\n      onNodeAdded(realNode, componentsContext);\n    }\n  }\n\n  function insertVirtualComponentBefore(\n  vComponent,\n  referenceNode,\n  referenceNodeParentEl,\n  component,\n  key,\n  ownerComponent,\n  parentComponent)\n  {\n    var rootNode = component._m_ = insertBefore(\n    createFragmentNode(),\n    referenceNode,\n    referenceNodeParentEl);\n\n    componentByDOMNode.set(rootNode, component);\n\n    if (key && ownerComponent) {\n      key = normalizeComponentKey(key, parentComponent.id);\n      addComponentRootToKeyedElements(\n      ownerComponent.l_,\n      key,\n      rootNode,\n      component.id);\n\n      keysByDOMNode.set(rootNode, key);\n    }\n\n    morphComponent(component, vComponent);\n  }\n\n  function morphComponent(component, vComponent) {\n    morphChildren(component._m_, vComponent, component);\n  }\n\n  var detachedNodes = [];\n\n  function detachNode(node, parentNode, ownerComponent) {\n    if (node.nodeType === ELEMENT_NODE || node.nodeType === FRAGMENT_NODE) {\n      detachedNodes.push(node);\n      detachedByDOMNode.set(node, ownerComponent || true);\n    } else {\n      destroyNodeRecursive(node);\n      removeChild(node);\n    }\n  }\n\n  function destroyComponent(component) {\n    component.destroy();\n  }\n\n  function morphChildren(fromNode, toNode, parentComponent) {\n    var curFromNodeChild = firstChild(fromNode);\n    var curToNodeChild = toNode.ai_;\n\n    var curToNodeKey;\n    var curFromNodeKey;\n    var curToNodeType;\n\n    var fromNextSibling;\n    var toNextSibling;\n    var matchingFromEl;\n    var matchingFromComponent;\n    var curVFromNodeChild;\n    var fromComponent;\n\n    outer: while (curToNodeChild) {\n      toNextSibling = curToNodeChild.bQ_;\n      curToNodeType = curToNodeChild.bz_;\n      curToNodeKey = curToNodeChild.by_;\n\n      // Skip <!doctype>\n      if (curFromNodeChild && curFromNodeChild.nodeType === DOCTYPE_NODE) {\n        curFromNodeChild = nextSibling(curFromNodeChild);\n      }\n\n      var ownerComponent = curToNodeChild._v_ || parentComponent;\n      var referenceComponent;\n\n      if (curToNodeType === COMPONENT_NODE) {\n        var component = curToNodeChild.i_;\n        if (\n        (matchingFromComponent = existingComponentLookup[component.id]) ===\n        undefined)\n        {\n          if (isHydrate === true) {\n            var rootNode = beginFragmentNode(curFromNodeChild, fromNode);\n            component._m_ = rootNode;\n            componentByDOMNode.set(rootNode, component);\n\n            if (ownerComponent && curToNodeKey) {\n              curToNodeKey = normalizeComponentKey(\n              curToNodeKey,\n              parentComponent.id);\n\n              addComponentRootToKeyedElements(\n              ownerComponent.l_,\n              curToNodeKey,\n              rootNode,\n              component.id);\n\n\n              keysByDOMNode.set(rootNode, curToNodeKey);\n            }\n\n            morphComponent(component, curToNodeChild);\n\n            curFromNodeChild = nextSibling(rootNode);\n          } else {\n            insertVirtualComponentBefore(\n            curToNodeChild,\n            curFromNodeChild,\n            fromNode,\n            component,\n            curToNodeKey,\n            ownerComponent,\n            parentComponent);\n\n          }\n        } else {\n          if (matchingFromComponent._m_ !== curFromNodeChild) {\n            if (\n            curFromNodeChild && (\n            fromComponent = componentByDOMNode.get(curFromNodeChild)) &&\n            globalComponentsContext.z_[\n            fromComponent.id] ===\n            undefined)\n            {\n              // The component associated with the current real DOM node was not rendered\n              // so we should just remove it out of the real DOM by destroying it\n              curFromNodeChild = nextSibling(fromComponent._m_);\n              destroyComponent(fromComponent);\n              continue;\n            }\n\n            // We need to move the existing component into\n            // the correct location\n            insertBefore(\n            matchingFromComponent._m_,\n            curFromNodeChild,\n            fromNode);\n\n          } else {\n            curFromNodeChild =\n            curFromNodeChild && nextSibling(curFromNodeChild);\n          }\n\n          if (!curToNodeChild.o_) {\n            morphComponent(component, curToNodeChild);\n          }\n        }\n\n        curToNodeChild = toNextSibling;\n        continue;\n      } else if (curToNodeKey) {\n        curVFromNodeChild = undefined;\n        curFromNodeKey = undefined;\n        var curToNodeKeyOriginal = curToNodeKey;\n\n        if (isAutoKey(curToNodeKey)) {\n          if (ownerComponent !== parentComponent) {\n            curToNodeKey += \":\" + ownerComponent.id;\n          }\n          referenceComponent = parentComponent;\n        } else {\n          referenceComponent = ownerComponent;\n        }\n\n        // We have a keyed element. This is the fast path for matching\n        // up elements\n        curToNodeKey = (\n        keySequences[referenceComponent.id] || (\n        keySequences[referenceComponent.id] = new KeySequence())).av_(\n        curToNodeKey);\n\n        if (curFromNodeChild) {\n          curFromNodeKey = keysByDOMNode.get(curFromNodeChild);\n          curVFromNodeChild = vElementByDOMNode.get(curFromNodeChild);\n          fromNextSibling = nextSibling(curFromNodeChild);\n        }\n\n        if (curFromNodeKey === curToNodeKey) {\n          // Elements line up. Now we just have to make sure they are compatible\n          if (!curToNodeChild.o_) {\n            // We just skip over the fromNode if it is preserved\n\n            if (compareNodeNames(curToNodeChild, curVFromNodeChild)) {\n              morphEl(\n              curFromNodeChild,\n              curVFromNodeChild,\n              curToNodeChild,\n              parentComponent);\n\n            } else {\n              // Remove the old node\n              detachNode(curFromNodeChild, fromNode, ownerComponent);\n\n              // Incompatible nodes. Just move the target VNode into the DOM at this position\n              insertVirtualNodeBefore(\n              curToNodeChild,\n              curToNodeKey,\n              curFromNodeChild,\n              fromNode,\n              ownerComponent,\n              parentComponent);\n\n            }\n          }\n        } else {\n          matchingFromEl = referenceComponent.l_[curToNodeKey];\n          if (\n          matchingFromEl === undefined ||\n          matchingFromEl === curFromNodeChild)\n          {\n            if (isHydrate === true && curFromNodeChild) {\n              if (\n              curFromNodeChild.nodeType === ELEMENT_NODE && (\n              curToNodeChild.o_ ||\n              caseInsensitiveCompare(\n              curFromNodeChild.nodeName,\n              curToNodeChild.bF_ || \"\")))\n\n              {\n                curVFromNodeChild = virtualizeElement(curFromNodeChild);\n                curVFromNodeChild.bF_ = curToNodeChild.bF_;\n                keysByDOMNode.set(curFromNodeChild, curToNodeKey);\n                referenceComponent.l_[curToNodeKey] =\n                curFromNodeChild;\n\n                if (curToNodeChild.o_) {\n                  vElementByDOMNode.set(curFromNodeChild, curVFromNodeChild);\n                } else {\n                  morphEl(\n                  curFromNodeChild,\n                  curVFromNodeChild,\n                  curToNodeChild,\n                  parentComponent);\n\n                }\n\n                curToNodeChild = toNextSibling;\n                curFromNodeChild = fromNextSibling;\n                continue;\n              } else if (\n              curToNodeChild.bz_ === FRAGMENT_NODE &&\n              curFromNodeChild.nodeType === COMMENT_NODE)\n              {\n                var content = curFromNodeChild.nodeValue;\n                if (content == \"F#\" + curToNodeKeyOriginal) {\n                  var endNode = curFromNodeChild.nextSibling;\n                  var depth = 0;\n                  var nodeValue;\n\n                  // eslint-disable-next-line no-constant-condition\n                  while (true) {\n                    if (endNode.nodeType === COMMENT_NODE) {\n                      nodeValue = endNode.nodeValue;\n                      if (nodeValue === \"F/\") {\n                        if (depth === 0) {\n                          break;\n                        } else {\n                          depth--;\n                        }\n                      } else if (nodeValue.indexOf(\"F#\") === 0) {\n                        depth++;\n                      }\n                    }\n                    endNode = endNode.nextSibling;\n                  }\n\n                  var fragment = createFragmentNode(\n                  curFromNodeChild,\n                  endNode.nextSibling,\n                  fromNode);\n\n                  keysByDOMNode.set(fragment, curToNodeKey);\n                  vElementByDOMNode.set(fragment, curToNodeChild);\n                  referenceComponent.l_[curToNodeKey] = fragment;\n                  removeChild(curFromNodeChild);\n                  removeChild(endNode);\n\n                  if (!curToNodeChild.o_) {\n                    morphChildren(fragment, curToNodeChild, parentComponent);\n                  }\n\n                  curToNodeChild = toNextSibling;\n                  curFromNodeChild = fragment.nextSibling;\n                  continue;\n                }\n              }\n            }\n\n            insertVirtualNodeBefore(\n            curToNodeChild,\n            curToNodeKey,\n            curFromNodeChild,\n            fromNode,\n            ownerComponent,\n            parentComponent);\n\n            fromNextSibling = curFromNodeChild;\n          } else {\n            if (detachedByDOMNode.get(matchingFromEl) !== undefined) {\n              detachedByDOMNode.set(matchingFromEl, undefined);\n            }\n\n            if (!curToNodeChild.o_) {\n              curVFromNodeChild = vElementByDOMNode.get(matchingFromEl);\n\n              if (compareNodeNames(curVFromNodeChild, curToNodeChild)) {\n                if (fromNextSibling === matchingFromEl) {\n                  // Single element removal:\n                  // A <-> A\n                  // B <-> C <-- We are here\n                  // C     D\n                  // D\n                  //\n                  // Single element swap:\n                  // A <-> A\n                  // B <-> C <-- We are here\n                  // C     B\n\n                  if (\n                  toNextSibling &&\n                  toNextSibling.by_ === curFromNodeKey)\n                  {\n                    // Single element swap\n\n                    // We want to stay on the current real DOM node\n                    fromNextSibling = curFromNodeChild;\n\n                    // But move the matching element into place\n                    insertBefore(matchingFromEl, curFromNodeChild, fromNode);\n                  } else {\n                    // Single element removal\n\n                    // We need to remove the current real DOM node\n                    // and the matching real DOM node will fall into\n                    // place. We will continue diffing with next sibling\n                    // after the real DOM node that just fell into place\n                    fromNextSibling = nextSibling(fromNextSibling);\n\n                    if (curFromNodeChild) {\n                      detachNode(curFromNodeChild, fromNode, ownerComponent);\n                    }\n                  }\n                } else {\n                  // A <-> A\n                  // B <-> D <-- We are here\n                  // C\n                  // D\n\n                  // We need to move the matching node into place\n                  insertAfter(matchingFromEl, curFromNodeChild, fromNode);\n\n                  if (curFromNodeChild) {\n                    detachNode(curFromNodeChild, fromNode, ownerComponent);\n                  }\n                }\n\n                morphEl(\n                matchingFromEl,\n                curVFromNodeChild,\n                curToNodeChild,\n                parentComponent);\n\n              } else {\n                insertVirtualNodeBefore(\n                curToNodeChild,\n                curToNodeKey,\n                curFromNodeChild,\n                fromNode,\n                ownerComponent,\n                parentComponent);\n\n                detachNode(matchingFromEl, fromNode, ownerComponent);\n              }\n            } else {\n              // preserve the node\n              // but still we need to diff the current from node\n              insertBefore(matchingFromEl, curFromNodeChild, fromNode);\n              fromNextSibling = curFromNodeChild;\n            }\n          }\n        }\n\n        curToNodeChild = toNextSibling;\n        curFromNodeChild = fromNextSibling;\n        continue;\n      }\n\n      // The know the target node is not a VComponent node and we know\n      // it is also not a preserve node. Let's now match up the HTML\n      // element, text node, comment, etc.\n      while (curFromNodeChild) {\n        fromNextSibling = nextSibling(curFromNodeChild);\n\n        if (fromComponent = componentByDOMNode.get(curFromNodeChild)) {\n          // The current \"to\" element is not associated with a component,\n          // but the current \"from\" element is associated with a component\n\n          // Even if we destroy the current component in the original\n          // DOM or not, we still need to skip over it since it is\n          // not compatible with the current \"to\" node\n          curFromNodeChild = fromNextSibling;\n\n          if (\n          !globalComponentsContext.z_[fromComponent.id])\n          {\n            destroyComponent(fromComponent);\n          }\n\n          continue; // Move to the next \"from\" node\n        }\n\n        var curFromNodeType = curFromNodeChild.nodeType;\n\n        var isCompatible = undefined;\n\n        if (curFromNodeType === curToNodeType) {\n          if (curFromNodeType === ELEMENT_NODE) {\n            // Both nodes being compared are Element nodes\n            curVFromNodeChild = vElementByDOMNode.get(curFromNodeChild);\n            if (curVFromNodeChild === undefined) {\n              if (isHydrate === true) {\n                curVFromNodeChild = virtualizeElement(curFromNodeChild);\n\n                if (\n                caseInsensitiveCompare(\n                curVFromNodeChild.bF_,\n                curToNodeChild.bF_))\n\n                {\n                  curVFromNodeChild.bF_ = curToNodeChild.bF_;\n                }\n              } else {\n                // Skip over nodes that don't look like ours...\n                curFromNodeChild = fromNextSibling;\n                continue;\n              }\n            } else if (curFromNodeKey = curVFromNodeChild.by_) {\n              // We have a keyed element here but our target VDOM node\n              // is not keyed so this not doesn't belong\n              isCompatible = false;\n            }\n\n            isCompatible =\n            isCompatible !== false &&\n            compareNodeNames(curVFromNodeChild, curToNodeChild) === true;\n\n            if (isCompatible === true) {\n              // We found compatible DOM elements so transform\n              // the current \"from\" node to match the current\n              // target DOM node.\n              morphEl(\n              curFromNodeChild,\n              curVFromNodeChild,\n              curToNodeChild,\n              parentComponent);\n\n            }\n          } else if (\n          curFromNodeType === TEXT_NODE ||\n          curFromNodeType === COMMENT_NODE)\n          {\n            // Both nodes being compared are Text or Comment nodes\n            isCompatible = true;\n            // Simply update nodeValue on the original node to\n            // change the text value\n\n            if (\n            isHydrate === true &&\n            toNextSibling &&\n            curFromNodeType === TEXT_NODE &&\n            toNextSibling.bz_ === TEXT_NODE)\n            {\n              fromNextSibling = curFromNodeChild.splitText(\n              curToNodeChild.bS_.length);\n\n            }\n            if (curFromNodeChild.nodeValue !== curToNodeChild.bS_) {\n              curFromNodeChild.nodeValue = curToNodeChild.bS_;\n            }\n          }\n        }\n\n        if (isCompatible === true) {\n          // Advance both the \"to\" child and the \"from\" child since we found a match\n          curToNodeChild = toNextSibling;\n          curFromNodeChild = fromNextSibling;\n          continue outer;\n        }\n\n        detachNode(curFromNodeChild, fromNode, ownerComponent);\n        curFromNodeChild = fromNextSibling;\n      } // END: while (curFromNodeChild)\n\n      // If we got this far then we did not find a candidate match for\n      // our \"to node\" and we exhausted all of the children \"from\"\n      // nodes. Therefore, we will just append the current \"to\" node\n      // to the end\n      insertVirtualNodeBefore(\n      curToNodeChild,\n      curToNodeKey,\n      curFromNodeChild,\n      fromNode,\n      ownerComponent,\n      parentComponent);\n\n\n      curToNodeChild = toNextSibling;\n      curFromNodeChild = fromNextSibling;\n    }\n\n    // We have processed all of the \"to nodes\".\n    if (fromNode.bV_) {\n      // If we are in an unfinished fragment, we have reached the end of the nodes\n      // we were matching up and need to end the fragment\n      fromNode.bV_(curFromNodeChild);\n    } else {\n      // If curFromNodeChild is non-null then we still have some from nodes\n      // left over that need to be removed\n      var fragmentBoundary =\n      fromNode.nodeType === FRAGMENT_NODE ? fromNode.endNode : null;\n\n      while (curFromNodeChild && curFromNodeChild !== fragmentBoundary) {\n        fromNextSibling = nextSibling(curFromNodeChild);\n\n        if (fromComponent = componentByDOMNode.get(curFromNodeChild)) {\n          curFromNodeChild = fromNextSibling;\n          if (\n          !globalComponentsContext.z_[fromComponent.id])\n          {\n            destroyComponent(fromComponent);\n          }\n          continue;\n        }\n\n        curVFromNodeChild = vElementByDOMNode.get(curFromNodeChild);\n        curFromNodeKey = keysByDOMNode.get(fromNode);\n\n        // For transcluded content, we need to check if the element belongs to a different component\n        // context than the current component and ensure it gets removed from its key index.\n        if (!curFromNodeKey || isAutoKey(curFromNodeKey)) {\n          referenceComponent = parentComponent;\n        } else {\n          referenceComponent =\n          curVFromNodeChild && curVFromNodeChild._v_;\n        }\n\n        detachNode(curFromNodeChild, fromNode, referenceComponent);\n\n        curFromNodeChild = fromNextSibling;\n      }\n    }\n  }\n\n  function morphEl(fromEl, vFromEl, toEl, parentComponent) {\n    var nodeName = toEl.bF_;\n\n    var constId = toEl.bH_;\n    if (constId !== undefined && vFromEl.bH_ === constId) {\n      return;\n    }\n\n    morphAttrs(fromEl, vFromEl, toEl);\n\n    if (toEl.n_) {\n      return;\n    }\n\n    if (nodeName !== \"textarea\") {\n      morphChildren(fromEl, toEl, parentComponent);\n    }\n\n    var specialElHandler = specialElHandlers[nodeName];\n    if (specialElHandler !== undefined) {\n      specialElHandler(fromEl, toEl);\n    }\n  } // END: morphEl(...)\n\n  // eslint-disable-next-line no-constant-condition\n\n\n\n\n  morphChildren(fromNode, toNode, toNode.i_);\n\n  detachedNodes.forEach(function (node) {\n    var detachedFromComponent = detachedByDOMNode.get(node);\n\n    if (detachedFromComponent !== undefined) {\n      detachedByDOMNode.set(node, undefined);\n\n      var componentToDestroy = componentByDOMNode.get(node);\n      if (componentToDestroy) {\n        componentToDestroy.destroy();\n      } else if (node.parentNode) {\n        destroyNodeRecursive(\n        node,\n        detachedFromComponent !== true && detachedFromComponent);\n\n\n        if (eventDelegation._T_(node) != false) {\n          removeChild(node);\n        }\n      }\n    }\n  });\n\n  // eslint-disable-next-line no-constant-condition\n\n\n\n}\n\nmodule.exports = morphdom;","\"use strict\";\n/* jshint newcap:false */\n\n\n\nvar domInsert = require(\"../dom-insert\");\nvar defaultCreateOut = require(\"../createOut\");\nvar getComponentsContext =\nrequire(\"./ComponentsContext\").e_;\nvar componentsUtil = require(\"@internal/components-util\");\nvar componentLookup = componentsUtil.T_;\nvar destroyNodeRecursive = componentsUtil._A_;\nvar EventEmitter = require(\"events-light\");\nvar RenderResult = require(\"../RenderResult\");\nvar SubscriptionTracker = require(\"listener-tracker\");\nvar inherit = require(\"raptor-util/inherit\");\nvar updateManager = require(\"./update-manager\");\nvar morphdom = require(\"../vdom/morphdom\");\nvar eventDelegation = require(\"./event-delegation\");\nvar domData = require(\"./dom-data\");\nvar componentsByDOMNode = domData.W_;\nvar keyedElementsByComponentId = domData.V_;\nvar CONTEXT_KEY = \"__subtree_context__\";\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar slice = Array.prototype.slice;\n\nvar COMPONENT_SUBSCRIBE_TO_OPTIONS;\nvar NON_COMPONENT_SUBSCRIBE_TO_OPTIONS = {\n  addDestroyListener: false\n};\n\nvar emit = EventEmitter.prototype.emit;\nvar ELEMENT_NODE = 1;\n\nfunction removeListener(removeEventListenerHandle) {\n  removeEventListenerHandle();\n}\n\nfunction walkFragments(fragment) {\n  var node;\n\n  while (fragment) {\n    node = fragment.firstChild;\n\n    if (!node) {\n      break;\n    }\n\n    fragment = node.fragment;\n  }\n\n  return node;\n}\n\nfunction handleCustomEventWithMethodListener(\ncomponent,\ntargetMethodName,\nargs,\nextraArgs)\n{\n  // Remove the \"eventType\" argument\n  args.push(component);\n\n  if (extraArgs) {\n    args = extraArgs.concat(args);\n  }\n\n  var targetComponent = componentLookup[component.H_];\n  var targetMethod =\n  typeof targetMethodName === \"function\" ?\n  targetMethodName :\n  targetComponent[targetMethodName];\n  if (!targetMethod) {\n    throw Error(\"Method not found: \" + targetMethodName);\n  }\n\n  targetMethod.apply(targetComponent, args);\n}\n\nfunction resolveKeyHelper(key, index) {\n  return index ? key + \"_\" + index : key;\n}\n\nfunction resolveComponentIdHelper(component, key, index) {\n  return component.id + \"-\" + resolveKeyHelper(key, index);\n}\n\n/**\n * This method is used to process \"update_<stateName>\" handler functions.\n * If all of the modified state properties have a user provided update handler\n * then a rerender will be bypassed and, instead, the DOM will be updated\n * looping over and invoking the custom update handlers.\n * @return {boolean} Returns true if if the DOM was updated. False, otherwise.\n */\nfunction processUpdateHandlers(component, stateChanges, oldState) {\n  var handlerMethod;\n  var handlers;\n\n  for (var propName in stateChanges) {\n    if (hasOwnProperty.call(stateChanges, propName)) {\n      var handlerMethodName = \"update_\" + propName;\n\n      handlerMethod = component[handlerMethodName];\n      if (handlerMethod) {\n        (handlers || (handlers = [])).push([propName, handlerMethod]);\n      } else {\n        // This state change does not have a state handler so return false\n        // to force a rerender\n        return;\n      }\n    }\n  }\n\n  // If we got here then all of the changed state properties have\n  // an update handler or there are no state properties that actually\n  // changed.\n  if (handlers) {\n    // Otherwise, there are handlers for all of the changed properties\n    // so apply the updates using those handlers\n\n    handlers.forEach(function (handler) {\n      var propertyName = handler[0];\n      handlerMethod = handler[1];\n\n      var newValue = stateChanges[propertyName];\n      var oldValue = oldState[propertyName];\n      handlerMethod.call(component, newValue, oldValue);\n    });\n\n    component._g_();\n    component._a_();\n  }\n\n  return true;\n}\n\nfunction checkInputChanged(existingComponent, oldInput, newInput) {\n  if (oldInput != newInput) {\n    if (oldInput == null || newInput == null) {\n      return true;\n    }\n\n    var oldKeys = Object.keys(oldInput);\n    var newKeys = Object.keys(newInput);\n    var len = oldKeys.length;\n    if (len !== newKeys.length) {\n      return true;\n    }\n\n    for (var i = len; i--;) {\n      var key = oldKeys[i];\n      if (!(key in newInput && oldInput[key] === newInput[key])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nvar componentProto;\n\n/**\n * Base component type.\n *\n * NOTE: Any methods that are prefixed with an underscore should be considered private!\n */\nfunction Component(id) {\n  EventEmitter.call(this);\n  this.id = id;\n  this.J_ = null;\n  this._m_ = null;\n  this._N_ = null;\n  this._e_ = null;\n  this.I_ = null; // Used to keep track of bubbling DOM events for components rendered on the server\n  this.G_ = null;\n  this.H_ = null;\n  this._O_ = null;\n  this.K_ = undefined;\n  this._f_ = false;\n  this._P_ = undefined;\n  this._Q_ = false;\n  this.N_ = false;\n  this._R_ = false;\n  this._S_ = false;\n  this._b_ = undefined;\n\n  var ssrKeyedElements = keyedElementsByComponentId[id];\n\n  if (ssrKeyedElements) {\n    this.l_ = ssrKeyedElements;\n    delete keyedElementsByComponentId[id];\n  } else {\n    this.l_ = {};\n  }\n}\n\nComponent.prototype = componentProto = {\n  X_: true,\n\n  subscribeTo: function (target) {\n    if (!target) {\n      throw TypeError();\n    }\n\n    var subscriptions =\n    this._N_ || (\n    this._N_ = new SubscriptionTracker());\n\n    var subscribeToOptions = target.X_ ?\n    COMPONENT_SUBSCRIBE_TO_OPTIONS :\n    NON_COMPONENT_SUBSCRIBE_TO_OPTIONS;\n\n    return subscriptions.subscribeTo(target, subscribeToOptions);\n  },\n\n  emit: function (eventType) {\n    var customEvents = this.G_;\n    var target;\n\n    if (customEvents && (target = customEvents[eventType])) {\n      var targetMethodName = target[0];\n      var isOnce = target[1];\n      var extraArgs = target[2];\n      var args = slice.call(arguments, 1);\n\n      handleCustomEventWithMethodListener(\n      this,\n      targetMethodName,\n      args,\n      extraArgs);\n\n\n      if (isOnce) {\n        delete customEvents[eventType];\n      }\n    }\n\n    return emit.apply(this, arguments);\n  },\n  getElId: function (key, index) {\n    if (!key) {\n      return this.id;\n    }\n    return resolveComponentIdHelper(this, key, index);\n  },\n  getEl: function (key, index) {\n    if (key) {\n      var keyedElement =\n      this.l_[\"@\" + resolveKeyHelper(key, index)];\n\n      // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n\n\n\n      return keyedElement;\n    } else {\n      return this.el;\n    }\n  },\n  getEls: function (key) {\n    key = key + \"[]\";\n\n    var els = [];\n    var i = 0;\n    var el;\n    while (el = this.getEl(key, i)) {\n      els.push(el);\n      i++;\n    }\n    return els;\n  },\n  getComponent: function (key, index) {\n    var rootNode = this.l_[\"@\" + resolveKeyHelper(key, index)];\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n    return rootNode && componentsByDOMNode.get(rootNode);\n  },\n  getComponents: function (key) {\n    var lookup = this.l_[\"@\" + key + \"[]\"];\n    return lookup ?\n    Object.keys(lookup).\n    map(function (key) {\n      return componentsByDOMNode.get(lookup[key]);\n    }).\n    filter(Boolean) :\n    [];\n  },\n  destroy: function () {\n    if (this._Q_) {\n      return;\n    }\n\n    var root = this._m_;\n\n    this._w_();\n\n    var nodes = root.nodes;\n\n    nodes.forEach(function (node) {\n      destroyNodeRecursive(node);\n\n      if (eventDelegation._T_(node) !== false) {\n        node.parentNode.removeChild(node);\n      }\n    });\n\n    root.detached = true;\n\n    delete componentLookup[this.id];\n    this.l_ = {};\n  },\n\n  _w_: function () {\n    if (this._Q_) {\n      return;\n    }\n\n    this._U_();\n    this._Q_ = true;\n\n    componentsByDOMNode.set(this._m_, undefined);\n\n    this._m_ = null;\n\n    // Unsubscribe from all DOM events\n    this._d_();\n\n    var subscriptions = this._N_;\n    if (subscriptions) {\n      subscriptions.removeAllListeners();\n      this._N_ = null;\n    }\n  },\n\n  isDestroyed: function () {\n    return this._Q_;\n  },\n  get state() {\n    return this.J_;\n  },\n  set state(newState) {\n    var state = this.J_;\n    if (!state && !newState) {\n      return;\n    }\n\n    if (!state) {\n      state = this.J_ = new this._V_(this);\n    }\n\n    state._W_(newState || {});\n\n    if (state._R_) {\n      this._X_();\n    }\n\n    if (!newState) {\n      this.J_ = null;\n    }\n  },\n  setState: function (name, value) {\n    var state = this.J_;\n\n    if (!state) {\n      state = this.J_ = new this._V_(this);\n    }\n    if (typeof name == \"object\") {\n      // Merge in the new state with the old state\n      var newState = name;\n      for (var k in newState) {\n        if (hasOwnProperty.call(newState, k)) {\n          state._Y_(k, newState[k], true /* ensure:true */);\n        }\n      }\n    } else {\n      state._Y_(name, value, true /* ensure:true */);\n    }\n  },\n\n  setStateDirty: function (name, value) {\n    var state = this.J_;\n\n    if (arguments.length == 1) {\n      value = state[name];\n    }\n\n    state._Y_(\n    name,\n    value,\n    true /* ensure:true */,\n    true /* forceDirty:true */);\n\n  },\n\n  replaceState: function (newState) {\n    this.J_._W_(newState);\n  },\n\n  get input() {\n    return this.K_;\n  },\n  set input(newInput) {\n    if (this._S_) {\n      this.K_ = newInput;\n    } else {\n      this._Z_(newInput);\n    }\n  },\n\n  _Z_: function (newInput, onInput, out) {\n    onInput = onInput || this.onInput;\n    var updatedInput;\n\n    var oldInput = this.K_;\n    this.K_ = undefined;\n    this.a__ = out && out[CONTEXT_KEY] || this.a__;\n\n    if (onInput) {\n      // We need to set a flag to preview `this.input = foo` inside\n      // onInput causing infinite recursion\n      this._S_ = true;\n      updatedInput = onInput.call(this, newInput || {}, out);\n      this._S_ = false;\n    }\n\n    newInput = this._O_ = updatedInput || newInput;\n\n    if (this._R_ = checkInputChanged(this, oldInput, newInput)) {\n      this._X_();\n    }\n\n    if (this.K_ === undefined) {\n      this.K_ = newInput;\n      if (newInput && newInput.$global) {\n        this._P_ = newInput.$global;\n      }\n    }\n\n    return newInput;\n  },\n\n  forceUpdate: function () {\n    this._R_ = true;\n    this._X_();\n  },\n\n  _X_: function () {\n    if (!this.N_) {\n      this.N_ = true;\n      updateManager.aa_(this);\n    }\n  },\n\n  update: function () {\n    if (this._Q_ === true || this.ab_ === false) {\n      return;\n    }\n\n    var input = this.K_;\n    var state = this.J_;\n\n    if (this._R_ === false && state !== null && state._R_ === true) {\n      if (processUpdateHandlers(this, state.ac_, state.ad_, state)) {\n        state._R_ = false;\n      }\n    }\n\n    if (this.ab_ === true) {\n      // The UI component is still dirty after process state handlers\n      // then we should rerender\n\n      if (this.shouldUpdate(input, state) !== false) {\n        this.ae_();\n      }\n    }\n\n    this._a_();\n  },\n\n  get ab_() {\n    return (\n      this._R_ === true ||\n      this.J_ !== null && this.J_._R_ === true);\n\n  },\n\n  _a_: function () {\n    this._R_ = false;\n    this.N_ = false;\n    this._O_ = null;\n    var state = this.J_;\n    if (state) {\n      state._a_();\n    }\n  },\n\n  shouldUpdate: function () {\n    return true;\n  },\n\n  ae_: function () {\n    var self = this;\n    var renderer = self.af_;\n\n    if (!renderer) {\n      throw TypeError();\n    }\n\n    var input = this._O_ || this.K_;\n\n    updateManager.ag_(function () {\n      self._n_(input, false).afterInsert(self._b_);\n    });\n\n    this._a_();\n  },\n\n  _n_: function (input, isHydrate) {\n    var host = this._b_;\n    var globalData = this._P_;\n    var rootNode = this._m_;\n    var renderer = this.af_;\n    var createOut = renderer.createOut || defaultCreateOut;\n    var out = createOut(globalData);\n    out.sync();\n    out._b_ = this._b_;\n    out[CONTEXT_KEY] = this.a__;\n\n    var componentsContext = getComponentsContext(out);\n    var globalComponentsContext = componentsContext.f_;\n    globalComponentsContext.ah_ = this;\n    globalComponentsContext.g_ = isHydrate;\n\n    renderer(input, out);\n\n    var result = new RenderResult(out);\n\n    var targetNode = out._M_().ai_;\n\n    morphdom(rootNode, targetNode, host, componentsContext);\n\n    return result;\n  },\n\n  aj_: function () {\n    var root = this._m_;\n    root.remove();\n    return root;\n  },\n\n  _d_: function () {\n    var eventListenerHandles = this._e_;\n    if (eventListenerHandles) {\n      eventListenerHandles.forEach(removeListener);\n      this._e_ = null;\n    }\n  },\n\n  get ak_() {\n    var state = this.J_;\n    return state && state.al_;\n  },\n\n  am_: function (customEvents, scope) {\n    var finalCustomEvents = this.G_ = {};\n    this.H_ = scope;\n\n    customEvents.forEach(function (customEvent) {\n      var eventType = customEvent[0];\n      var targetMethodName = customEvent[1];\n      var isOnce = customEvent[2];\n      var extraArgs = customEvent[3];\n\n      if (targetMethodName) {\n        finalCustomEvents[eventType] = [targetMethodName, isOnce, extraArgs];\n      }\n    });\n  },\n\n  get el() {\n    return walkFragments(this._m_);\n  },\n\n  get els() {\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n    return (this._m_ ? this._m_.nodes : []).filter(function (\n    el)\n    {\n      return el.nodeType === ELEMENT_NODE;\n    });\n  },\n\n  an_: emit,\n  ao_(input, out) {\n    this.onCreate && this.onCreate(input, out);\n    this.an_(\"create\", input, out);\n  },\n\n  ap_(out) {\n    this.onRender && this.onRender(out);\n    this.an_(\"render\", out);\n  },\n\n  _g_() {\n    this.onUpdate && this.onUpdate();\n    this.an_(\"update\");\n  },\n\n  _h_() {\n    this.onMount && this.onMount();\n    this.an_(\"mount\");\n  },\n\n  _U_() {\n    this.onDestroy && this.onDestroy();\n    this.an_(\"destroy\");\n  }\n};\n\ncomponentProto.elId = componentProto.getElId;\ncomponentProto.aq_ = componentProto.update;\ncomponentProto.ar_ = componentProto.destroy;\n\n// Add all of the following DOM methods to Component.prototype:\n// - appendTo(referenceEl)\n// - replace(referenceEl)\n// - replaceChildrenOf(referenceEl)\n// - insertBefore(referenceEl)\n// - insertAfter(referenceEl)\n// - prependTo(referenceEl)\ndomInsert(\ncomponentProto,\nfunction getEl(component) {\n  return component.aj_();\n},\nfunction afterInsert(component) {\n  return component;\n});\n\n\ninherit(Component, EventEmitter);\n\nmodule.exports = Component;","\"use strict\";\n/* jshint newcap:false */\n\nvar BaseState = require(\"./State\");\nvar BaseComponent = require(\"./Component\");\nvar inherit = require(\"raptor-util/inherit\");\n\nmodule.exports = function defineComponent(def, renderer) {\n  if (def.X_) {\n    return def;\n  }\n\n  var ComponentClass = function () {};\n  var proto;\n\n  var type = typeof def;\n\n  if (type == \"function\") {\n    proto = def.prototype;\n  } else if (type == \"object\") {\n    proto = def;\n  } else {\n    throw TypeError();\n  }\n\n  ComponentClass.prototype = proto;\n\n  // We don't use the constructor provided by the user\n  // since we don't invoke their constructor until\n  // we have had a chance to do our own initialization.\n  // Instead, we store their constructor in the \"initComponent\"\n  // property and that method gets called later inside\n  // init-components-browser.js\n  function Component(id) {\n    BaseComponent.call(this, id);\n  }\n\n  if (!proto.X_) {\n    // Inherit from Component if they didn't already\n    inherit(ComponentClass, BaseComponent);\n  }\n\n  // The same prototype will be used by our constructor after\n  // we he have set up the prototype chain using the inherit function\n  proto = Component.prototype = ComponentClass.prototype;\n\n  // proto.constructor = def.constructor = Component;\n\n  // Set a flag on the constructor function to make it clear this is\n  // a component so that we can short-circuit this work later\n  Component.X_ = true;\n\n  function State(component) {\n    BaseState.call(this, component);\n  }\n  inherit(State, BaseState);\n  proto._V_ = State;\n  proto.af_ = renderer;\n\n  return Component;\n};","module.exports = require(\"./src/constants\");","\"use strict\";\n\nvar w10Noop = require(\"warp10/constants\").NOOP;\nvar componentUtil = require(\"@internal/components-util\");\nvar attachBubblingEvent = componentUtil._C_;\nvar addDelegatedEventHandler =\nrequire(\"./event-delegation\").___;\nvar extend = require(\"raptor-util/extend\");\nvar KeySequence = require(\"./KeySequence\");\nvar EMPTY_OBJECT = {};\n\nvar FLAG_WILL_RERENDER_IN_BROWSER = 1;\nvar FLAG_HAS_RENDER_BODY = 2;\n\n/**\n * A ComponentDef is used to hold the metadata collected at runtime for\n * a single component and this information is used to instantiate the component\n * later (after the rendered HTML has been added to the DOM)\n */\nfunction ComponentDef(component, componentId, componentsContext) {\n  this.as_ = componentsContext; // The AsyncWriter that this component is associated with\n  this.i_ = component;\n  this.id = componentId;\n\n  this.O_ = undefined; // An array of DOM events that need to be added (in sets of three)\n\n  this._c_ = false;\n\n  this.B_ = false;\n  this.C_ = 0;\n\n  this.at_ = 0; // The unique integer to use for the next scoped ID\n  this.au_ = null;\n}\n\nComponentDef.prototype = {\n  av_: function (key) {\n    return (\n    this.au_ || (this.au_ = new KeySequence())).av_(\n    key);\n  },\n\n  /**\n   * This helper method generates a unique and fully qualified DOM element ID\n   * that is unique within the scope of the current component.\n   */\n  elId: function (nestedId) {\n    var id = this.id;\n\n    if (nestedId == null) {\n      return id;\n    } else {\n      if (typeof nestedId !== \"string\") {\n        // eslint-disable-next-line no-constant-condition\n\n\n\n\n        nestedId = String(nestedId);\n      }\n\n      if (nestedId.indexOf(\"#\") === 0) {\n        id = \"#\" + id;\n        nestedId = nestedId.substring(1);\n      }\n\n      return id + \"-\" + nestedId;\n    }\n  },\n  /**\n   * Returns the next auto generated unique ID for a nested DOM element or nested DOM component\n   */\n  aw_: function () {\n    return this.id + \"-c\" + this.at_++;\n  },\n\n  d: function (eventName, handlerMethodName, isOnce, extraArgs) {\n    addDelegatedEventHandler(eventName);\n    return attachBubblingEvent(this, handlerMethodName, isOnce, extraArgs);\n  },\n\n  get Y_() {\n    return this.i_.Y_;\n  }\n};\n\nComponentDef.prototype.nk = ComponentDef.prototype.av_;\n\nComponentDef._l_ = function (o, types, global, registry) {\n  var id = o[0];\n  var typeName = types[o[1]];\n  var input = o[2] || null;\n  var extra = o[3] || EMPTY_OBJECT;\n\n  var state = extra.s;\n  var componentProps = extra.w;\n  var flags = extra.f;\n  var component = registry._o_(typeName, id);\n\n  // Prevent newly created component from being queued for update since we area\n  // just building it from the server info\n  component.N_ = true;\n\n  if (flags & FLAG_HAS_RENDER_BODY) {\n    (input || (input = {})).renderBody = w10Noop;\n  }\n\n  if (flags & FLAG_WILL_RERENDER_IN_BROWSER) {\n    if (component.onCreate) {\n      component.onCreate(input, { global: global });\n    }\n    if (component.onInput) {\n      input = component.onInput(input, { global: global }) || input;\n    }\n  } else {\n    if (state) {\n      var undefinedPropNames = extra.u;\n      if (undefinedPropNames) {\n        undefinedPropNames.forEach(function (undefinedPropName) {\n          state[undefinedPropName] = undefined;\n        });\n      }\n      // We go through the setter here so that we convert the state object\n      // to an instance of `State`\n      component.state = state;\n    }\n\n    if (componentProps) {\n      extend(component, componentProps);\n    }\n  }\n\n  component.K_ = input;\n\n  if (extra.b) {\n    component.I_ = extra.b;\n  }\n\n  var scope = extra.p;\n  var customEvents = extra.e;\n  if (customEvents) {\n    component.am_(customEvents, scope);\n  }\n\n  component._P_ = global;\n\n  return {\n    id: id,\n    i_: component,\n    O_: extra.d,\n    C_: extra.f || 0\n  };\n};\n\nmodule.exports = ComponentDef;","\"use strict\";\nvar warp10Finalize = require(\"warp10/finalize\");\nvar queueMicrotask = require(\"../../../runtime/queueMicrotask\");\nvar defineComponent = require(\"../../../runtime/components/defineComponent\");\nvar eventDelegation = require(\"../../../runtime/components/event-delegation\");\nvar createFragmentNode =\nrequire(\"../../../runtime/vdom/morphdom/fragment\").S_;\nvar ComponentDef = require(\"../../../runtime/components/ComponentDef\");\nvar domData = require(\"../../../runtime/components/dom-data\");\nvar componentsUtil = require(\"@internal/components-util\");\nvar componentLookup = componentsUtil.T_;\nvar addComponentRootToKeyedElements =\ncomponentsUtil.U_;\nvar keyedElementsByComponentId = domData.V_;\nvar componentsByDOMNode = domData.W_;\nvar serverComponentRootNodes = {};\nvar serverRenderedMeta = {};\nvar win = window;\n\nvar DEFAULT_RUNTIME_ID = \"M\";\nvar FLAG_WILL_RERENDER_IN_BROWSER = 1;\n// var FLAG_HAS_RENDER_BODY = 2;\n\nvar registered = {};\nvar loaded = {};\nvar componentTypes = {};\nvar deferredDefs;\nvar pendingDefs;\n\nfunction register(type, def) {\n  var pendingForType;\n  if (pendingDefs) {\n    pendingForType = pendingDefs[type];\n  }\n  registered[type] = def;\n  delete loaded[type];\n  delete componentTypes[type];\n\n  if (pendingForType) {\n    delete pendingDefs[type];\n    queueMicrotask(function () {\n      pendingForType.forEach(function (args) {\n        tryHydrateComponent(args[0], args[1], args[2], args[3])();\n      });\n    });\n  }\n\n  return type;\n}\n\nfunction addPendingDef(def, type, meta, host, runtimeId) {\n  if (!pendingDefs) {\n    pendingDefs = {};\n\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n\n\n  }\n  (pendingDefs[type] = pendingDefs[type] || []).push([\n  def,\n  meta,\n  host,\n  runtimeId]);\n\n}\n\nfunction load(typeName) {\n  var target = loaded[typeName];\n  if (!target) {\n    target = registered[typeName];\n\n    if (target) {\n      target = target();\n    }\n\n    if (!target) {\n      throw Error(\"Component not found: \" + typeName);\n    }\n\n    loaded[typeName] = target;\n  }\n\n  return target;\n}\n\nfunction getComponentClass(typeName) {\n  var ComponentClass = componentTypes[typeName];\n\n  if (ComponentClass) {\n    return ComponentClass;\n  }\n\n  ComponentClass = load(typeName);\n\n  ComponentClass = ComponentClass.Component || ComponentClass;\n\n  if (!ComponentClass.X_) {\n    ComponentClass = defineComponent(ComponentClass, ComponentClass.renderer);\n  }\n\n  // Make the component \"type\" accessible on each component instance\n  ComponentClass.prototype.Y_ = typeName;\n\n  // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  componentTypes[typeName] = ComponentClass;\n\n  return ComponentClass;\n}\n\nfunction createComponent(typeName, id) {\n  var ComponentClass = getComponentClass(typeName);\n  return new ComponentClass(id);\n}\n\nfunction indexServerComponentBoundaries(node, runtimeId, stack) {\n  var componentId;\n  var ownerId;\n  var ownerComponent;\n  var keyedElements;\n  var nextSibling;\n  var runtimeLength = runtimeId.length;\n  stack = stack || [];\n\n  node = node.firstChild;\n  while (node) {\n    nextSibling = node.nextSibling;\n    if (node.nodeType === 8) {\n      // Comment node\n      var commentValue = node.nodeValue;\n      if (commentValue.slice(0, runtimeLength) === runtimeId) {\n        var firstChar = commentValue[runtimeLength];\n\n        if (firstChar === \"^\" || firstChar === \"#\") {\n          stack.push(node);\n        } else if (firstChar === \"/\") {\n          var endNode = node;\n          var startNode = stack.pop();\n          var rootNode;\n\n          if (startNode.parentNode === endNode.parentNode) {\n            rootNode = createFragmentNode(startNode.nextSibling, endNode);\n          } else {\n            rootNode = createFragmentNode(\n            endNode.parentNode.firstChild,\n            endNode);\n\n          }\n\n          componentId = startNode.nodeValue.substring(runtimeLength + 1);\n          firstChar = startNode.nodeValue[runtimeLength];\n\n          if (firstChar === \"^\") {\n            var parts = componentId.split(/ /g);\n            var key = parts[2];\n            ownerId = parts[1];\n            componentId = parts[0];\n            if (ownerComponent = componentLookup[ownerId]) {\n              keyedElements = ownerComponent.l_;\n            } else {\n              keyedElements =\n              keyedElementsByComponentId[ownerId] || (\n              keyedElementsByComponentId[ownerId] = {});\n            }\n            addComponentRootToKeyedElements(\n            keyedElements,\n            key,\n            rootNode,\n            componentId);\n\n          }\n\n          serverComponentRootNodes[componentId] = rootNode;\n\n          startNode.parentNode.removeChild(startNode);\n          endNode.parentNode.removeChild(endNode);\n        }\n      }\n    } else if (node.nodeType === 1) {\n      // HTML element node\n      var markoKey = node.getAttribute(\"data-marko-key\");\n      var markoProps = componentsUtil.Z_(node);\n      if (markoKey) {\n        var separatorIndex = markoKey.indexOf(\" \");\n        ownerId = markoKey.substring(separatorIndex + 1);\n        markoKey = markoKey.substring(0, separatorIndex);\n        if (ownerComponent = componentLookup[ownerId]) {\n          keyedElements = ownerComponent.l_;\n        } else {\n          keyedElements =\n          keyedElementsByComponentId[ownerId] || (\n          keyedElementsByComponentId[ownerId] = {});\n        }\n        keyedElements[markoKey] = node;\n      }\n      if (markoProps) {\n        Object.keys(markoProps).forEach(function (key) {\n          if (key.slice(0, 2) === \"on\") {\n            eventDelegation.___(key.slice(2));\n          }\n        });\n      }\n      indexServerComponentBoundaries(node, runtimeId, stack);\n    }\n\n    node = nextSibling;\n  }\n}\n\nfunction invokeComponentEventHandler(component, targetMethodName, args) {\n  var method = component[targetMethodName];\n  if (!method) {\n    throw Error(\"Method not found: \" + targetMethodName);\n  }\n\n  method.apply(component, args);\n}\n\nfunction addEventListenerHelper(el, eventType, isOnce, listener) {\n  var eventListener = listener;\n  if (isOnce) {\n    eventListener = function (event) {\n      listener(event);\n      el.removeEventListener(eventType, eventListener);\n    };\n  }\n\n  el.addEventListener(eventType, eventListener, false);\n\n  return function remove() {\n    el.removeEventListener(eventType, eventListener);\n  };\n}\n\nfunction addDOMEventListeners(\ncomponent,\nel,\neventType,\ntargetMethodName,\nisOnce,\nextraArgs,\nhandles)\n{\n  var removeListener = addEventListenerHelper(\n  el,\n  eventType,\n  isOnce,\n  function (event) {\n    var args = [event, el];\n    if (extraArgs) {\n      args = extraArgs.concat(args);\n    }\n\n    invokeComponentEventHandler(component, targetMethodName, args);\n  });\n\n  handles.push(removeListener);\n}\n\nfunction initComponent(componentDef, host) {\n  var component = componentDef.i_;\n\n  component._a_();\n  component._b_ = host;\n\n  var isExisting = componentDef._c_;\n\n  if (isExisting) {\n    component._d_();\n  }\n\n  var domEvents = componentDef.O_;\n  if (domEvents) {\n    var eventListenerHandles = [];\n\n    domEvents.forEach(function (domEventArgs) {\n      // The event mapping is for a direct DOM event (not a custom event and not for bubblign dom events)\n\n      var eventType = domEventArgs[0];\n      var targetMethodName = domEventArgs[1];\n      var eventEl = component.l_[domEventArgs[2]];\n      var isOnce = domEventArgs[3];\n      var extraArgs = domEventArgs[4];\n\n      addDOMEventListeners(\n      component,\n      eventEl,\n      eventType,\n      targetMethodName,\n      isOnce,\n      extraArgs,\n      eventListenerHandles);\n\n    });\n\n    if (eventListenerHandles.length) {\n      component._e_ = eventListenerHandles;\n    }\n  }\n\n  if (component._f_) {\n    component._g_();\n  } else {\n    component._f_ = true;\n    component._h_();\n  }\n}\n\n/**\n * This method is used to initialized components associated with UI components\n * rendered in the browser. While rendering UI components a \"components context\"\n * is added to the rendering context to keep up with which components are rendered.\n * When ready, the components can then be initialized by walking the component tree\n * in the components context (nested components are initialized before ancestor components).\n * @param  {Array<marko-components/lib/ComponentDef>} componentDefs An array of ComponentDef instances\n */\nfunction initClientRendered(componentDefs, host) {\n  if (!host) host = document;\n  // Ensure that event handlers to handle delegating events are\n  // always attached before initializing any components\n  eventDelegation._i_(host);\n  var len = componentDefs.length;\n  var componentDef;\n  var i;\n\n  for (i = len; i--;) {\n    componentDef = componentDefs[i];\n    trackComponent(componentDef);\n  }\n\n  for (i = len; i--;) {\n    componentDef = componentDefs[i];\n    initComponent(componentDef, host);\n  }\n}\n\n/**\n * This method initializes all components that were rendered on the server by iterating over all\n * of the component IDs.\n */\nfunction initServerRendered(renderedComponents, host) {\n  var type = typeof renderedComponents;\n  var globalKey = \"$\";\n  var runtimeId;\n\n  if (type !== \"object\") {\n    if (type === \"string\") {\n      runtimeId = renderedComponents;\n      globalKey += runtimeId + \"_C\";\n    } else {\n      globalKey += (runtimeId = DEFAULT_RUNTIME_ID) + \"C\";\n    }\n\n    renderedComponents = win[globalKey];\n\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n\n\n\n\n    var fakeArray = win[globalKey] = {\n      r: runtimeId,\n      concat: initServerRendered\n    };\n\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n    if (renderedComponents && renderedComponents.forEach) {\n      renderedComponents.forEach(function (renderedComponent) {\n        fakeArray.concat(renderedComponent);\n      });\n    }\n\n    return fakeArray;\n  }\n\n  var isFromSerializedGlobals = this.concat === initServerRendered;\n  renderedComponents = warp10Finalize(renderedComponents);\n\n  if (isFromSerializedGlobals) {\n    runtimeId = this.r;\n    host = document;\n  } else {\n    runtimeId = renderedComponents.r || DEFAULT_RUNTIME_ID;\n    if (!host) host = document;\n\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n  }\n\n  // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n  var prefix = renderedComponents.p || \"\";\n  var meta = serverRenderedMeta[prefix];\n  var isLast = renderedComponents.l;\n\n  if (meta) {\n    if (isLast) {\n      delete serverRenderedMeta[prefix];\n    }\n  } else {\n    meta = {};\n\n    if (!isLast) {\n      serverRenderedMeta[prefix] = meta;\n    }\n  }\n\n  // Ensure that event handlers to handle delegating events are\n  // always attached before initializing any components\n  indexServerComponentBoundaries(host, runtimeId);\n  eventDelegation._i_(host);\n\n  if (renderedComponents.g) {\n    meta._j_ = renderedComponents.g;\n  }\n\n  if (renderedComponents.t) {\n    meta._k_ = meta._k_ ?\n    meta._k_.concat(renderedComponents.t) :\n    renderedComponents.t;\n  }\n\n  // hydrate components top down (leaf nodes last)\n  // and return an array of functions to mount these components\n  (renderedComponents.w || []).\n  map(function (componentDef) {\n    var typeName = meta._k_[componentDef[1]];\n\n    return registered[typeName] ?\n    tryHydrateComponent(componentDef, meta, host, runtimeId) :\n    addPendingDef(componentDef, typeName, meta, host, runtimeId);\n  }).\n  reverse().\n  forEach(tryInvoke);\n\n  return this;\n}\n\nfunction tryHydrateComponent(rawDef, meta, host, runtimeId) {\n  var componentDef = ComponentDef._l_(\n  rawDef,\n  meta._k_,\n  meta._j_,\n  exports);\n\n  var mount = hydrateComponentAndGetMount(componentDef, host);\n\n  if (!mount) {\n    // hydrateComponentAndGetMount will return false if there is not rootNode\n    // for the component.  If this is the case, we'll wait until the\n    // DOM has fully loaded to attempt to init the component again.\n    if (deferredDefs) {\n      deferredDefs.push(componentDef);\n    } else {\n      deferredDefs = [componentDef];\n      document.addEventListener(\"DOMContentLoaded\", function () {\n        indexServerComponentBoundaries(host, runtimeId);\n        deferredDefs.\n        map(function (componentDef) {\n          return hydrateComponentAndGetMount(componentDef, host);\n        }).\n        reverse().\n        forEach(tryInvoke);\n        deferredDefs = undefined;\n      });\n    }\n  }\n\n  return mount;\n}\n\nfunction hydrateComponentAndGetMount(componentDef, host) {\n  var componentId = componentDef.id;\n  var component = componentDef.i_;\n  var rootNode = serverComponentRootNodes[componentId];\n  var renderResult;\n\n  if (rootNode) {\n    delete serverComponentRootNodes[componentId];\n\n    component._m_ = rootNode;\n    componentsByDOMNode.set(rootNode, component);\n\n    if (componentDef.C_ & FLAG_WILL_RERENDER_IN_BROWSER) {\n      component._b_ = host;\n      renderResult = component._n_(component.K_, true);\n      trackComponent(componentDef);\n      return function mount() {\n        renderResult.afterInsert(host);\n      };\n    } else {\n      trackComponent(componentDef);\n    }\n\n    return function mount() {\n      initComponent(componentDef, host);\n    };\n  }\n}\n\nfunction trackComponent(componentDef) {\n  var component = componentDef.i_;\n  if (component) {\n    componentLookup[component.id] = component;\n  }\n}\n\nfunction tryInvoke(fn) {\n  if (fn) fn();\n}\n\nexports.r = register;\nexports._o_ = createComponent;\nexports._p_ = getComponentClass;\nexports.F_ = win.$initComponents = initServerRendered;\n\nrequire(\"../../../runtime/components/ComponentsContext\")._q_ = initClientRendered;","\"use strict\";var registry = require(\"@internal/components-registry\");\n\nexports.getComponentForEl = require(\"@internal/components-util\").E_;\nexports.init = registry.F_;\nexports.register = function (id, component) {\n  registry.r(id, function () {\n    return component;\n  });\n};","\"use strict\";module.exports = require(\"@internal/components-entry\");","\"use strict\";\n\nmodule.exports = function classHelper(arg) {\n  switch (typeof arg) {\n    case \"string\":\n      return arg || null;\n    case \"object\":\n      var result = \"\";\n      var sep = \"\";\n\n      if (Array.isArray(arg)) {\n        for (var i = 0, len = arg.length; i < len; i++) {\n          var value = classHelper(arg[i]);\n          if (value) {\n            result += sep + value;\n            sep = \" \";\n          }\n        }\n      } else {\n        for (var key in arg) {\n          if (arg[key]) {\n            result += sep + key;\n            sep = \" \";\n          }\n        }\n      }\n\n      return result || null;\n\n    default:\n      return null;}\n\n};","\"use strict\";\n\nvar camelToDashLookup = Object.create(null);\nvar dashToCamelLookup = Object.create(null);\n\n/**\n * Helper for converting camelCase to dash-case.\n */\nexports.aM_ = function camelToDashCase(name) {\n  var nameDashed = camelToDashLookup[name];\n  if (!nameDashed) {\n    nameDashed = camelToDashLookup[name] = name.\n    replace(/([A-Z])/g, \"-$1\").\n    toLowerCase();\n\n    if (nameDashed !== name) {\n      dashToCamelLookup[nameDashed] = name;\n    }\n  }\n\n  return nameDashed;\n};\n\n/**\n * Helper for converting dash-case to camelCase.\n */\nexports.aN_ = function dashToCamelCase(name) {\n  var nameCamel = dashToCamelLookup[name];\n  if (!nameCamel) {\n    nameCamel = dashToCamelLookup[name] = name.replace(\n    /-([a-z])/g,\n    matchToUpperCase);\n\n\n    if (nameCamel !== name) {\n      camelToDashLookup[nameCamel] = name;\n    }\n  }\n\n  return nameCamel;\n};\n\nfunction matchToUpperCase(_, char) {\n  return char.toUpperCase();\n}","\"use strict\";\n\nvar changeCase = require(\"./_change-case\");\n\n/**\n * Helper for generating the string for a style attribute\n */\nmodule.exports = function styleHelper(style) {\n  if (!style) {\n    return null;\n  }\n\n  var type = typeof style;\n\n  if (type !== \"string\") {\n    var styles = \"\";\n\n    if (Array.isArray(style)) {\n      for (var i = 0, len = style.length; i < len; i++) {\n        var next = styleHelper(style[i]);\n        if (next) styles += next + (next[next.length - 1] !== \";\" ? \";\" : \"\");\n      }\n    } else if (type === \"object\") {\n      for (var name in style) {\n        var value = style[name];\n        if (value != null && value !== false) {\n          if (typeof value === \"number\" && value) {\n            value += \"px\";\n          }\n\n          styles += changeCase.aM_(name) + \":\" + value + \";\";\n        }\n      }\n    }\n\n    return styles || null;\n  }\n\n  return style;\n};","\"use strict\";\n\nvar classHelper = require(\"../../helpers/class-value\");\nvar styleHelper = require(\"../../helpers/style-value\");\n\n/**\n * Helper for processing dynamic attributes\n */\nmodule.exports = function (attributes) {\n  if (attributes != null) {\n    // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n    var newAttributes = {};\n\n    for (var attrName in attributes) {\n      var val = attributes[attrName];\n      if (attrName === \"renderBody\") {\n        continue;\n      }\n\n      if (attrName === \"class\") {\n        val = classHelper(val);\n      } else if (attrName === \"style\") {\n        val = styleHelper(val);\n      }\n\n      newAttributes[attrName] = val;\n    }\n\n    return newAttributes;\n  }\n\n  return attributes;\n};","\"use strict\";var EventEmitter = require(\"events-light\");\nvar vdom = require(\"./vdom\");\nvar VElement = vdom.aZ_;\nvar VDocumentFragment = vdom.b__;\nvar VText = vdom.ba_;\nvar VComponent = vdom.bb_;\nvar VFragment = vdom.bc_;\nvar virtualizeHTML = vdom.bd_;\nvar RenderResult = require(\"../RenderResult\");\nvar morphdom = require(\"./morphdom\");\nvar attrsHelper = require(\"./helpers/attrs\");\n\nvar EVENT_UPDATE = \"update\";\nvar EVENT_FINISH = \"finish\";\n\nfunction State(tree) {\n  this.be_ = new EventEmitter();\n  this.bf_ = tree;\n  this.bg_ = false;\n}\n\nfunction AsyncVDOMBuilder(globalData, parentNode, parentOut) {\n  if (!parentNode) {\n    parentNode = new VDocumentFragment();\n  }\n\n  var state;\n\n  if (parentOut) {\n    state = parentOut.J_;\n  } else {\n    state = new State(parentNode);\n  }\n\n  this.bh_ = 1;\n  this.bi_ = 0;\n  this.bj_ = null;\n  this.bk_ = parentOut;\n\n  this.data = {};\n  this.J_ = state;\n  this.m_ = parentNode;\n  this.global = globalData || {};\n  this.bl_ = [parentNode];\n  this.bm_ = false;\n  this.bn_ = undefined;\n  this.b_ = null;\n\n  this.h_ = null;\n  this.j_ = null;\n  this.aF_ = null;\n}\n\nvar proto = AsyncVDOMBuilder.prototype = {\n  aT_: true,\n  _b_: typeof document === \"object\" && document,\n\n  bc: function (component, key, ownerComponent) {\n    var vComponent = new VComponent(component, key, ownerComponent);\n    return this.bo_(vComponent, 0, true);\n  },\n\n  aG_: function (component, key, ownerComponent) {\n    var vComponent = new VComponent(component, key, ownerComponent, true);\n    this.bo_(vComponent, 0);\n  },\n\n  bo_: function (child, childCount, pushToStack) {\n    this.m_.bp_(child);\n    if (pushToStack === true) {\n      this.bl_.push(child);\n      this.m_ = child;\n    }\n    return childCount === 0 ? this : child;\n  },\n\n  element: function (tagName, attrs, key, component, childCount, flags, props) {\n    var element = new VElement(\n    tagName,\n    attrs,\n    key,\n    component,\n    childCount,\n    flags,\n    props);\n\n    return this.bo_(element, childCount);\n  },\n\n  aQ_: function (tagName, attrs, key, componentDef, props) {\n    return this.element(\n    tagName,\n    attrsHelper(attrs),\n    key,\n    componentDef.i_,\n    0,\n    0,\n    props);\n\n  },\n\n  n: function (node, component) {\n    // NOTE: We do a shallow clone since we assume the node is being reused\n    //       and a node can only have one parent node.\n    var clone = node.bq_();\n    this.node(clone);\n    clone._v_ = component;\n\n    return this;\n  },\n\n  node: function (node) {\n    this.m_.bp_(node);\n    return this;\n  },\n\n  text: function (text, ownerComponent) {\n    var type = typeof text;\n\n    if (type != \"string\") {\n      if (text == null) {\n        return;\n      } else if (type === \"object\") {\n        if (text.toHTML) {\n          return this.h(text.toHTML(), ownerComponent);\n        }\n      }\n\n      text = text.toString();\n    }\n\n    this.m_.bp_(new VText(text, ownerComponent));\n    return this;\n  },\n\n  html: function (html, ownerComponent) {\n    if (html != null) {\n      var vdomNode = virtualizeHTML(html, ownerComponent);\n      this.node(vdomNode);\n    }\n\n    return this;\n  },\n\n  beginElement: function (\n  tagName,\n  attrs,\n  key,\n  component,\n  childCount,\n  flags,\n  props)\n  {\n    var element = new VElement(\n    tagName,\n    attrs,\n    key,\n    component,\n    childCount,\n    flags,\n    props);\n\n    this.bo_(element, childCount, true);\n    return this;\n  },\n\n  aO_: function (tagName, attrs, key, componentDef, props) {\n    return this.beginElement(\n    tagName,\n    attrsHelper(attrs),\n    key,\n    componentDef.i_,\n    0,\n    0,\n    props);\n\n  },\n\n  bf: function (key, component, preserve) {\n    var fragment = new VFragment(key, component, preserve);\n    this.bo_(fragment, null, true);\n    return this;\n  },\n\n  ef: function () {\n    this.endElement();\n  },\n\n  endElement: function () {\n    var stack = this.bl_;\n    stack.pop();\n    this.m_ = stack[stack.length - 1];\n  },\n\n  end: function () {\n    this.m_ = undefined;\n\n    var remaining = --this.bh_;\n    var parentOut = this.bk_;\n\n    if (remaining === 0) {\n      if (parentOut) {\n        parentOut.br_();\n      } else {\n        this.bs_();\n      }\n    } else if (remaining - this.bi_ === 0) {\n      this.bt_();\n    }\n\n    return this;\n  },\n\n  br_: function () {\n    var remaining = --this.bh_;\n\n    if (remaining === 0) {\n      var parentOut = this.bk_;\n      if (parentOut) {\n        parentOut.br_();\n      } else {\n        this.bs_();\n      }\n    } else if (remaining - this.bi_ === 0) {\n      this.bt_();\n    }\n  },\n\n  bs_: function () {\n    var state = this.J_;\n    state.bg_ = true;\n    state.be_.emit(EVENT_FINISH, this.aU_());\n  },\n\n  bt_: function () {\n    var lastArray = this._last;\n\n    var i = 0;\n\n    function next() {\n      if (i === lastArray.length) {\n        return;\n      }\n      var lastCallback = lastArray[i++];\n      lastCallback(next);\n\n      if (!lastCallback.length) {\n        next();\n      }\n    }\n\n    next();\n  },\n\n  error: function (e) {\n    try {\n      this.emit(\"error\", e);\n    } finally {\n      // If there is no listener for the error event then it will\n      // throw a new Error here. In order to ensure that the async fragment\n      // is still properly ended we need to put the end() in a `finally`\n      // block\n      this.end();\n    }\n\n    return this;\n  },\n\n  beginAsync: function (options) {\n    if (this.bm_) {\n      throw Error(\n      \"Tried to render async while in sync mode. Note: Client side await is not currently supported in re-renders (Issue: #942).\");\n\n    }\n\n    var state = this.J_;\n\n    if (options) {\n      if (options.last) {\n        this.bi_++;\n      }\n    }\n\n    this.bh_++;\n\n    var documentFragment = this.m_.bu_();\n    var asyncOut = new AsyncVDOMBuilder(this.global, documentFragment, this);\n\n    state.be_.emit(\"beginAsync\", {\n      out: asyncOut,\n      parentOut: this\n    });\n\n    return asyncOut;\n  },\n\n  createOut: function () {\n    return new AsyncVDOMBuilder(this.global);\n  },\n\n  flush: function () {\n    var events = this.J_.be_;\n\n    if (events.listenerCount(EVENT_UPDATE)) {\n      events.emit(EVENT_UPDATE, new RenderResult(this));\n    }\n  },\n\n  _M_: function () {\n    return this.J_.bf_;\n  },\n\n  aU_: function () {\n    return this.bv_ || (this.bv_ = new RenderResult(this));\n  },\n\n  on: function (event, callback) {\n    var state = this.J_;\n\n    if (event === EVENT_FINISH && state.bg_) {\n      callback(this.aU_());\n    } else if (event === \"last\") {\n      this.onLast(callback);\n    } else {\n      state.be_.on(event, callback);\n    }\n\n    return this;\n  },\n\n  once: function (event, callback) {\n    var state = this.J_;\n\n    if (event === EVENT_FINISH && state.bg_) {\n      callback(this.aU_());\n    } else if (event === \"last\") {\n      this.onLast(callback);\n    } else {\n      state.be_.once(event, callback);\n    }\n\n    return this;\n  },\n\n  emit: function (type, arg) {\n    var events = this.J_.be_;\n    switch (arguments.length) {\n      case 1:\n        events.emit(type);\n        break;\n      case 2:\n        events.emit(type, arg);\n        break;\n      default:\n        events.emit.apply(events, arguments);\n        break;}\n\n    return this;\n  },\n\n  removeListener: function () {\n    var events = this.J_.be_;\n    events.removeListener.apply(events, arguments);\n    return this;\n  },\n\n  sync: function () {\n    this.bm_ = true;\n  },\n\n  isSync: function () {\n    return this.bm_;\n  },\n\n  onLast: function (callback) {\n    var lastArray = this._last;\n\n    if (lastArray === undefined) {\n      this._last = [callback];\n    } else {\n      lastArray.push(callback);\n    }\n\n    return this;\n  },\n\n  _L_: function (host) {\n    var node = this.bn_;\n    if (!node) {\n      var vdomTree = this._M_();\n\n      if (!host) host = this._b_;\n      this.bn_ = node = vdomTree.bw_(host, null);\n      morphdom(node, vdomTree, host, this.b_);\n    }\n    return node;\n  },\n\n  toString: function (host) {\n    var docFragment = this._L_(host);\n    var html = \"\";\n\n    var child = docFragment.firstChild;\n    while (child) {\n      var nextSibling = child.nextSibling;\n      if (child.nodeType != 1) {\n        var container = docFragment.ownerDocument.createElement(\"div\");\n        container.appendChild(child.cloneNode());\n        html += container.innerHTML;\n      } else {\n        html += child.outerHTML;\n      }\n\n      child = nextSibling;\n    }\n\n    return html;\n  },\n\n  then: function (fn, fnErr) {\n    var out = this;\n    var promise = new Promise(function (resolve, reject) {\n      out.on(\"error\", reject).on(EVENT_FINISH, function (result) {\n        resolve(result);\n      });\n    });\n\n    return Promise.resolve(promise).then(fn, fnErr);\n  },\n\n  catch: function (fnErr) {\n    return this.then(undefined, fnErr);\n  },\n\n  isVDOM: true,\n\n  c: function (componentDef, key, customEvents) {\n    this.h_ = componentDef;\n    this.j_ = key;\n    this.aF_ = customEvents;\n  }\n};\n\nproto.e = proto.element;\nproto.be = proto.beginElement;\nproto.ee = proto.aP_ = proto.endElement;\nproto.t = proto.text;\nproto.h = proto.w = proto.write = proto.html;\n\nmodule.exports = AsyncVDOMBuilder;","\"use strict\";var defaultCreateOut = require(\"./createOut\");\nvar setImmediate = require(\"@internal/set-immediate\")._I_;\nvar extend = require(\"raptor-util/extend\");\n\nfunction safeRender(renderFunc, finalData, finalOut, shouldEnd) {\n  try {\n    renderFunc(finalData, finalOut);\n\n    if (shouldEnd) {\n      finalOut.end();\n    }\n  } catch (err) {\n    var actualEnd = finalOut.end;\n    finalOut.end = function () {};\n\n    setImmediate(function () {\n      finalOut.end = actualEnd;\n      finalOut.error(err);\n    });\n  }\n  return finalOut;\n}\n\nmodule.exports = function (target, renderer) {\n  var renderFunc =\n  renderer && (renderer.renderer || renderer.render || renderer);\n  var createOut = target.createOut || renderer.createOut || defaultCreateOut;\n\n  return extend(target, {\n    createOut: createOut,\n\n    renderToString: function (data, callback) {\n      var localData = data || {};\n      var render = renderFunc || this._;\n      var globalData = localData.$global;\n      var out = createOut(globalData);\n\n      out.global.template = this;\n\n      if (globalData) {\n        localData.$global = undefined;\n      }\n\n      if (callback) {\n        out.\n        on(\"finish\", function () {\n          callback(null, out.toString(), out);\n        }).\n        once(\"error\", callback);\n\n        return safeRender(render, localData, out, true);\n      } else {\n        out.sync();\n        render(localData, out);\n        return out.toString();\n      }\n    },\n\n    renderSync: function (data) {\n      var localData = data || {};\n      var render = renderFunc || this._;\n      var globalData = localData.$global;\n      var out = createOut(globalData);\n      out.sync();\n\n      out.global.template = this;\n\n      if (globalData) {\n        localData.$global = undefined;\n      }\n\n      render(localData, out);\n      return out.aU_();\n    },\n\n    /**\n     * Renders a template to either a stream (if the last\n     * argument is a Stream instance) or\n     * provides the output to a callback function (if the last\n     * argument is a Function).\n     *\n     * Supported signatures:\n     *\n     * render(data)\n     * render(data, out)\n     * render(data, stream)\n     * render(data, callback)\n     *\n     * @param  {Object} data The view model data for the template\n     * @param  {AsyncStream/AsyncVDOMBuilder} out A Stream, an AsyncStream/AsyncVDOMBuilder instance, or a callback function\n     * @return {AsyncStream/AsyncVDOMBuilder} Returns the AsyncStream/AsyncVDOMBuilder instance that the template is rendered to\n     */\n    render: function (data, out) {\n      var callback;\n      var finalOut;\n      var finalData;\n      var globalData;\n      var render = renderFunc || this._;\n      var shouldBuffer = this._E_;\n      var shouldEnd = true;\n\n      if (data) {\n        finalData = data;\n        if (globalData = data.$global) {\n          finalData.$global = undefined;\n        }\n      } else {\n        finalData = {};\n      }\n\n      if (out && out.aT_) {\n        finalOut = out;\n        shouldEnd = false;\n        extend(out.global, globalData);\n      } else if (typeof out == \"function\") {\n        finalOut = createOut(globalData);\n        callback = out;\n      } else {\n        finalOut = createOut(\n        globalData, // global\n        out, // writer(AsyncStream) or parentNode(AsyncVDOMBuilder)\n        undefined, // parentOut\n        shouldBuffer // ignored by AsyncVDOMBuilder\n        );\n      }\n\n      if (callback) {\n        finalOut.\n        on(\"finish\", function () {\n          callback(null, finalOut.aU_());\n        }).\n        once(\"error\", callback);\n      }\n\n      globalData = finalOut.global;\n\n      globalData.template = globalData.template || this;\n\n      return safeRender(render, finalData, finalOut, shouldEnd);\n    }\n  });\n};","\"use strict\";\n\nwindow.Marko = {\n  Component: function () {}\n};\n\n/**\n * Method is for internal usage only. This method\n * is invoked by code in a compiled Marko template and\n * it is used to create a new Template instance.\n * @private\n */\nexports.t = function createTemplate(typeName) {\n  return new Template(typeName);\n};\n\nfunction Template(typeName) {\n  this.aY_ = typeName;\n}\n\nvar AsyncVDOMBuilder = require(\"./AsyncVDOMBuilder\");\nrequire(\"../createOut\").aI_(\nTemplate.prototype.createOut = function createOut(\nglobalData,\nparent,\nparentOut)\n{\n  return new AsyncVDOMBuilder(globalData, parent, parentOut);\n});\n\n\nrequire(\"../renderable\")(Template.prototype);","\"use strict\";\n\nvar VElement = require(\"../vdom\").aZ_;\n\nmodule.exports = function (\ntagName,\nattrs,\nkey,\ncomponent,\nchildCount,\nflags,\nprops)\n{\n  return new VElement(tagName, attrs, key, component, childCount, flags, props);\n};","\"use strict\";var ComponentDef = require(\"../../../runtime/components/ComponentDef\");\n\nmodule.exports = function beginComponent(\ncomponentsContext,\ncomponent,\nkey,\nownerComponentDef)\n{\n  var componentId = component.id;\n  var componentDef = componentsContext.k_ = new ComponentDef(\n  component,\n  componentId,\n  componentsContext);\n\n  componentsContext.f_.z_[\n  componentId] =\n  true;\n  componentsContext.b_.push(componentDef);\n\n  var out = componentsContext.A_;\n  out.bc(component, key, ownerComponentDef && ownerComponentDef.i_);\n  return componentDef;\n};","\"use strict\";\n\nmodule.exports = function endComponent(out) {\n  out.ee(); // endElement() (also works for VComponent nodes pushed on to the stack)\n};","\"use strict\";var componentsUtil = require(\"@internal/components-util\");\nvar componentLookup = componentsUtil.T_;\n\nvar ComponentsContext = require(\"./ComponentsContext\");\nvar getComponentsContext = ComponentsContext.e_;\nvar registry = require(\"@internal/components-registry\");\nvar copyProps = require(\"raptor-util/copyProps\");\nvar isServer = componentsUtil._r_ === true;\nvar beginComponent = require(\"@internal/components-beginComponent\");\nvar endComponent = require(\"@internal/components-endComponent\");\n\nvar COMPONENT_BEGIN_ASYNC_ADDED_KEY = \"$wa\";\n\nfunction resolveComponentKey(key, parentComponentDef) {\n  if (key[0] === \"#\") {\n    return key.substring(1);\n  } else {\n    return parentComponentDef.id + \"-\" + parentComponentDef.av_(key);\n  }\n}\n\nfunction trackAsyncComponents(out) {\n  if (out.isSync() || out.global[COMPONENT_BEGIN_ASYNC_ADDED_KEY]) {\n    return;\n  }\n\n  out.on(\"beginAsync\", handleBeginAsync);\n  out.on(\"beginDetachedAsync\", handleBeginDetachedAsync);\n  out.global[COMPONENT_BEGIN_ASYNC_ADDED_KEY] = true;\n}\n\nfunction handleBeginAsync(event) {\n  var parentOut = event.parentOut;\n  var asyncOut = event.out;\n  var componentsContext = parentOut.b_;\n\n  if (componentsContext !== undefined) {\n    // We are going to start a nested ComponentsContext\n    asyncOut.b_ = new ComponentsContext(asyncOut, componentsContext);\n  }\n  // Carry along the component arguments\n  asyncOut.c(\n  parentOut.h_,\n  parentOut.j_,\n  parentOut.aF_);\n\n}\n\nfunction handleBeginDetachedAsync(event) {\n  var asyncOut = event.out;\n  handleBeginAsync(event);\n  asyncOut.on(\"beginAsync\", handleBeginAsync);\n  asyncOut.on(\"beginDetachedAsync\", handleBeginDetachedAsync);\n}\n\nfunction createRendererFunc(\ntemplateRenderFunc,\ncomponentProps,\nrenderingLogic)\n{\n  var onInput = renderingLogic && renderingLogic.onInput;\n  var typeName = componentProps.t;\n  var isSplit = componentProps.s === true;\n  var isImplicitComponent = componentProps.i === true;\n\n  var shouldApplySplitMixins = renderingLogic && isSplit;\n\n  // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n  if (componentProps.d) {\n    throw new Error(\"Runtime/NODE_ENV Mismatch\");\n  }\n\n  return function renderer(input, out) {\n    trackAsyncComponents(out);\n\n    var componentsContext = getComponentsContext(out);\n    var globalComponentsContext = componentsContext.f_;\n\n    var component = globalComponentsContext.ah_;\n    var isRerender = component !== undefined;\n    var id;\n    var isExisting;\n    var customEvents;\n    var parentComponentDef = componentsContext.k_;\n    var ownerComponentDef = out.h_;\n    var ownerComponentId = ownerComponentDef && ownerComponentDef.id;\n    var key = out.j_;\n\n    if (component) {\n      // If component is provided then we are currently rendering\n      // the top-level UI component as part of a re-render\n      id = component.id; // We will use the ID of the component being re-rendered\n      isExisting = true; // This is a re-render so we know the component is already in the DOM\n      globalComponentsContext.ah_ = null;\n    } else {\n      // Otherwise, we are rendering a nested UI component. We will need\n      // to match up the UI component with the component already in the\n      // DOM (if any) so we will need to resolve the component ID from\n      // the assigned key. We also need to handle any custom event bindings\n      // that were provided.\n      if (parentComponentDef) {\n        // console.log('componentArgs:', componentArgs);\n        customEvents = out.aF_;\n\n        if (key != null) {\n          id = resolveComponentKey(key.toString(), parentComponentDef);\n        } else {\n          id = parentComponentDef.aw_();\n        }\n      } else {\n        id = globalComponentsContext.aw_();\n      }\n    }\n\n    if (isServer) {\n      // If we are rendering on the server then things are simplier since\n      // we don't need to match up the UI component with a previously\n      // rendered component already mounted to the DOM. We also create\n      // a lightweight ServerComponent\n      component = registry._o_(\n      renderingLogic,\n      id,\n      input,\n      out,\n      typeName,\n      customEvents,\n      ownerComponentId);\n\n\n      // This is the final input after running the lifecycle methods.\n      // We will be passing the input to the template for the `input` param\n      input = component.M_;\n    } else {\n      if (!component) {\n        if (\n        isRerender && (\n        component = componentLookup[id]) &&\n        component.Y_ !== typeName)\n        {\n          // Destroy the existing component since\n          component.destroy();\n          component = undefined;\n        }\n\n        if (component) {\n          isExisting = true;\n        } else {\n          isExisting = false;\n          // We need to create a new instance of the component\n          component = registry._o_(typeName, id);\n\n          if (shouldApplySplitMixins === true) {\n            shouldApplySplitMixins = false;\n\n            var renderingLogicProps =\n            typeof renderingLogic == \"function\" ?\n            renderingLogic.prototype :\n            renderingLogic;\n\n            copyProps(renderingLogicProps, component.constructor.prototype);\n          }\n        }\n\n        // Set this flag to prevent the component from being queued for update\n        // based on the new input. The component is about to be rerendered\n        // so we don't want to queue it up as a result of calling `setInput()`\n        component.N_ = true;\n\n        if (customEvents !== undefined) {\n          component.am_(customEvents, ownerComponentId);\n        }\n\n        if (isExisting === false) {\n          component.ao_(input, out);\n        }\n\n        input = component._Z_(input, onInput, out);\n\n        if (isExisting === true) {\n          if (\n          component.ab_ === false ||\n          component.shouldUpdate(input, component.J_) === false)\n          {\n            // We put a placeholder element in the output stream to ensure that the existing\n            // DOM node is matched up correctly when using morphdom. We flag the VElement\n            // node to track that it is a preserve marker\n            out.aG_(component);\n            globalComponentsContext.z_[id] = true;\n            component._a_(); // The component is no longer dirty so reset internal flags\n            return;\n          }\n        }\n      }\n\n      component._P_ = out.global;\n      component.ap_(out);\n    }\n\n    var componentDef = beginComponent(\n    componentsContext,\n    component,\n    key,\n    ownerComponentDef,\n    isSplit,\n    isImplicitComponent);\n\n\n    componentDef._c_ = isExisting;\n\n    // Render the template associated with the component using the final template\n    // data that we constructed\n    templateRenderFunc(\n    input,\n    out,\n    componentDef,\n    component,\n    component.ak_,\n    out.global);\n\n\n    endComponent(out, componentDef);\n    componentsContext.k_ = parentComponentDef;\n  };\n}\n\nmodule.exports = createRendererFunc;","\"use strict\";module.exports = require(\"@internal/components-registry\");","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\" aria-hidden=\"true\">\n  <path d=\"M796-121 533-384q-30 26-69.959 40.5T378-329q-108.162 0-183.081-75Q120-479 120-585t75-181q75-75 181.5-75t181 75Q632-691 632-584.85 632-542 618-502q-14 40-42 75l264 262-44 44ZM377-389q81.25 0 138.125-57.5T572-585q0-81-56.875-138.5T377-781q-82.083 0-139.542 57.5Q180-666 180-585t57.458 138.5Q294.917-389 377-389Z\"/>\n</svg>","\"use strict\";\n\n/**\n * Helper to render a custom tag\n */\nmodule.exports = function renderTagHelper(\nhandler,\ninput,\nout,\ncomponentDef,\nkey,\ncustomEvents)\n{\n  out.c(componentDef, key, customEvents);\n  (handler._ || (handler._ = handler.render || handler.renderer || handler))(\n  input,\n  out);\n\n  out.h_ = null;\n};","/**\n * Future enhancements:\n * - typeahead with previews\n */\n\nclass {\n   onSubmit(event) {\n    event.preventDefault();\n    const searchTerm = document.getElementById('search').value;\n    if (searchTerm && searchTerm.length > 1) {\n      this.emit(\"submit-search\", searchTerm);\n    }\n  }\n}\n\nstyle {\n  .searchBar {\n    display: grid;\n    align-items: center;\n    grid-template-columns: 1fr 5rem;\n    gap: 2px;\n  }\n\n  .searchBar input, .searchBar button {\n    font-size: 18px;\n    font-family: var(--base-font-family);\n    border: var(--border-weight) solid var(--border-color1);\n    color: var(--header-color);\n  }\n\n  .searchBar input {\n    height: 3rem;\n\n    background-color: var(--app-bg);\n    border-radius: var(--border-radius--round) 0 0 var(--border-radius--round);\n\n    padding: var(--spacing--s) var(--spacing--m);\n  }\n\n  .searchBar input::placeholder {\n    color: var(--focus-color);\n  }\n\n    /* Hide default clear button */\n  .searchBar input::-webkit-search-cancel-button {\n    -webkit-appearance: none;\n  }\n\n  .searchBar button {\n    display: flex;\n    align-items: stretch;\n    background-color: var(--app-bg);\n\n    border-color: transparent;\n    border-radius:  0 var(--border-radius--round) var(--border-radius--round) 0;\n    padding: var(--spacing--s);\n  }\n\n\n\n  .searchBar svg {\n    height: 2rem;\n  }\n\n  @media (max-width: 850px) {\n    .searchBar {\n      grid-template-columns: 1fr 3rem;\n    }\n  }\n}\n\n<form.searchBar on-submit('onSubmit')>\n  <input#search type=\"search\" aria-label=\"Search\" placeholder=\"Search gifs...\"/>\n  <button type=\"submit\" aria-label=\"Submit Search\">\n    <icon-mag/>\n  </button>\n</form>","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\" aria-hidden=\"true\">\n  <path d=\"M332.976-213.128Q322-207 310-211.5q-12-4.5-17-15.5l-60-120q-5-11-1.5-23t14.5-17q11-5 23.5-1.5T287-374l60 120q5 11 .976 22.872-4.025 11.873-15 18Zm360 0Q682-207 670-211.5q-12-4.5-17-15.5L473-587q-5-11-1.5-23t14.5-17q11-5 23.5-1.5T527-614l180 360q5 11 .976 22.872-4.025 11.873-15 18ZM509.825-210Q497-210 488.5-218.675q-8.5-8.676-8.5-21.5 0-12.825 8.675-21.325 8.676-8.5 21.5-8.5 12.825 0 21.325 8.675 8.5 8.676 8.5 21.5 0 12.825-8.675 21.325-8.676 8.5-21.5 8.5Zm383.151-3.128Q882-207 870-211.5q-12-4.5-17-15.5l-20-40q-5-11-1.5-23t14.5-17q11-5 23.5-1.5T887-294l20 40q5 11 .976 22.872-4.025 11.873-15 18Zm-440-120Q442-327 430-331q-12-4-17-15L233-706q-5-11-1.5-23.5T246-747q11-5 23.5-1.5T287-734l180 360q5 11 .976 22.872-4.025 11.873-15 18ZM799.825-370Q787-370 778.5-378.675q-8.5-8.676-8.5-21.5 0-12.825 8.675-21.325 8.676-8.5 21.5-8.5 12.825 0 21.325 8.675 8.5 8.676 8.5 21.5 0 12.825-8.675 21.325-8.676 8.5-21.5 8.5Zm-600-80Q187-450 178.5-458.675q-8.5-8.676-8.5-21.5 0-12.825 8.675-21.325 8.676-8.5 21.5-8.5 12.825 0 21.325 8.675 8.5 8.676 8.5 21.5 0 12.825-8.675 21.325-8.676 8.5-21.5 8.5Zm553.151-43.128Q742-487 730.5-491.5 719-496 713-507L613-707q-5-11-1.5-23t14.5-17q11-5 23.5-1.5T667-734l100 200q5 11 .976 22.872-4.025 11.873-15 18Zm-600-80Q142-567 130-571q-12-4-17-15L53-706q-5-11-1.5-23.5T66-747q11-5 23.5-1.5T107-734l60 120q5 11 .976 22.872-4.025 11.873-15 18ZM449.825-690Q437-690 428.5-698.675q-8.5-8.676-8.5-21.5 0-12.825 8.675-21.325 8.676-8.5 21.5-8.5 12.825 0 21.325 8.675 8.5 8.676 8.5 21.5 0 12.825-8.675 21.325-8.676 8.5-21.5 8.5Z\"/>\n</svg>","\"use strict\";\n\n\nvar changeCase = require(\"./_change-case\");\nvar ComponentsContext = require(\"../components/ComponentsContext\");\nvar getComponentsContext = ComponentsContext.e_;\nvar ComponentDef = require(\"../components/ComponentDef\");\nvar w10NOOP = require(\"warp10/constants\").NOOP;\nvar RENDER_BODY_TO_JSON = function () {\n  return w10NOOP;\n};\n\nvar FLAG_WILL_RERENDER_IN_BROWSER = 1;\n// var FLAG_HAS_RENDER_BODY = 2;\nvar IS_SERVER = typeof document === \"undefined\";\n\n/**\n * Helper to render a dynamic tag\n */\nmodule.exports = function dynamicTag(\nout,\ntag,\ngetAttrs,\nrenderBody,\nargs,\nprops,\ncomponentDef,\nkey,\ncustomEvents)\n{\n  if (tag) {\n    if (tag.default) {\n      tag = tag.default;\n    }\n\n    var attrs = getAttrs && getAttrs();\n    var component = componentDef && componentDef.i_;\n    if (typeof tag === \"string\") {\n      if (renderBody) {\n        out.aO_(\n        tag,\n        attrs,\n        key,\n        componentDef,\n        addEvents(componentDef, customEvents, props));\n\n        renderBody(out);\n        out.aP_();\n      } else {\n        out.aQ_(\n        tag,\n        attrs,\n        key,\n        componentDef,\n        addEvents(componentDef, customEvents, props));\n\n      }\n    } else {\n      if (attrs == null) {\n        attrs = { renderBody: renderBody };\n      } else if (typeof attrs === \"object\") {\n        attrs = attrsToCamelCase(attrs);\n        if (renderBody) {\n          attrs.renderBody = renderBody;\n        }\n      }\n\n      var renderer =\n      tag._ ||\n      tag.render ||\n      tag.renderer && tag.renderer.renderer ||\n      tag.renderer;\n\n      // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n\n      if (renderer) {\n        out.c(componentDef, key, customEvents);\n        renderer(attrs, out);\n        out.h_ = null;\n      } else {\n        var render = tag && tag.renderBody || tag;\n        var isFn = typeof render === \"function\";\n\n        // eslint-disable-next-line no-constant-condition\n\n\n\n\n\n\n\n        if (isFn) {\n          var flags = componentDef ? componentDef.C_ : 0;\n          var willRerender = flags & FLAG_WILL_RERENDER_IN_BROWSER;\n          var isW10NOOP = render === w10NOOP;\n          var preserve = IS_SERVER ? willRerender : isW10NOOP;\n          out.bf(key, component, preserve);\n          if (!isW10NOOP && isFn) {\n            var componentsContext = getComponentsContext(out);\n            var parentComponentDef = componentsContext.k_;\n            var globalContext = componentsContext.f_;\n            componentsContext.k_ = new ComponentDef(\n            component,\n            parentComponentDef.id + \"-\" + parentComponentDef.av_(key),\n            globalContext);\n\n            render.toJSON = RENDER_BODY_TO_JSON;\n\n            if (args) {\n              render.apply(null, [out].concat(args, attrs));\n            } else {\n              render(out, attrs);\n            }\n\n            componentsContext.k_ = parentComponentDef;\n          }\n          out.ef();\n        } else {\n          out.error(\"Invalid dynamic tag value\");\n        }\n      }\n    }\n  } else if (renderBody) {\n    out.bf(\n    key,\n    component,\n    IS_SERVER &&\n    componentDef &&\n    componentDef.C_ & FLAG_WILL_RERENDER_IN_BROWSER);\n\n    renderBody(out);\n    out.ef();\n  }\n};\n\nfunction attrsToCamelCase(attrs) {\n  var result = {};\n\n  for (var key in attrs) {\n    result[changeCase.aN_(key)] = attrs[key];\n  }\n\n  return result;\n}\n\nfunction addEvents(componentDef, customEvents, props) {\n  var len = customEvents ? customEvents.length : 0;\n\n  if (len === 0) {\n    return props;\n  }\n\n  var result = props || {};\n  var event;\n\n  for (var i = len; i--;) {\n    event = customEvents[i];\n    result[\"on\" + event[0]] = componentDef.d(\n    event[0],\n    event[1],\n    event[2],\n    event[3]);\n\n  }\n\n  return result;\n}","style {\n  header {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n    \n    display: grid;\n    grid-template-columns: 1fr 2fr 1fr;\n\n    padding: var(--spacing--m) var(--spacing--s);\n    background-color: var(--header-bg);\n  }\n\n  a.logo {\n    font-weight: 700;\n    font-size: 1.5rem;\n    text-transform: uppercase;\n    text-decoration: none;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    align-self: flex-start;\n    gap: var(--spacing-m);\n\n    padding: var(--spacing--s);\n    padding-right: var(--spacing--s);\n\n    border-radius: var(--border-radius--round);\n  }\n\n  .logo svg {\n    height: 2rem;\n  }\n\n  @media (max-width: 850px) {\n    header {\n      grid-template-columns: 48px 1fr;\n    }\n\n    a.logo {\n      padding: var(--spacing--s) 0;\n    }\n\n    /* Hide on small screens */\n    .logo span {\n      position: fixed;\n      top: -1000px;\n      left: -1000px;\n    }\n  }\n\n}\n\n<header>\n  <div.flex>\n    <a.logo href=\"/\">\n      <icon-logo/>\n      <span>${input.title}</span>\n    </a>\n  </div>\n  <${input.renderBody}/>\n</header>\n","export const GIPHY_API_KEY = 'R3MubWsDVaNsLg6YiSZV1x5yEO4jSlwq';\nexport const GIPHY_SEARCH_API_ENDPOINT = `https://api.giphy.com/v1/gifs/search?apiKey=${GIPHY_API_KEY}`;","import { GIPHY_API_KEY, GIPHY_SEARCH_API_ENDPOINT } from \"./constants\";\n\nexport const getGifs = async (query, options) => {\n  const queryParams = new URLSearchParams({q: query, limit: 18, rating: 'g', ...options}).toString();\n  const queryUrl = `${GIPHY_SEARCH_API_ENDPOINT}&${queryParams}`;\n  try {\n    const response = await fetch(queryUrl, {\n      mode: 'cors',\n    });\n    const json = await response.json();\n    return json;\n  } catch (error) {\n    console.error(`Error: ${error}`);\n  }\n}\n\nexport const getGifById = async (id) => {\n  const queryUrl = `https://api.giphy.com/v1/gifs/${id}?api_key=${GIPHY_API_KEY}`;\n  try {\n    const response = await fetch(queryUrl, {\n      mode: 'cors',\n    });\n    const json = await response.json();\n    return json.data;\n  } catch (error) {\n    console.error(`Error: ${error}`);\n  }\n}","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"48\" viewBox=\"0 -960 960 960\" width=\"48\" aria-hidden=\"true\">\n  <path d=\"M450-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h170v60H280q-58.333 0-99.167 40.765-40.833 40.764-40.833 99Q140-422 180.833-381q40.834 41 99.167 41h170v60ZM325-450v-60h310v60H325Zm185 170v-60h170q58.333 0 99.167-40.765 40.833-40.764 40.833-99Q820-538 779.167-579 738.333-620 680-620H510v-60h170q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H510Z\"/>\n</svg>","/**\n * Future enhancements:\n * - Styled tooltips for icon buttons\n * - Toast to confirm copy to clipboard was successful!\n */\n \nimport copy from 'copy-to-clipboard';\n\nstyle {\n  .gif-container {\n    position: relative;\n    display: inline-block;\n    height: 300px;\n    margin: var(--spacing--s);\n  }\n\n  .gif-container .button {\n    position: absolute;\n    top: .5rem;\n    left: .5rem;\n    background-color: var(--app-bg);\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-color: var(--border-color1);\n  }\n\n  .gif-container .button svg {\n    transform: rotate(-45deg);\n    width: 24px;\n    height: 24px;\n    padding: var(--spacing--s);\n  }\n\n  .gif-container img {\n    height: 100%;\n    border-radius: var(--border-radius--l);\n  }\n\n  @media (max-width: 600px) {\n    .gif-container {\n      display: flex;\n      height: unset;\n    }\n\n    .gif-container picture {\n      width: 100%;\n    }\n\n    .gif-container img {\n      width: 100%;\n      height: auto;\n    }\n  } \n}\n\n$ const maxWidth = '500px';\n\nclass {\n  copyLink() {\n    copy(this.input.gif.bitly_url);\n  }\n}\n\n<div.gif-container>\n  <picture>\n    <source media=`(prefers-reduced-motion) and (max-width: ${maxWidth})` srcset=input.gif.images.fixed_height_still.url />\n    <source media=`(max-width: ${maxWidth})` srcset=input.gif.images.fixed_height.url />\n    <source media=`(prefers-reduced-motion)` srcset=input.gif.images.original_still.url />\n    <img src=input.gif.images.original.url alt=input.gif.title/>\n  </picture>\n  <if(input.copyToClipboard)>\n    <button.button aria-label=`Copy link${input.gif.title && ' to ' + input.gif.title}` title=\"Copy link\" on-click(\"copyLink\")>\n      <icon-link/>\n    </button>\n  </if>\n</div>","import { getGifById } from \"../../services/giphy/load\";\n\nstyle {\n  h1 span {\n    display: block;\n    font-size: var(--base-font-size);\n  }\n\n  .grid, .center {\n    padding: var(--spacing--s) 0;\n    width: 100%;\n    text-align: center;\n  }\n\n  @media (max-width: 600px) {\n    .grid {\n      display: grid;\n      width: 100%;\n      grid-template-columns: 1fr;\n      gap: 1rem;\n    }\n  }\n}\n\nclass {\n  onInput(input) {\n    this.state = {\n      loading: false,\n      gif: undefined,\n    }\n    this.pending = Promise.resolve();\n    this.loadGif();\n  }\n\n  async loadGif() {\n    const { state } = this;\n\n    state.loading = true;\n    await this.pending;\n\n    try {\n      const gif = await (this.pending = getGifById('y65VoOlimZaus'));\n      if (gif) {\n          state.gif = gif;\n      }\n    } catch (err) {\n      console.log('Fetch failed:', err);\n    }\n\n    state.loading = false;\n  }\n}\n\n<div>\n  <if(state.gif)>\n    <giphy-card gif=state.gif />\n  </if>\n  <p>Sorry, couldn't find anything by that name!</p>\n</div>","/**\n * Future enhancements:\n * - Filter by rating, relevancy, and other factors\n * - Clean up text -- \"26804 gifs\" vs. \"26k gifs\"\n * - Implement a proper masonry grid on desktop :O\n */\n\nimport { getGifs } from \"../../services/giphy/load\";\n\nstyle {\n  h1 span {\n    display: block;\n    font-size: var(--base-font-size);\n  }\n\n  .grid, .center {\n    padding: var(--spacing--s) 0;\n    width: 100%;\n    text-align: center;\n  }\n\n  @media (max-width: 600px) {\n    .grid {\n      display: grid;\n      width: 100%;\n      grid-template-columns: 1fr;\n      gap: 1rem;\n    }\n  }\n}\n\nclass {\n  onInput(input) {\n    this.state = {\n      searchTerm: input.searchTerm,\n      loading: false,\n      pagination: {},\n      gifs: [],\n    }\n    this.pending = Promise.resolve();\n    this.loadInitialGifs();\n  }\n\n  async loadInitialGifs() {\n    const { state } = this;\n\n    state.loading = true;\n    await this.pending;\n\n    try {\n      const gifsResponse = await (this.pending = getGifs(state.searchTerm));\n      if (gifsResponse) {\n          state.gifs = gifsResponse.data;\n          state.pagination = gifsResponse.pagination;\n      }\n    } catch (err) {\n      console.log('Fetch failed:', err);\n    }\n\n    state.loading = false;\n  }\n\n  async loadMoreGifs() {\n    const { state } = this;\n\n    state.loading = true;\n    await this.pending;\n\n    try {\n      const gifsResponse = await (this.pending = getGifs(state.searchTerm, {offset: state.gifs.length}));\n      if (gifsResponse && gifsResponse.data) {\n        state.gifs = state.gifs.concat(gifsResponse.data);\n        state.pagination = gifsResponse.pagination;\n      }\n    } catch (err) {\n      console.log('Fetch failed:', err);\n    }\n\n    state.loading = false;\n  }\n}\n\n<h1>\n  <span>${state.pagination.total_count} gifs for</span>\n  ${input.searchTerm}\n</h1>\n<if(state.loading)>\n  Loading...\n</if>\n<else-if(state.gifs.length == 0)>\n  <search-empty/>\n</else-if>\n<if(state.gifs.length > 0)>\n  <div.grid>\n    <for|gif| of=state.gifs>\n      <giphy-card gif=gif copyToClipboard />\n    </for>\n  </div>\n  <div.center>\n    <if(state.gifs.length < state.pagination.total_count)>\n      <button.button on-click(\"loadMoreGifs\")>Load more</button>\n    </if>\n    <else>\n      <p>(Pssst... You reached the end of results for \"${input.searchTerm}.\" Try searching for something else?)</p>\n    </else>\n  </div>\n</if>\n","$ const credits = [\n  {url: \"https://fonts.google.com/icons\", context: 'Icons by', linkText: 'Material'},\n  {url: \"http://giphy.com\", context: 'Powered by', linkText: 'Giphy'},\n  {url: \"https://markojs.com/docs/\", context: 'Built on', linkText: 'Marko'},\n  {url: \"https://github.com/cordeliadillon\", context: 'Made by', linkText: 'cordeliadillon'}\n];\n\nstyle {\n  footer {\n    margin: var(--spacing--m);\n    padding: var(--spacing--l) 0 var(--spacing--m) 0;\n    border-top: 1px solid var(--border-color1);\n    text-align: center;\n    font-size: 14px;\n  }\n\n  footer .credits {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: .5rem;\n  }\n\n  footer .divider {\n    font-weight: bold;\n    font-size: 18px;\n  }\n\n  @media (max-width: 850px) {\n    footer {\n      text-align: left;\n    }\n\n    footer .credits {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    footer .divider {\n      display: none;\n    }\n  }\n}\n\n<footer>\n  &copy; ${new Date().getFullYear()} In A Giphy \n  <p.credits>\n    <for|credit, index| of=credits>\n      <if(index !== 0)>\n        <span.divider aria-hidden=\"true\">&middot;</span>\n      </if>\n        <span>\n          ${credit.context} <a href=credit.url>${credit.linkText}</a>\n      </span>\n    </for>\n  </p>\n</footer>\n","class {\n  onInput(input) {\n\n    const currentHour = Number(new Date().toTimeString().substring(0, 2));\n    let defaultSearch = 'Good night';\n    if (currentHour < 4) {\n      defaultSearch = 'Go to bed';\n    } else if (currentHour < 12) {\n      defaultSearch = 'Good morning';\n    } else if (currentHour < 17) {\n      defaultSearch = 'Good afternoon';\n    } else if (currentHour < 22) {\n      defaultSearch = 'Good evening';\n    }\n\n    this.state = {\n      searchTerm: input.searchTerm || defaultSearch,\n      results: [],\n      filters: []\n    }\n  }\n\n  handleSearch(searchTerm) {\n    this.state.searchTerm = searchTerm;\n  }\n}\n\nstyle {\n  main {\n    padding: var(--spacing--l);\n  }\n}\n\n<app-header title=\"In a Giphy\">\n  <search-input on-submit-search(\"handleSearch\")/>\n</app-header>\n<main>\n  <search-results searchTerm=state.searchTerm/>\n</main>\n<app-footer/>\n"],"names":["win","global","constants","require$$0","isArray","resolve","object","path","len","current","i","resolveType","info","finalize","outer","assignments","assignment","rhs","rhsValue","lhs","lhsLast","lhsParent","promise","queueMicrotask_1","cb","rethrow","err","extend","target","source","propName","ensure","state","propertyName","proto","value","State","component","self","newState","key","rawState","name","shouldEnsure","forceDirty","forcedDirtyState","State_1","domData","componentsByDOMNode","keysByDOMNode","vElementsByDOMNode","vPropsByDOMNode","markoUID","runtimeId","componentLookup","EMPTY_OBJECT","getComponentForEl","el","host","node","vElement","destroyComponentForNode","componentToDestroy","destroyNodeRecursive","curChild","nextComponentId","nextComponentIdProvider","attachBubblingEvent","componentDef","handlerMethodName","isOnce","extraArgs","componentId","getMarkoPropsFromEl","virtualProps","normalizeComponentKey","parentId","addComponentRootToKeyedElements","keyedElements","rootNode","repeatedElementsForKey","indexBrowser","insertBefore","referenceNode","parentNode","insertAfter","nextSibling","next","fragment","firstChild","removeChild","helpers","componentsUtil","require$$1","require$$2","resolveEl","elId","beforeRemove","referenceEl","domInsert","getEl","afterInsert","actualCreateOut","setCreateOut","createOutFunc","createOut","globalData","createOut_1","GlobalComponentsContext","out","GlobalComponentsContext_1","ComponentsContext","parentComponentsContext","globalComponentsContext","nestedContextsForParent","componentDefs","getComponentsContext","module","exports","slice","isFunction","arg","checkListener","listener","invokeListener","ee","args","addListener","eventEmitter","type","prepend","events","listeners","EventEmitter","error","context","g","src","getRootNode","cur","getComponentDefs","result","RenderResult","RenderResult_1","selector","components","componentsContext","renderResult","INDEX_EVENT","INDEX_USER_LISTENER","INDEX_WRAPPED_LISTENER","DESTROY","isNonEventEmitter","EventEmitterWrapper","test","testWrapped","curListener","curEvent","curListenerFunc","curWrappedListenerFunc","subscribeTo","subscribeToList","event","wrappedListener","listenerFunc","EventEmitterAdapter","onceListener","SubscriptionTracker","options","addDestroyListener","wrapper","nonEE","targetEventEmitter","copyProps","from","to","descriptor","inherit","ctor","superCtor","shouldCopyProps","oldProto","newProto","inherit_1","queue","msg","ev","callbacks","callback","updatesScheduled","batchStack","unbatchedQueue","setImmediate","updateUnbatchedComponents","updateComponents","scheduleUpdates","batchUpdate","func","batch","queueComponentUpdate","batchStackLen","updateManager","syncBooleanAttrProp","fromEl","toEl","forEachOption","fn","SpecialElHandlers","newValue","oldValue","selected","option","specialElHandlers","KeySequence","lookup","KeySequence_1","VNode","finalChildCount","ownerComponent","nestedFirstChild","child","childValue","lastChild","VNode_1","VDocumentFragmentClone","other","VDocumentFragment","VDocumentFragment_1","vElementByDOMNode","require$$3","ATTR_XLINK_HREF","xmlnsRegExp","hasOwnProperty","NS_XLINK","NS_HTML","NS_MATH","NS_SVG","DEFAULT_NS","FLAG_SIMPLE_ATTRS","FLAG_CUSTOM_ELEMENT","FLAG_SPREAD_ATTRS","defineProperty","ATTR_HREF","convertAttrValue","assign","a","b","setAttribute","namespaceURI","removeAttribute","VElementClone","VElement","tagName","attrs","childCount","flags","props","constId","parentNamespaceURI","attributes","attrName","attrValue","virtualizeElement","virtualizeChildNodes","attrCount","attr","vdomEl","vFromEl","removePreservedAttributes","fromFlags","toFlags","oldAttrs","VElement_1","VText","VText_1","VComponent","preserve","VComponent_1","fragmentPrototype","nodes","newChildNode","actualReference","newParentNode","createFragmentNode","startNode","nextNode","isRoot","detachedContainer","beginFragmentNode","VFragment","VFragment_1","parseHTML","html","container","parseHtml","require$$4","require$$5","require$$6","specialHtmlRegexp","vdomParent","virtualize","vdomDocFragment","virtualizeHTML","vdomFragment","Node_prototype","vdomNode","vdom","TEXT_NODE","listenersAttachedKey","delegatedEvents","getEventFromEl","eventName","eventInfo","delegateEvent","targetMethod","targetComponentId","targetComponent","targetFunc","addDelegatedEventHandler","eventType","addDelegatedEventHandlerToHost","curNode","propagationStopped","oldStopPropagation","noop","eventDelegation","existingComponentLookup","morphAttrs","require$$7","componentByDOMNode","detachedByDOMNode","ELEMENT_NODE","COMMENT_NODE","COMPONENT_NODE","FRAGMENT_NODE","DOCTYPE_NODE","isAutoKey","compareNodeNames","caseInsensitiveCompare","onNodeAdded","morphdom","fromNode","toNode","isHydrate","keySequences","insertVirtualNodeBefore","vNode","parentEl","parentComponent","realNode","morphChildren","insertVirtualComponentBefore","vComponent","referenceNodeParentEl","morphComponent","detachedNodes","detachNode","destroyComponent","curFromNodeChild","curToNodeChild","curToNodeKey","curFromNodeKey","curToNodeType","fromNextSibling","toNextSibling","matchingFromEl","matchingFromComponent","curVFromNodeChild","fromComponent","referenceComponent","curToNodeKeyOriginal","morphEl","content","endNode","depth","nodeValue","curFromNodeType","isCompatible","fragmentBoundary","nodeName","specialElHandler","detachedFromComponent","morphdom_1","defaultCreateOut","require$$8","require$$9","require$$10","require$$11","keyedElementsByComponentId","CONTEXT_KEY","COMPONENT_SUBSCRIBE_TO_OPTIONS","NON_COMPONENT_SUBSCRIBE_TO_OPTIONS","emit","removeListener","removeEventListenerHandle","walkFragments","handleCustomEventWithMethodListener","targetMethodName","resolveKeyHelper","index","resolveComponentIdHelper","processUpdateHandlers","stateChanges","oldState","handlerMethod","handlers","handler","checkInputChanged","existingComponent","oldInput","newInput","oldKeys","newKeys","componentProto","Component","id","ssrKeyedElements","subscriptions","subscribeToOptions","customEvents","keyedElement","els","root","k","onInput","updatedInput","input","renderer","targetNode","eventListenerHandles","scope","finalCustomEvents","customEvent","Component_1","BaseState","BaseComponent","defineComponent","def","ComponentClass","w10Noop","componentUtil","FLAG_WILL_RERENDER_IN_BROWSER","FLAG_HAS_RENDER_BODY","ComponentDef","nestedId","o","types","registry","typeName","extra","componentProps","undefinedPropNames","undefinedPropName","ComponentDef_1","warp10Finalize","queueMicrotask","serverComponentRootNodes","serverRenderedMeta","DEFAULT_RUNTIME_ID","registered","loaded","componentTypes","deferredDefs","pendingDefs","register","pendingForType","tryHydrateComponent","addPendingDef","meta","load","getComponentClass","createComponent","indexServerComponentBoundaries","stack","ownerId","runtimeLength","commentValue","firstChar","parts","markoKey","markoProps","separatorIndex","invokeComponentEventHandler","method","addEventListenerHelper","eventListener","addDOMEventListeners","handles","initComponent","isExisting","domEvents","domEventArgs","eventEl","initClientRendered","trackComponent","initServerRendered","renderedComponents","globalKey","fakeArray","renderedComponent","isFromSerializedGlobals","prefix","isLast","tryInvoke","rawDef","mount","hydrateComponentAndGetMount","classValue","classHelper","sep","camelToDashLookup","dashToCamelLookup","_changeCase","nameDashed","nameCamel","matchToUpperCase","_","char","changeCase","styleValue","styleHelper","style","styles","newAttributes","val","attrsHelper","EVENT_UPDATE","EVENT_FINISH","tree","AsyncVDOMBuilder","parentOut","pushToStack","element","clone","text","remaining","lastArray","lastCallback","documentFragment","asyncOut","vdomTree","docFragment","fnErr","reject","AsyncVDOMBuilder_1","safeRender","renderFunc","finalData","finalOut","shouldEnd","actualEnd","renderable","data","localData","render","shouldBuffer","t","Template","parent","ownerComponentDef","isServer","beginComponent","endComponent","COMPONENT_BEGIN_ASYNC_ADDED_KEY","resolveComponentKey","parentComponentDef","trackAsyncComponents","handleBeginAsync","handleBeginDetachedAsync","createRendererFunc","templateRenderFunc","renderingLogic","isSplit","shouldApplySplitMixins","isRerender","ownerComponentId","renderingLogicProps","e","_marko_registerComponent","_marko_componentType","_marko_template","_marko_component","_marko_renderer","_componentDef","_component","$global","n","_marko_node","_marko_defineComponent","renderTag","onSubmit","preventDefault","searchTerm","document","getElementById","length","be","d","_marko_tag","_iconMag","w10NOOP","RENDER_BODY_TO_JSON","IS_SERVER","dynamicTag","tag","getAttrs","renderBody","addEvents","attrsToCamelCase","isFn","willRerender","isW10NOOP","globalContext","_iconLogo","title","_marko_dynamic_tag","GIPHY_API_KEY","GIPHY_SEARCH_API_ENDPOINT","getGifs","query","queryParams","queryUrl","getGifById","toggleSelection","selection","active","ranges","range","deselectCurrent","clipboardToIE11Formatting","defaultMessage","format","message","copyKey","copy","debug","reselectPrevious","mark","success","successful","copyToClipboard","copyLink","gif","bitly_url","images","fixed_height_still","url","fixed_height","original_still","original","_iconLink","_marko_createElement","loading","undefined","pending","Promise","loadGif","console","log","_giphyCard","pagination","gifs","loadInitialGifs","gifsResponse","loadMoreGifs","offset","concat","total_count","_searchEmpty","_keyValue","_keyScope","credits","linkText","Date","getFullYear","_index","credit","currentHour","Number","toTimeString","substring","defaultSearch","results","filters","handleSearch","_appHeader","_searchInput","_searchResults","_appFooter"],"mappings":"m7BAAIA,GAAM,OAAO,OAAW,IAAc,OAASC,GACvCC,GAAA,KAAGF,GAAI,SAAWA,GAAI,UAAY,UAAY,CAAA,ECD1D,IAAIE,GAAYC,GACZC,GAAU,MAAM,QAEpB,SAASC,GAAQC,EAAQC,EAAMC,EAAK,CAEhC,QADIC,EAAUH,EACLI,EAAE,EAAGA,EAAEF,EAAKE,IACjBD,EAAUA,EAAQF,EAAKG,CAAC,CAAC,EAG7B,OAAOD,CACX,CAEA,SAASE,GAAYC,EAAM,CACvB,GAAIA,EAAK,OAAS,OACd,OAAO,IAAI,KAAKA,EAAK,KAAK,EACvB,GAAIA,EAAK,OAAS,MACrB,OAAO,IAAI,IAAIA,EAAK,KAAK,EACtB,GAAIA,EAAK,OAAS,kBACrB,OAAO,IAAI,gBAAgBA,EAAK,KAAK,EAClC,GAAIA,EAAK,OAAS,OACrB,OAAOV,GAAU,KAEjB,MAAM,IAAI,MAAM,UAAU,CAElC,CAEA,IAAAW,GAAiB,SAAkBC,EAAO,CACtC,GAAI,CAACA,EACD,OAAOA,EAGX,IAAIC,EAAcD,EAAM,GACxB,GAAIC,EAAa,CACb,IAAIT,EAASQ,EAAM,EACfN,EAEJ,GAAIO,IAAgBP,EAAIO,EAAY,QAChC,QAASL,EAAE,EAAGA,EAAEF,EAAKE,IAAK,CACtB,IAAIM,EAAaD,EAAYL,CAAC,EAE1BO,EAAMD,EAAW,EACjBE,EAEAd,GAAQa,CAAG,EACXC,EAAWb,GAAQC,EAAQW,EAAKA,EAAI,MAAM,EAE1CC,EAAWP,GAAYM,CAAG,EAG9B,IAAIE,EAAMH,EAAW,EACjBI,EAAUD,EAAI,OAAO,EAEzB,GAAIC,IAAY,GAAI,CAChBd,EAASQ,EAAM,EAAII,EACnB,UACG,CACH,IAAIG,EAAYhB,GAAQC,EAAQa,EAAKC,CAAO,EAC5CC,EAAUF,EAAIC,CAAO,CAAC,EAAIF,GAKtC,OAAAH,EAAY,OAAS,EAEdT,GAAiB,SAExB,QAAOQ,CAGf,ECrEAD,GAAiBV,GCAAmB,GACjBC,GACA,OAAO,gBAAmB,WAC1B,eACA,OAAO,SAAY,aAAeD,GAAU,QAAQ,QAAO,GAC3D,SAAUE,EAAI,CACZF,GAAQ,KAAKE,CAAE,EAAE,MAAMC,EAAO,CAChC,EACA,WACA,SAASA,GAAQC,EAAK,CACpB,WAAW,UAAY,CACrB,MAAMA,CACV,CAAG,CACH,CCbA,IAAAC,GAAiB,SAAgBC,EAAQC,EAAQ,CAK7C,GAJKD,IACDA,EAAS,CAAA,GAGTC,EACA,QAASC,KAAYD,EACbA,EAAO,eAAeC,CAAQ,IAC9BF,EAAOE,CAAQ,EAAID,EAAOC,CAAQ,GAK9C,OAAOF,CACX,ECdiBD,GAASxB,GAE1B,SAAS4B,GAAOC,EAAOC,EAAc,CACnC,IAAIC,EAAQF,EAAM,YAAY,UACxBC,KAAgBC,GACpB,OAAO,eAAeA,EAAOD,EAAc,CACzC,IAAK,UAAY,CACf,OAAO,KAAK,IAAIA,CAAY,CAC7B,EACD,IAAK,SAAUE,EAAO,CACpB,KAAK,IAAIF,EAAcE,EAAO,EAAK,CACpC,CACP,CAAK,CAEL,CAEA,SAASC,GAAMC,EAAW,CACxB,KAAK,GAAKA,EACV,KAAK,IAAM,GAEX,KAAK,IAAM,GACX,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,IAAM,KAEX,OAAO,KAAK,IAAI,CAClB,CAEAD,GAAM,UAAY,CAChB,IAAK,UAAY,CACf,IAAIE,EAAO,KAEXA,EAAK,IAAM,GACXA,EAAK,IAAM,KACXA,EAAK,IAAM,KACXA,EAAK,IAAM,IACZ,EAED,IAAK,SAAUC,EAAU,CACvB,IAAIP,EAAQ,KACRQ,EAEAC,EAAW,KAAK,IAEpB,IAAKD,KAAOC,EACJD,KAAOD,GACXP,EAAM,IACNQ,EACA,OACA,GACA,IAKJ,IAAKA,KAAOD,EACVP,EAAM,IACNQ,EACAD,EAASC,CAAG,EACZ,GACA,GAGH,EACD,IAAK,SAAUE,EAAMP,EAAOQ,EAAcC,EAAY,CACpD,IAAIH,EAAW,KAAK,IAMpB,GAJIE,GACFZ,GAAO,KAAMW,CAAI,EAGfE,EAAY,CACd,IAAIC,EAAmB,KAAK,MAAQ,KAAK,IAAM,CAAA,GAC/CA,EAAiBH,CAAI,EAAI,WAChBD,EAASC,CAAI,IAAMP,EAC5B,OAGG,KAAK,MAIR,KAAK,IAAM,GACX,KAAK,IAAMM,EACX,KAAK,IAAMA,EAAWd,GAAO,CAAE,EAAEc,CAAQ,EACzC,KAAK,IAAM,GACX,KAAK,GAAG,OAGV,KAAK,IAAIC,CAAI,EAAIP,EAEbA,IAAU,OAEZ,OAAOM,EAASC,CAAI,EAGpBD,EAASC,CAAI,EAAIP,CAEpB,EACD,OAAQ,UAAY,CAClB,OAAO,KAAK,GACb,CACH,EAEA,IAAAW,GAAiBV,QCxGJW,GAAiB,CAC5B,IAAK,IAAI,QACT,IAAK,IAAI,QACT,GAAI,IAAI,QACR,IAAK,IAAI,QACT,IAAK,IAAI,QACT,GAAI,CAAE,CACR,ECPiBA,GAAU5C,GACvB6C,GAAsBD,GAAQ,GAC9BE,GAAgBF,GAAQ,IACxBG,GAAqBH,GAAQ,IAC7BI,GAAkBJ,GAAQ,IAC1BK,GAAW,OAAO,QAAU,OAAO,MAAQ,CAAE,EAAG,CAAC,GACjDC,GAAYD,GAAS,IAErBE,GAAkB,CAAA,EAElBC,GAAe,CAAA,EAEnB,SAASC,GAAkBC,EAAIC,EAAM,CAQnC,QAPIC,EACJ,OAAOF,GAAM,UACXC,GAAOA,EAAK,eAAyB,UAAU,eAAeD,CAAE,EAClEA,EACIpB,EACAuB,EAEGD,GAAM,CAYX,GAXIA,EAAK,SACHA,EAAK,SAAS,UAAYA,EAC5BA,EAAOA,EAAK,SAAS,WAErBA,EAAOA,EAAK,SACZtB,EAAYW,GAAoB,IAAIW,CAAI,IAEjCC,EAAWV,GAAmB,IAAIS,CAAI,KAC/CtB,EAAYuB,EAAS,KAGnBvB,EACF,OAAOA,EAGTsB,EAAOA,EAAK,iBAAmBA,EAAK,WAExC,CAEA,SAASE,GAAwBF,EAAM,CACrC,IAAIG,EAAqBd,GAAoB,IAAIW,EAAK,UAAYA,CAAI,EAClEG,IACFA,EAAmB,IAAG,EACtB,OAAOR,GAAgBQ,EAAmB,EAAE,EAEhD,CACA,SAASC,GAAqBJ,EAAMtB,EAAW,CAE7C,GADAwB,GAAwBF,CAAI,EACxBA,EAAK,WAAa,GAAKA,EAAK,WAAa,GAAI,CAC/C,IAAInB,EAEAH,IAAcG,EAAMS,GAAc,IAAIU,CAAI,IACxCA,IAAStB,EAAU,GAAGG,CAAG,IACvBQ,GAAoB,IAAIW,CAAI,GAAK,QAAQ,KAAKnB,CAAG,EACnD,OAAOH,EAAU,GAAGG,CAAG,EACvBQ,GAAoB,IAAIW,CAAI,EAAE,EAAE,EAGhC,OAAOtB,EAAU,GAAGG,CAAG,GAM7B,QADIwB,EAAWL,EAAK,WACbK,GAAYA,IAAaL,EAAK,SACnCI,GAAqBC,EAAU3B,CAAS,EACxC2B,EAAWA,EAAS,YAG1B,CAEA,SAASC,IAAkB,CAKzB,MAAO,IAAMb,GAAS,GACxB,CAEA,SAASc,IAA0B,CACjC,OAAOD,EACT,CAEA,SAASE,GACTC,EACAC,EACAC,EACAC,EACA,CACE,GAAIF,EAAmB,CACrB,IAAIG,EAAcJ,EAAa,GAC/B,OAAIG,EACK,CAACF,EAAmBG,EAAaF,EAAQC,CAAS,EAElD,CAACF,EAAmBG,EAAaF,CAAM,EAGpD,CAEA,SAASG,GAAoBhB,EAAI,CAC/B,IAAIG,EAAWV,GAAmB,IAAIO,CAAE,EACpCiB,EAEJ,OAAId,EACFc,EAAed,EAAS,KAExBc,EAAevB,GAAgB,IAAIM,CAAE,EAChCiB,IACHA,EAAejB,EAAG,aAAa,YAAY,EAC3CN,GAAgB,IAChBM,EACAiB,EAAeA,EAAe,KAAK,MAAMA,CAAY,EAAInB,EAAY,IAKlEmB,CACT,CAEA,SAASC,GAAsBnC,EAAKoC,EAAU,CAC5C,OAAIpC,EAAI,CAAC,IAAM,MACbA,EAAMA,EAAI,QAAQ,IAAMoC,EAAW,IAAK,EAAE,GAErCpC,CACT,CAEA,SAASqC,GACTC,EACAtC,EACAuC,EACAP,EACA,CACE,GAAI,QAAQ,KAAKhC,CAAG,EAAG,CACrB,IAAIwC,EAAyBF,EAActC,CAAG,EAC9CsC,EAActC,CAAG,GAAK,GACtBwC,EAAuBR,CAAW,EAAIO,OAEtCD,EAActC,CAAG,EAAIuC,CAEzB,CA6BWE,EAAA,IAAG5B,GACJ4B,EAAA,GAAG3B,GACH2B,EAAA,GAAGzB,GACFyB,EAAA,IAAGpB,GACHoB,EAAA,IAAGlB,GACHkB,EAAA,IAAGf,GACHe,EAAA,IAAGd,GACJc,EAAA,GAAGR,GACHQ,EAAA,GAAGJ,GACbI,EAAA,IAAcN,aClLD,SAASO,GAAavB,EAAMwB,EAAeC,EAAY,CAClE,OAAIzB,EAAK,WACAA,EAAK,WAAWyB,EAAYD,CAAa,EAE3CC,EAAW,aAClBzB,EACAwB,GAAiBA,EAAc,WAAaA,CAAa,CAE3D,CAEA,SAASE,GAAY1B,EAAMwB,EAAeC,EAAY,CACpD,OAAOF,GACPvB,EACAwB,GAAiBA,EAAc,YAC/BC,CAAU,CAEZ,CAEA,SAASE,GAAY3B,EAAM,CACzB,IAAI4B,EAAO5B,EAAK,YACZ6B,EAAWD,GAAQA,EAAK,SAC5B,OAAIC,EACKD,IAASC,EAAS,UAAYA,EAAW,KAE3CD,CACT,CAEA,SAASE,GAAW9B,EAAM,CACxB,IAAI4B,EAAO5B,EAAK,WAChB,OAAO4B,GAAQA,EAAK,UAAYA,CAClC,CAEA,SAASG,GAAY/B,EAAM,CACrBA,EAAK,OAAQA,EAAK,OAAM,EAC5BA,EAAK,WAAW,YAAYA,CAAI,CAClC,CAEWgC,GAAA,IAAGT,GACHS,GAAA,IAAGN,GACHM,GAAA,IAAGL,GACHK,GAAA,IAAGF,GACdE,GAAA,IAAcD,GCzCD,IAAI/D,GAASxB,GACtByF,GAAiBC,EACjBhC,GAA0B+B,GAAe,IACzC7B,GAAuB6B,GAAe,IACtCD,GAAUG,GAEVZ,GAAeS,GAAQ,IACvBN,GAAcM,GAAQ,IACtBD,GAAcC,GAAQ,IAE1B,SAASI,GAAUtC,EAAI,CACrB,GAAI,OAAOA,GAAM,SAAU,CACzB,IAAIuC,EAAOvC,EAEX,GADAA,EAAK,SAAS,eAAeuC,CAAI,EAC7B,CAACvC,EACH,MAAM,MAAM,cAAgBuC,CAAI,EAGpC,OAAOvC,CACT,CAEA,SAASwC,GAAaC,EAAa,CACjCnC,GAAqBmC,CAAW,EAChCrC,GAAwBqC,CAAW,CACrC,CAEA,IAAAC,GAAiB,SAAUvE,EAAQwE,EAAOC,EAAa,CACrD1E,GAAOC,EAAQ,CACb,SAAU,SAAUsE,EAAa,CAC/BA,EAAcH,GAAUG,CAAW,EACnC,IAAIzC,EAAK2C,EAAM,KAAMF,CAAW,EAChChB,OAAAA,GAAazB,EAAI,KAAMyC,CAAW,EAC3BG,EAAY,KAAMH,CAAW,CACrC,EACD,UAAW,SAAUA,EAAa,CAChCA,EAAcH,GAAUG,CAAW,EACnC,IAAIzC,EAAK2C,EAAM,KAAMF,CAAW,EAChChB,OAAAA,GAAazB,EAAIyC,EAAY,YAAc,KAAMA,CAAW,EACrDG,EAAY,KAAMH,CAAW,CACrC,EACD,QAAS,SAAUA,EAAa,CAC9BA,EAAcH,GAAUG,CAAW,EACnC,IAAIzC,EAAK2C,EAAM,KAAMF,CAAW,EAChC,OAAAD,GAAaC,CAAW,EACxBhB,GAAazB,EAAIyC,EAAaA,EAAY,UAAU,EACpDR,GAAYQ,CAAW,EAChBG,EAAY,KAAMH,CAAW,CACrC,EACD,kBAAmB,SAAUA,EAAa,CACxCA,EAAcH,GAAUG,CAAW,EAInC,QAHIzC,EAAK2C,EAAM,KAAMF,CAAW,EAE5BlC,EAAWkC,EAAY,WACpBlC,GAAU,CACf,IAAIsB,EAActB,EAAS,YAC3BiC,GAAajC,CAAQ,EACrBA,EAAWsB,EAGb,OAAAY,EAAY,UAAY,GACxBhB,GAAazB,EAAI,KAAMyC,CAAW,EAC3BG,EAAY,KAAMH,CAAW,CACrC,EACD,aAAc,SAAUA,EAAa,CACnCA,EAAcH,GAAUG,CAAW,EACnC,IAAIzC,EAAK2C,EAAM,KAAMF,CAAW,EAChChB,OAAAA,GAAazB,EAAIyC,EAAaA,EAAY,UAAU,EAC7CG,EAAY,KAAMH,CAAW,CACrC,EACD,YAAa,SAAUA,EAAa,CAClCA,EAAcH,GAAUG,CAAW,EACnC,IAAIzC,EAAK2C,EAAM,KAAMF,CAAW,EAChCb,OAAAA,GAAY5B,EAAIyC,EAAaA,EAAY,UAAU,EAC5CG,EAAY,KAAMH,CAAW,CACrC,CACL,CAAG,CACH,EC5EiBI,GAEjB,SAASC,GAAaC,EAAe,CACnCF,GAAkBE,CACpB,CAEA,SAASC,GAAUC,EAAY,CAC7B,OAAOJ,GAAgBI,CAAU,CACnC,CAEAD,GAAU,IAAMF,GAEhB,IAAAI,GAAiBF,mBCZAvC,GACjB/D,EAAqC,IAErC,SAASyG,GAAwBC,EAAK,CACpC,KAAK,GAAK,GACV,KAAK,IAAM,OACX,KAAK,IAAM3C,GAAwB2C,CAAG,CACxC,CAEA,IAAAC,GAAiBF,kBCRjB,IAAIA,EAA0BzG,GAE9B,SAAS4G,EAAkBF,EAAKG,EAAyB,CACvD,IAAIC,EACA7C,EAEJ,GAAI4C,EAAyB,CAC3BC,EAA0BD,EAAwB,GAClD5C,EAAe4C,EAAwB,GAEvC,IAAIE,GAEFA,EAA0BF,EAAwB,MAElDE,EAA0BF,EAAwB,GAAK,IAGzDE,EAAwB,KAAK,IAAI,OAEjCD,EAA0BJ,EAAI,OAAO,GACjCI,IAA4B,SAC9BJ,EAAI,OAAO,GAAKI,EAChB,IAAIL,EAAwBC,CAAG,GAInC,KAAK,GAAKI,EACV,KAAK,GAAK,GACV,KAAK,GAAKJ,EACV,KAAK,GAAKzC,EACV,KAAK,GAAK,OACV,KAAK,GACL4C,GAA2BA,EAAwB,EACpD,CAEDD,EAAkB,UAAY,CAC5B,IAAK,SAAUrD,EAAM,CACnB,IAAIyD,EAAgB,KAAK,GAEzB,OAAAJ,EAAkB,IAAII,EAAezD,CAAI,EAEzC,KAAK,GAAG,KAAK,KAAK,EAIlB,KAAK,GAAG,OAAO,GAAK,OAEbyD,CACR,CACH,EAEA,SAASC,EAAqBP,EAAK,CACjC,OAAOA,EAAI,KAAOA,EAAI,GAAK,IAAIE,EAAkBF,CAAG,EACrD,CAEDQ,EAAiB,QAAAC,EAAUP,EAE3BO,EAAA,GAAaF,qCCzDTG,GAAQ,MAAM,UAAU,MAE5B,SAASC,GAAWC,EAAK,CACrB,OAAO,OAAOA,GAAQ,UAC1B,CAEA,SAASC,GAAcC,EAAU,CAC7B,GAAI,CAACH,GAAWG,CAAQ,EACpB,MAAM,UAAU,kBAAkB,CAE1C,CAEA,SAASC,GAAeC,EAAIF,EAAUG,EAAM,CACxC,OAAQA,EAAK,OAAM,CAEf,IAAK,GACDH,EAAS,KAAKE,CAAE,EAChB,MACJ,IAAK,GACDF,EAAS,KAAKE,EAAIC,EAAK,CAAC,CAAC,EACzB,MACJ,IAAK,GACDH,EAAS,KAAKE,EAAIC,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,EAClC,MAEJ,QACIH,EAAS,MAAME,EAAIN,GAAM,KAAKO,EAAM,CAAC,CAAC,CAC7C,CACL,CAEA,SAASC,GAAYC,EAAcC,EAAMN,EAAUO,EAAS,CACxDR,GAAcC,CAAQ,EAEtB,IAAIQ,EAASH,EAAa,KAAOA,EAAa,GAAK,CAAA,GAE/CI,EAAYD,EAAOF,CAAI,EAC3B,OAAIG,EACIZ,GAAWY,CAAS,EACpBD,EAAOF,CAAI,EAAIC,EAAU,CAACP,EAAUS,CAAS,EAAI,CAACA,EAAWT,CAAQ,EAEjEO,EACAE,EAAU,QAAQT,CAAQ,EAE1BS,EAAU,KAAKT,CAAQ,EAK/BQ,EAAOF,CAAI,EAAIN,EAEZK,CACX,CAEA,SAASK,IAAe,CACpB,KAAK,GAAK,KAAK,IAAM,CAAA,CACzB,CAEAA,GAAa,aAAeA,GAE5BA,GAAa,UAAY,CACrB,GAAI,KAEJ,KAAM,SAASJ,EAAM,CACjB,IAAIH,EAAO,UAEPK,EAAS,KAAK,GAClB,GAAKA,EAIL,KAAIC,EAAYD,GAAUA,EAAOF,CAAI,EACrC,GAAI,CAACG,EAAW,CAEZ,GAAIH,IAAS,QAAS,CAClB,IAAIK,EAAQR,EAAK,CAAC,EAClB,GAAI,EAAEQ,aAAiB,OAAQ,CAC3B,IAAIC,EAAUD,EACdA,EAAQ,IAAI,MAAM,UAAYC,CAAO,EACrCD,EAAM,QAAUC,EAGpB,MAAMD,EAGV,MAAO,GAGX,GAAId,GAAWY,CAAS,EACpBR,GAAe,KAAMQ,EAAWN,CAAI,MACjC,CACHM,EAAYb,GAAM,KAAKa,CAAS,EAEhC,QAAS1H,EAAE,EAAGF,EAAI4H,EAAU,OAAQ1H,EAAEF,EAAKE,IAAK,CAC5C,IAAIiH,EAAWS,EAAU1H,CAAC,EAC1BkH,GAAe,KAAMD,EAAUG,CAAI,GAI3C,MAAO,GACV,EAED,GAAI,SAASG,EAAMN,EAAU,CACzB,OAAOI,GAAY,KAAME,EAAMN,EAAU,EAAK,CACjD,EAED,gBAAiB,SAASM,EAAMN,EAAU,CACtC,OAAOI,GAAY,KAAME,EAAMN,EAAU,EAAI,CAChD,EAED,KAAM,SAASM,EAAMN,EAAU,CAC3BD,GAAcC,CAAQ,EAEtB,SAASa,GAAI,CACT,KAAK,eAAeP,EAAMO,CAAC,EAEvBb,IACAA,EAAS,MAAM,KAAM,SAAS,EAC9BA,EAAW,KAElB,CAED,YAAK,GAAGM,EAAMO,CAAC,EAER,IACV,EAGD,eAAgB,SAASP,EAAMN,EAAU,CACrCD,GAAcC,CAAQ,EAEtB,IAAIQ,EAAS,KAAK,GACdC,EAEJ,GAAID,IAAWC,EAAYD,EAAOF,CAAI,GAClC,GAAIT,GAAWY,CAAS,EAChBA,IAAcT,GACd,OAAOQ,EAAOF,CAAI,MAGtB,SAASvH,EAAE0H,EAAU,OAAO,EAAG1H,GAAG,EAAGA,IAC7B0H,EAAU1H,CAAC,IAAMiH,GACjBS,EAAU,OAAO1H,EAAG,CAAC,EAMrC,OAAO,IACV,EAED,mBAAoB,SAASuH,EAAM,CAC/B,IAAIE,EAAS,KAAK,GACdA,GACA,OAAOA,EAAOF,CAAI,CAEzB,EAED,cAAe,SAASA,EAAM,CAC1B,IAAIE,EAAS,KAAK,GACdC,EAAYD,GAAUA,EAAOF,CAAI,EACrC,OAAOG,EAAaZ,GAAWY,CAAS,EAAI,EAAIA,EAAU,OAAU,CACvE,CACL,EAEA,IAAAK,GAAiBJ,GCrKAlC,GAAYhG,GAG7B,SAASuI,GAAYjF,EAAI,CAEvB,QADIkF,EAAMlF,EACHkF,EAAI,YAAYA,EAAMA,EAAI,WACjC,OAAOA,CACT,CAEA,SAASC,GAAiBC,EAAQ,CAChC,IAAI1B,EAAgB0B,EAAO,GAE3B,GAAI,CAAC1B,EACH,MAAM,MAAM,cAAc,EAE5B,OAAOA,CACT,CAEA,SAAS2B,GAAajC,EAAK,CACzB,KAAK,IAAM,KAAK,GAAKA,EACrB,KAAK,GAAK,MACZ,KAEAkC,GAAiBD,GAEb5G,GAAQ4G,GAAa,UAAY,CACnC,aAAc,UAAY,CACxB,OAAO,KAAK,gBAAgB,CAAC,CAC9B,EACD,cAAe,SAAUE,EAAU,CACjC,GAAI,KAAK,KAAO,OACd,MAAM,MAAM,kBAAkB,EAGhC,IAAI7B,EAAgByB,GAAiB,IAAI,EAErCK,EAAa,CAAA,EAEjB,OAAA9B,EAAc,QAAQ,SAAU/C,EAAc,CAC5C,IAAI/B,EAAY+B,EAAa,IACzB,CAAC4E,GAAYA,EAAS3G,CAAS,IACjC4G,EAAW,KAAK5G,CAAS,CAEjC,CAAK,EAEM4G,CACR,EAED,YAAa,SAAUvF,EAAM,CAC3B,IAAImD,EAAM,KAAK,GACXqC,EAAoBrC,EAAI,GAC5B,OAAIqC,EACF,KAAK,GAAKA,EAAkB,IAAIxF,CAAI,EAEpC,KAAK,GAAK,KAGL,IACR,EACD,QAAS,SAAUA,EAAM,CACvB,OAAO,KAAK,GAAG,IAAIA,CAAI,CACxB,EACD,UAAW,UAAY,CACrB,OAAO,KAAK,GAAG,KAChB,EACD,SAAU,UAAY,CACpB,OAAO,KAAK,GAAG,UAChB,EACD,SAAU,OAAO,UAAa,UAAY,QAC5C,EAEA,OAAO,eAAexB,GAAO,OAAQ,CACnC,IAAK,UAAY,CAOf,OAAO,KAAK,UACb,CACH,CAAC,EAED,OAAO,eAAeA,GAAO,UAAW,CACtC,IAAK,UAAY,CAOf,OAAO,KAAK,EACb,CACH,CAAC,EASDiE,GACAjE,GACA,SAAeiH,EAAcjD,EAAa,CACxC,OAAOiD,EAAa,QAAQT,GAAYxC,CAAW,CAAC,CACtD,EACA,SAAqBiD,EAAcjD,EAAa,CAC9C,OAAOiD,EAAa,YAAYT,GAAYxC,CAAW,CAAC,CAC1D,CAAC,qCC7GD,IAAIkD,EAAc,EACdC,EAAsB,EACtBC,EAAyB,EACzBC,EAAU,UAEd,SAASC,EAAkB5H,EAAQ,CACjC,MAAO,CAACA,EAAO,IAChB,CAED,SAAS6H,EAAoB7H,EAAQ,CACjC,KAAK,UAAYA,EACjB,KAAK,aAAe,GACpB,KAAK,eAAiB,IACzB,CAED6H,EAAoB,UAAY,CAC5B,UAAW,SAASC,EAAMC,EAAa,CACnC,IAAI/H,EAAS,KAAK,UACdwG,EAAY,KAAK,aAErB,KAAK,aAAeA,EAAU,OAAO,SAASwB,EAAa,CACvD,IAAIC,EAAWD,EAAYR,CAAW,EAClCU,EAAkBF,EAAYP,CAAmB,EACjDU,EAAyBH,EAAYN,CAAsB,EAE/D,GAAIK,GAMA,GAAII,GAA0BL,EAAKG,EAAUE,CAAsB,EAC/D,OAAAnI,EAAO,eAAeiI,EAAUE,CAAsB,EAE/C,WAEJL,EAAKG,EAAUC,CAAe,EAKrC,OAAAlI,EAAO,eAAeiI,EAAUE,GAA0BD,CAAe,EAElE,GAGX,MAAO,EACnB,CAAS,EAMD,IAAIE,EAAc,KAAK,eAEvB,GAAI,CAAC,KAAK,aAAa,QAAUA,EAAa,CAC1C,IAAI1H,EAAO,KACP2H,EAAkBD,EAAY,mBAClCA,EAAY,mBAAqBC,EAAgB,OAAO,SAAStB,EAAK,CAClE,OAAOA,IAAQrG,CAC/B,CAAa,EAER,EAED,GAAI,SAAS4H,EAAOvC,EAAU,CAC1B,YAAK,UAAU,GAAGuC,EAAOvC,CAAQ,EACjC,KAAK,aAAa,KAAK,CAACuC,EAAOvC,CAAQ,CAAC,EACjC,IACV,EAED,KAAM,SAASuC,EAAOvC,EAAU,CAC5B,IAAIrF,EAAO,KAKP6H,EAAkB,UAAW,CAC7B7H,EAAK,UAAU,SAAS4H,EAAOE,EAAc,CACzC,OAAOD,IAAoBC,CAC9B,EAAE,EAAI,EAEPzC,EAAS,MAAM,KAAM,SAAS,CAC1C,EAEQ,YAAK,UAAU,KAAKuC,EAAOC,CAAe,EAC1C,KAAK,aAAa,KAAK,CAACD,EAAOvC,EAAUwC,CAAe,CAAC,EAClD,IACV,EAED,eAAgB,SAASD,EAAOvC,EAAU,CACtC,OAAI,OAAOuC,GAAU,aACjBvC,EAAWuC,EACXA,EAAQ,MAGRvC,GAAYuC,EACZ,KAAK,UAAU,SAASL,EAAUD,EAAa,CAC3C,OAAOM,IAAUL,GAAYlC,IAAaiC,CAC1D,CAAa,EACMjC,EACP,KAAK,UAAU,SAASkC,EAAUD,EAAa,CAC3C,OAAOjC,IAAaiC,CACpC,CAAa,EACMM,GACP,KAAK,mBAAmBA,CAAK,EAG1B,IACV,EAED,mBAAoB,SAASA,EAAO,CAEhC,IAAI9B,EAAY,KAAK,aACjBxG,EAAS,KAAK,UAElB,GAAIsI,EACA,KAAK,UAAU,SAASL,EAAUD,EAAa,CAC3C,OAAOM,IAAUL,CACjC,CAAa,MACE,CACH,QAASnJ,EAAI0H,EAAU,OAAS,EAAG1H,GAAK,EAAGA,IAAK,CAC5C,IAAIiI,EAAMP,EAAU1H,CAAC,EACrBkB,EAAO,eAAe+G,EAAIS,CAAW,EAAGT,EAAIU,CAAmB,CAAC,EAEpE,KAAK,aAAa,OAAS,EAG/B,OAAO,IACV,CACL,EAEA,SAASgB,EAAoBzI,EAAQ,CACjC,KAAK,UAAYA,CACpB,CAEDyI,EAAoB,UAAY,CAC5B,GAAI,SAASH,EAAOvC,EAAU,CAC1B,YAAK,UAAU,iBAAiBuC,EAAOvC,CAAQ,EACxC,IACV,EAED,KAAM,SAASuC,EAAOvC,EAAU,CAC5B,IAAIrF,EAAO,KAGPgI,EAAe,UAAW,CAC5BhI,EAAK,UAAU,oBAAoB4H,EAAOI,CAAY,EACtD3C,GACV,EACQ,YAAK,UAAU,iBAAiBuC,EAAOI,CAAY,EAC5C,IACV,EAED,eAAgB,SAASJ,EAAOvC,EAAU,CACtC,YAAK,UAAU,oBAAoBuC,EAAOvC,CAAQ,EAC3C,IACV,CACL,EAEA,SAAS4C,GAAsB,CAC3B,KAAK,mBAAqB,EAC7B,CAEDA,EAAoB,UAAY,CAE5B,YAAa,SAAS3I,EAAQ4I,EAAS,CAMnC,QALIC,EAAqB,CAACD,GAAWA,EAAQ,qBAAuB,GAChEE,EACAC,EACAV,EAAkB,KAAK,mBAElBvJ,EAAE,EAAGF,EAAIyJ,EAAgB,OAAQvJ,EAAEF,EAAKE,IAAK,CAClD,IAAIiI,EAAMsB,EAAgBvJ,CAAC,EAC3B,GAAIiI,EAAI,YAAc/G,EAAQ,CAC1B8I,EAAU/B,EACV,OAIR,OAAK+B,IACGlB,EAAkB5H,CAAM,IAC1B+I,EAAQ,IAAIN,EAAoBzI,CAAM,GAGxC8I,EAAU,IAAIjB,EAAoBkB,GAAS/I,CAAM,EAC7C6I,GAAsB,CAACE,GACvBD,EAAQ,KAAKnB,EAAS,UAAW,CAC7BmB,EAAQ,mBAAkB,EAE1B,QAAShK,EAAIuJ,EAAgB,OAAS,EAAGvJ,GAAK,EAAGA,IAC7C,GAAIuJ,EAAgBvJ,CAAC,EAAE,YAAckB,EAAQ,CACzCqI,EAAgB,OAAOvJ,EAAG,CAAC,EAC3B,MAG5B,CAAiB,EAKLgK,EAAQ,eAAiB,KACzBT,EAAgB,KAAKS,CAAO,GAGzBA,CACV,EAED,mBAAoB,SAAS9I,EAAQsI,EAAO,CACxC,IAAID,EAAkB,KAAK,mBACvBvJ,EAEJ,GAAIkB,EACA,IAAKlB,EAAIuJ,EAAgB,OAAS,EAAGvJ,GAAK,EAAGA,IAAK,CAC9C,IAAIiI,EAAMsB,EAAgBvJ,CAAC,EAC3B,GAAIiI,EAAI,YAAc/G,EAAQ,CAC1B+G,EAAI,mBAAmBuB,CAAK,EAEvBvB,EAAI,aAAa,QAGlBsB,EAAgB,OAAOvJ,EAAG,CAAC,EAG/B,WAGL,CACH,IAAKA,EAAIuJ,EAAgB,OAAS,EAAGvJ,GAAK,EAAGA,IACzCuJ,EAAgBvJ,CAAC,EAAE,qBAEvBuJ,EAAgB,OAAS,EAEhC,CACL,EAEA3C,EAAUD,EAAiB,QAAAkD,EAE3BjD,EAAe,KAAA,SAASsD,EAAoB,CACxC,IAAID,EACAD,EAEJ,OAAIlB,EAAkBoB,CAAkB,IACtCD,EAAQ,IAAIN,EAAoBO,CAAkB,GAGpDF,EAAU,IAAIjB,EAAoBkB,GAASC,CAAkB,EACxDD,GAEHC,EAAmB,KAAKrB,EAAS,UAAW,CACxCmB,EAAQ,aAAa,OAAS,CACxC,CAAO,EAGIA,CACX,EAEApD,EAAA,cAAwB,UAAW,CAC/B,OAAO,IAAIiD,sCCjQfM,GAAiB,SAAmBC,EAAMC,EAAI,CAC1C,OAAO,oBAAoBD,CAAI,EAAE,QAAQ,SAASpI,EAAM,CACpD,IAAIsI,EAAa,OAAO,yBAAyBF,EAAMpI,CAAI,EAC3D,OAAO,eAAeqI,EAAIrI,EAAMsI,CAAU,CAClD,CAAK,CACL,ECLIH,GAAY1K,GAEhB,SAAS8K,GAAQC,EAAMC,EAAWC,EAAiB,CAC/C,IAAIC,EAAWH,EAAK,UAChBI,EAAWJ,EAAK,UAAY,OAAO,OAAOC,EAAU,UAAW,CAC/D,YAAa,CACT,MAAOD,EACP,SAAU,GACV,aAAc,EACjB,CACT,CAAK,EACD,OAAIG,GAAYD,IAAoB,IAChCP,GAAUQ,EAAUC,CAAQ,EAEhCJ,EAAK,OAASC,EACdD,EAAK,UAAYI,EACVJ,CACX,KAGAK,GAAiBN,GACjBA,GAAQ,SAAWA,mBCrBFO,GAAQ,CAAA,EACrBC,GAAM,GAAK,KAAK,SACpB,OAAO,iBAAiB,UAAW,SAAUC,EAAI,CAC/C,GAAIA,EAAG,OAASD,GAAK,CACnB,IAAIE,EAAYH,GAChBA,GAAQ,CAAA,EACR,QAAS9K,EAAI,EAAGA,EAAIiL,EAAU,OAAQjL,IACpCiL,EAAUjL,CAAC,IAGjB,CAAC,EAEUuE,GAAA,IAAG,SAAU2G,EAAU,CAC5BJ,GAAM,KAAKI,CAAQ,IAAM,GAC3B,OAAO,YAAYH,GAAK,GAAG,CAE/B,ECdA,IAAII,GAAmB,GACnBC,GAAa,CAAA,EACbC,GAAiB,CAAA,EAEjBC,GAAe7L,GAAmC,IAMtD,SAAS8L,IAA4B,CACnC,GAAIF,GAAe,OACjB,GAAI,CACFG,GAAiBH,EAAc,CACrC,QAAc,CAIRF,GAAmB,EACpB,CAEL,CAEA,SAASM,IAAkB,CACrBN,KAMJA,GAAmB,GAEnBG,GAAaC,EAAyB,EACxC,CAEA,SAASC,GAAiBV,EAAO,CAI/B,QAAS9K,EAAI,EAAGA,EAAI8K,EAAM,OAAQ9K,IAAK,CACrC,IAAI2B,EAAYmJ,EAAM9K,CAAC,EACvB2B,EAAU,IAAG,EAIfmJ,EAAM,OAAS,CACjB,CAEA,SAASY,GAAYC,EAAM,CAKzB,IAAIC,EAAQ,CACV,IAAK,IACT,EAEER,GAAW,KAAKQ,CAAK,EAErB,GAAI,CACFD,GACJ,QAAY,CACR,GAAI,CAGEC,EAAM,GAGhB,QAAc,CAGRR,GAAW,QACZ,CACF,CACH,CAEA,SAASS,GAAqBlK,EAAW,CACvC,IAAImK,EAAgBV,GAAW,OAE/B,GAAIU,EAAe,CAKjB,IAAIF,EAAQR,GAAWU,EAAgB,CAAC,EAKpCF,EAAM,IACRA,EAAM,IAAI,KAAKjK,CAAS,EAExBiK,EAAM,IAAM,CAACjK,CAAS,OAMxB8J,KACAJ,GAAe,KAAK1J,CAAS,CAEjC,CAEWoK,GAAA,IAAGF,GACdE,GAAA,IAAcL,GC1GD,SAASM,GAAoBC,EAAQC,EAAMlK,EAAM,CACxDiK,EAAOjK,CAAI,IAAMkK,EAAKlK,CAAI,IAC5BiK,EAAOjK,CAAI,EAAIkK,EAAKlK,CAAI,EACpBiK,EAAOjK,CAAI,EACbiK,EAAO,aAAajK,EAAM,EAAE,EAE5BiK,EAAO,gBAAgBjK,EAAM,EAAE,EAGrC,CAEA,SAASmK,GAAcpJ,EAAIqJ,EAAIpM,EAAG,CAGhC,QAFIsD,EAAWP,EAAG,IAEXO,GACDA,EAAS,MAAQ,SACnB8I,EAAG9I,EAAU,EAAEtD,CAAC,EAEhBA,EAAImM,GAAc7I,EAAU8I,EAAIpM,CAAC,EAGnCsD,EAAWA,EAAS,IAGtB,OAAOtD,CACT,CAGA,SAASqM,IAAoB,CAAE,CAC/BA,GAAkB,UAAY,CAK5B,OAAQ,SAAUJ,EAAQC,EAAM,CAC9BF,GAAoBC,EAAQC,EAAM,UAAU,CAC7C,EACD,OAAQ,SAAUD,EAAQC,EAAM,CAC9BF,GAAoBC,EAAQC,EAAM,UAAU,CAC7C,EAOD,MAAO,SAAUD,EAAQC,EAAM,CAC7BF,GAAoBC,EAAQC,EAAM,SAAS,EAC3CF,GAAoBC,EAAQC,EAAM,UAAU,EAExCD,EAAO,OAASC,EAAK,KACvBD,EAAO,MAAQC,EAAK,IAGlBD,EAAO,aAAa,OAAO,GAAK,CAACC,EAAK,IAAI,OAAO,GACnDD,EAAO,gBAAgB,OAAO,CAEjC,EAED,SAAU,SAAUA,EAAQC,EAAM,CAChC,GAAI,CAAAA,EAAK,IAIT,KAAII,EAAWJ,EAAK,GAChBD,EAAO,OAASK,IAClBL,EAAO,MAAQK,GAGjB,IAAIvH,EAAakH,EAAO,WACxB,GAAIlH,EAAY,CAGd,IAAIwH,EAAWxH,EAAW,UAE1B,GACAwH,GAAYD,GACZ,CAACA,GAAYC,GAAYN,EAAO,YAE9B,OAGFlH,EAAW,UAAYuH,GAE1B,EACD,OAAQ,SAAUL,EAAQC,EAAM,CAC9B,GAAI,CAACA,EAAK,IAAI,UAAU,EAAG,CACzB,IAAIM,EAAW,EACfL,GACAD,EACA,SAAUO,EAAQzM,EAAG,CACfyM,EAAO,IAAI,UAAU,IACvBD,EAAWxM,EAEd,EACD,EAAE,EAGEiM,EAAO,gBAAkBO,IAC3BP,EAAO,cAAgBO,GAG5B,CACH,MAEAE,GAAiB,IAAIL,GCzGR,SAASM,IAAc,CAClC,KAAK,IAAM,OAAO,OAAO,IAAI,CAC/B,CAEAA,GAAY,UAAU,IAAM,SAAU7K,EAAK,CACzC,IAAI8K,EAAS,KAAK,IAElB,OAAIA,EAAO9K,CAAG,EACLA,EAAM,IAAM8K,EAAO9K,CAAG,KAG/B8K,EAAO9K,CAAG,EAAI,EACPA,EACT,EAEA,IAAA+K,GAAiBF,QCdjB,SAASG,IAAQ,CAAE,CAEnBA,GAAM,UAAY,CAChB,IAAK,SAAUC,EAAiBC,EAAgB,CAC9C,KAAK,IAAMD,EACX,KAAK,IAAM,EACX,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,IAAMC,CACZ,EAED,IAAI,KAAM,CACR,IAAIjI,EAAa,KAAK,IAEtB,GAAIA,GAAcA,EAAW,IAAK,CAChC,IAAIkI,EAAmBlI,EAAW,IAKlC,OAAOkI,GAAoBlI,EAAW,IAGxC,OAAOA,CACR,EAED,IAAI,KAAM,CACR,IAAIH,EAAc,KAAK,IAEvB,GAAIA,GACF,GAAIA,EAAY,IAAK,CACnB,IAAIG,EAAaH,EAAY,IAC7B,OAAOG,GAAcH,EAAY,SAE9B,CACL,IAAIF,EAAa,KAAK,IACtB,GAAIA,GAAcA,EAAW,IAC3B,OAAOA,EAAW,IAItB,OAAOE,CACR,EAED,IAAK,SAAUsI,EAAO,CAGpB,GAFA,KAAK,MAED,KAAK,MAAQ,WACf,GAAIA,EAAM,IAAK,CACb,IAAIC,EAAaD,EAAM,IACvB,KAAK,KAAO,KAAK,KAAO,IAAMC,UACrBD,EAAM,IAAMA,EAAM,GAC3B,KAAK,IAAM,OAEX,OAAM,UAAS,MAEZ,CACL,IAAIE,EAAY,KAAK,IAErBF,EAAM,IAAM,KAERE,EACFA,EAAU,IAAMF,EAEhB,KAAK,IAAMA,EAGb,KAAK,IAAMA,EAGb,OAAOA,CACR,EAED,IAAK,UAAuB,CAC1B,OAAI,KAAK,MAAQ,KAAK,KAAO,KAAK,IACzB,KAAK,IAAI,MAET,IAEV,CAiBH,EAEA,IAAAG,GAAiBP,GCrGAA,GAAQrN,GACrB8K,GAAUpF,GACVlE,GAASmE,GAEb,SAASkI,GAAuBC,EAAO,CACrCtM,GAAO,KAAMsM,CAAK,EAClB,KAAK,IAAM,KACX,KAAK,IAAM,IACb,CAEA,SAASC,GAAkBrH,EAAK,CAC9B,KAAK,IAAI,MACT,KAAK,GAAKA,CACZ,CAEAqH,GAAkB,UAAY,CAC5B,IAAK,GAEL,IAAK,GAEL,IAAK,UAAY,CACf,OAAO,IAAIF,GAAuB,IAAI,CACvC,EAED,IAAK,SAAUtK,EAAM,CACnB,OAAQA,EAAK,eAAiBA,GAAM,uBAAsB,CAC3D,CACH,EAEAuH,GAAQiD,GAAmBV,EAAK,EAEhCQ,GAAuB,UAAYE,GAAkB,UAErD,IAAAC,GAAiBD,GC/BbnL,GAAU5C,GACVyF,GAAiBC,EACjBuI,GAAoBrL,GAAQ,IAC5ByK,GAAQ1H,GACRmF,GAAUoD,GACVC,GAAkB,aAClBC,GAAc,cACdC,GAAiB,OAAO,UAAU,eAClCC,GAAW,+BACXC,GAAU,+BACVC,GAAU,qCACVC,GAAS,6BACTC,GAAa,CACf,IAAKD,GACL,KAAMD,EACR,EAEIG,GAAoB,EACpBC,GAAsB,EACtBC,GAAoB,EAEpBC,GAAiB,OAAO,eAExBC,GAAY,OACZ3L,GAAe,OAAO,OAAO,CAAA,CAAE,EAEnC,SAAS4L,GAAiBlH,EAAM9F,EAAO,CACrC,OAAIA,IAAU,GACL,GACE8F,GAAQ,UACb9F,aAAiB,OACZA,EAAM,OAIVA,EAAQ,EACjB,CAEA,SAASiN,GAAOC,EAAGC,EAAG,CACpB,QAAS9M,KAAO8M,EACVd,GAAe,KAAKc,EAAG9M,CAAG,IAC5B6M,EAAE7M,CAAG,EAAI8M,EAAE9M,CAAG,EAGpB,CAEA,SAAS+M,GAAa9L,EAAI+L,EAAc9M,EAAMP,EAAO,CAC/CqN,IAAiB,KACnB/L,EAAG,aAAaf,EAAMP,CAAK,EAE3BsB,EAAG,eAAe+L,EAAc9M,EAAMP,CAAK,CAE/C,CAEA,SAASsN,GAAgBhM,EAAI+L,EAAc9M,EAAM,CAC3C8M,IAAiB,KACnB/L,EAAG,gBAAgBf,CAAI,EAEvBe,EAAG,kBAAkB+L,EAAc9M,CAAI,CAE3C,CAEA,SAASgN,GAAczB,EAAO,CAC5B,KAAK,IAAMA,EAAM,IACjB,KAAK,IAAM,KACX,KAAK,IAAM,KAEX,KAAK,IAAMA,EAAM,IACjB,KAAK,IAAMA,EAAM,IACjB,KAAK,IAAMA,EAAM,IACjB,KAAK,IAAMA,EAAM,IACjB,KAAK,GAAKA,EAAM,GAChB,KAAK,IAAMA,EAAM,IACjB,KAAK,IAAMA,EAAM,GACnB,CAEA,SAAS0B,EACTC,EACAC,EACArN,EACAkL,EACAoC,EACAC,EACAC,EACA,CACE,KAAK,IAAIF,EAAYpC,CAAc,EAEnC,IAAIuC,EAEAD,IACFC,EAAUD,EAAM,GAGlB,KAAK,IAAMxN,EACX,KAAK,GAAKuN,GAAS,EACnB,KAAK,IAAMF,GAAStM,GACpB,KAAK,IAAMyM,GAASzM,GACpB,KAAK,IAAMqM,EACX,KAAK,IAAM,KACX,KAAK,IAAMK,EACX,KAAK,GAAK,GACV,KAAK,GAAK,EACZ,CAEAN,EAAS,UAAY,CACnB,IAAK,EAEL,IAAK,UAAY,CACf,OAAO,IAAID,GAAc,IAAI,CAC9B,EASD,EAAG,SAAUE,EAASC,EAAOrN,EAAKkL,EAAgBoC,EAAYC,EAAOC,EAAO,CAC1E,IAAIpC,EAAQ,KAAK,IACjB,IAAI+B,EACJC,EACAC,EACArN,EACAkL,EACAoC,EACAC,EACAC,CAAK,CAAC,EAIN,OAAIF,IAAe,EACV,KAAK,MAELlC,CAEV,EAQD,EAAG,SAAUjK,EAAM+J,EAAgB,CACjC,OAAA/J,EAAOA,EAAK,MACZA,EAAK,IAAM+J,EACX,KAAK,IAAI/J,CAAI,EACN,KAAK,KACb,EAED,IAAK,SAAUD,EAAMwM,EAAoB,CACvC,IAAIN,EAAU,KAAK,IACfO,EAAa,KAAK,IAClBX,EAAeX,GAAWe,CAAO,GAAKM,GAAsBxB,GAE5DqB,EAAQ,KAAK,GACbtM,GAAMC,EAAK,eAAiBA,GAAM,gBACtC8L,EACAI,CAAO,EAGP,GAAIG,EAAQhB,GACVK,GAAO3L,EAAI0M,CAAU,MAChB,CACL,QAASC,KAAYD,EAAY,CAC/B,IAAIE,EAAYF,EAAWC,CAAQ,EAEnC,GAAIC,IAAc,IAASA,GAAa,KAAM,CAC5C,IAAIpI,EAAO,OAAOoI,EAEdpI,IAAS,WAGXoI,EAAYlB,GAAiBlH,EAAMoI,CAAS,GAG1CD,GAAY9B,GACdiB,GAAa9L,EAAIgL,GAAUS,GAAWmB,CAAS,EAE/C5M,EAAG,aAAa2M,EAAUC,CAAS,GAKrCT,IAAY,aACdnM,EAAG,aAAeA,EAAG,MAAQ,KAAK,IAItC2K,OAAAA,GAAkB,IAAI3K,EAAI,IAAI,EAEvBA,CACR,EAED,IAAK,SAAUf,EAAM,CAInB,IAAIP,EAAQ,KAAK,IAAIO,CAAI,EACzB,OAAOP,GAAS,MAAQA,IAAU,EACnC,CACH,EAEA8I,GAAQ0E,EAAUnC,EAAK,EAEvB,IAAItL,GAAQwN,GAAc,UAAYC,EAAS,UAE/C,CAAC,UAAW,WAAY,UAAU,EAAE,QAAQ,SAAUjN,EAAM,CAC1DuM,GAAe/M,GAAOQ,EAAM,CAC1B,IAAK,UAAY,CACf,IAAIP,EAAQ,KAAK,IAAIO,CAAI,EACzB,OAAOP,IAAU,IAASA,GAAS,IACpC,CACL,CAAG,CACH,CAAC,EAED8M,GAAe/M,GAAO,KAAM,CAC1B,IAAK,UAAY,CACf,IAAIC,EAAQ,KAAK,IACjB,OAAIA,GAAS,OACXA,EAAQ,KAAK,IAAI,OAEZA,GAAS,MAAQA,IAAU,GAClCA,EAAQ,GACR,KAAK,IAAI,OAAS,YAClB,KAAK,IAAI,OAAS,QAClB,KACA,EACD,CACH,CAAC,EAEDwN,EAAS,IAAM,SAAUE,EAAO,CAK9B,OAAOA,CACT,EAEA,SAASS,GAAkB3M,EAAM4M,EAAsB7C,EAAgB,CACrE,IAAIyC,EAAaxM,EAAK,WAClB6M,EAAYL,EAAW,OAEvBN,EAAQ,KACRG,EAAQ,KAEZ,GAAIQ,EAAW,CACbX,EAAQ,CAAA,EACR,QAASnP,EAAI,EAAGA,EAAI8P,EAAW9P,IAAK,CAClC,IAAI+P,EAAON,EAAWzP,CAAC,EACnB0P,EAAWK,EAAK,KACflC,GAAY,KAAK6B,CAAQ,IACxBA,IAAa,aACfJ,EAAQpK,GAAe,GAAGjC,CAAI,EACrB8M,EAAK,eAAiBhC,GAC/BoB,EAAMvB,EAAe,EAAImC,EAAK,MAE9BZ,EAAMO,CAAQ,EAAIK,EAAK,QAM/B,IAAIb,EAAUjM,EAAK,SAEfA,EAAK,eAAiB+K,KACxBkB,EAAUA,EAAQ,eAGpB,IAAIc,EAAS,IAAIf,EACjBC,EACAC,EACA,KACAnC,EACA,EACA,EACAsC,CAAK,EAGL,OAAIU,EAAO,MAAQ,WACjBA,EAAO,IAAM/M,EAAK,MACT4M,GACTA,EAAqB5M,EAAM+M,EAAQhD,CAAc,EAG5CgD,CACT,CAEAf,EAAS,IAAMW,GAEfX,EAAS,IAAM,SAAUhD,EAAQgE,EAAS/D,EAAM,CAC9C,IAAIgE,EAA4BjB,EAAS,IAErCkB,EAAYF,EAAQ,GACpBG,EAAUlE,EAAK,GAEnBwB,GAAkB,IAAIzB,EAAQC,CAAI,EAElC,IAAIiD,EAAQjD,EAAK,IACboD,EAAQpD,EAAK,IAEjB,GAAIkE,EAAU/B,GACZ,OAAOK,GAAOzC,EAAQkD,CAAK,EAG7B,IAAIO,EAUAW,EAAWJ,EAAQ,IAEvB,GAAII,EAAU,CACZ,GAAIA,IAAalB,EAKf,OAEAkB,EAAWH,EAA0BG,EAAUf,CAAK,EAIxD,IAAIK,EAEJ,GAAIS,EAAUhC,IAAqB+B,EAAY/B,GAAmB,CAC5DiC,EAAS,SAAcV,EAAYR,EAAM,SAC3ClD,EAAO,UAAY0D,GAEjBU,EAAS,MAAQV,EAAYR,EAAM,MACrClD,EAAO,GAAK0D,GAEVU,EAAS,SAAWV,EAAYR,EAAM,SACxClD,EAAO,MAAM,QAAU0D,GAEzB,OAOFR,EAAQe,EAA0Bf,EAAOG,EAAO,EAAI,EAEpD,IAAIR,EAKJ,IAAKY,KAAYP,EASf,GARAQ,EAAYR,EAAMO,CAAQ,EAC1BZ,EAAe,KAEXY,IAAa9B,KACfkB,EAAef,GACf2B,EAAWlB,IAGTmB,GAAa,MAAQA,IAAc,GACrCZ,GAAgB9C,EAAQ6C,EAAcY,CAAQ,UACrCW,EAASX,CAAQ,IAAMC,EAAW,CAC3C,IAAIpI,EAAO,OAAOoI,EAEdpI,IAAS,WACXoI,EAAYlB,GAAiBlH,EAAMoI,CAAS,GAG9Cd,GAAa5C,EAAQ6C,EAAcY,EAAUC,CAAS,EAc1D,GAAIzD,EAAK,MAAQ,MAAQiE,EAAY7B,GACnC,IAAKoB,KAAYW,EACTX,KAAYP,IACZO,IAAa9B,GACf3B,EAAO,kBAAkB2B,GAAiBY,EAAS,EAEnDvC,EAAO,gBAAgByD,CAAQ,EAKzC,EAEA,IAAAY,GAAiBrB,ECnZAnC,GAAQrN,GACrB8K,GAAUpF,GAEd,SAASoL,GAAM9O,EAAOuL,EAAgB,CACpC,KAAK,IAAI,GAAsBA,CAAc,EAC7C,KAAK,IAAMvL,CACb,CAEA8O,GAAM,UAAY,CAChB,IAAK,GAEL,IAAK,EAEL,IAAK,SAAUvN,EAAM,CACnB,OAAQA,EAAK,eAAiBA,GAAM,eAAe,KAAK,GAAG,CAC5D,EAED,IAAK,UAAY,CACf,OAAO,IAAIuN,GAAM,KAAK,GAAG,CAC1B,CACH,EAEAhG,GAAQgG,GAAOzD,EAAK,EAEpB,IAAA0D,GAAiBD,GCxBAzD,GAAQrN,GACrB8K,GAAUpF,GAEd,SAASsL,GAAW9O,EAAWG,EAAKkL,EAAgB0D,EAAU,CAC5D,KAAK,IAAI,KAAuB1D,CAAc,EAC9C,KAAK,IAAMlL,EACX,KAAK,GAAKH,EACV,KAAK,GAAK+O,CACZ,CAEAD,GAAW,UAAY,CACrB,IAAK,CACP,EAEAlG,GAAQkG,GAAY3D,EAAK,EAEzB,IAAA6D,GAAiBF,SChBAxL,GAAUxF,GACvB+E,GAAeS,GAAQ,IAEvB2L,GAAoB,CACtB,SAAU,GACV,IAAI,YAAa,CACf,IAAI7L,EAAa,KAAK,UAAU,YAChC,OAAOA,IAAe,KAAK,QAAU,OAAYA,CAClD,EACD,IAAI,WAAY,CACd,IAAIqI,EAAY,KAAK,QAAQ,gBAC7B,OAAOA,IAAc,KAAK,UAAY,OAAYA,CACnD,EACD,IAAI,YAAa,CACf,IAAI1I,EAAa,KAAK,UAAU,WAChC,OAAOA,IAAe,KAAK,kBAAoB,OAAYA,CAC5D,EACD,IAAI,cAAe,CACjB,OAAO,KAAK,UAAU,WAAW,YAClC,EACD,IAAI,aAAc,CAChB,OAAO,KAAK,QAAQ,WACrB,EACD,IAAI,OAAQ,CASV,QAFImM,EAAQ,CAAA,EACR9Q,EAAU,KAAK,UACZA,IAAY,KAAK,SACtB8Q,EAAM,KAAK9Q,CAAO,EAClBA,EAAUA,EAAQ,YAEpB,OAAA8Q,EAAM,KAAK9Q,CAAO,EACX8Q,CACR,EACD,aAAc,SAAUC,EAAcrM,EAAe,CACnD,IAAIsM,EAAkBtM,GAAwB,KAAK,QACnD,OAAOD,GACPsM,EACAC,EACA,KAAK,UAAU,UAAU,CAE1B,EACD,WAAY,SAAUC,EAAevM,EAAe,CAClD,YAAK,MAAM,QAAQ,SAAUxB,EAAM,CACjCuB,GAAavB,EAAMwB,EAAeuM,CAAa,CAChD,EAAE,IAAI,EACA,IACR,EACD,OAAQ,UAAY,CAClB,KAAK,MAAM,QAAQ,SAAU/N,EAAM,CACjC,KAAK,kBAAkB,YAAYA,CAAI,CACxC,EAAE,IAAI,CACR,CACH,EAEA,SAASgO,GAAmBC,EAAWC,EAAUzM,EAAY,CAC3D,IAAII,EAAW,OAAO,OAAO8L,EAAiB,EAC1CQ,EAASF,GAAaA,EAAU,gBAAkBA,EAAU,WAChEpM,EAAS,UAAYsM,EACrB,SAAS,cAAc,EAAE,EACzB,SAAS,eAAe,EAAE,EAC1BtM,EAAS,QAAUsM,EACnB,SAAS,cAAc,EAAE,EACzB,SAAS,eAAe,EAAE,EAC1BtM,EAAS,UAAU,SAAWA,EAC9BA,EAAS,QAAQ,SAAWA,EAC5B,IAAIuM,EAAoBvM,EAAS,kBACjC,SAAS,uBAAsB,EAC/B,OAAAJ,EACAA,GAAcwM,GAAaA,EAAU,YAAcG,EACnD7M,GAAaM,EAAS,UAAWoM,EAAWxM,CAAU,EACtDF,GAAaM,EAAS,QAASqM,EAAUzM,CAAU,EAC5CI,CACT,CAEA,SAASwM,GAAkBJ,EAAWxM,EAAY,CAChD,IAAII,EAAWmM,GAAmBC,EAAW,KAAMxM,CAAU,EAC7D,OAAAI,EAAS,IAAM,SAAUqM,EAAU,CACjCrM,EAAS,IAAM,KACfN,GACAM,EAAS,QACTqM,EACAzM,GAAcwM,EAAU,UAAU,CAEtC,EACSpM,CACT,CAEUA,GAAA,GAAGmM,GACbnM,GAAA,IAAcwM,GC9FD,IAAIjP,GAAU5C,GACvB8C,GAAgBF,GAAQ,IACxBqL,GAAoBrL,GAAQ,IAC5ByK,GAAQ3H,GACRoF,GAAUnF,GACV6L,GAAqBtD,GAA+B,GAExD,SAAS4D,GAAUzP,EAAKkL,EAAgB0D,EAAU,CAChD,KAAK,IAAI,KAAuB1D,CAAc,EAC9C,KAAK,IAAMlL,EACX,KAAK,GAAK4O,CACZ,CAEAa,GAAU,UAAY,CACpB,IAAK,GACL,IAAK,UAAY,CACf,IAAIzM,EAAWmM,KACf1O,OAAAA,GAAc,IAAIuC,EAAU,KAAK,GAAG,EACpC4I,GAAkB,IAAI5I,EAAU,IAAI,EAC7BA,CACR,CACH,EAEAyF,GAAQgH,GAAWzE,EAAK,EAExB,IAAA0E,GAAiBD,GCzBAE,GAAY,SAAUC,EAAM,CAC3C,IAAIC,EAAY,SAAS,cAAc,UAAU,EACjDF,OAAAA,GAAYE,EAAU,QACtB,SAAUD,EAAM,CACd,OAAAC,EAAU,UAAYD,EACfC,EAAU,OAClB,EACD,SAAUD,EAAM,CACd,OAAAC,EAAU,UAAYD,EACfC,CACX,EAESF,GAAUC,CAAI,CACvB,EAEAE,GAAiB,SAAUF,EAAM,CAC/B,OAAOD,GAAUC,CAAI,EAAE,UACzB,ECjBiB5E,GAAQrN,GACrB+N,GAAoBrI,GACpB8J,GAAW7J,GACXmL,GAAQ5C,GACR8C,GAAaoB,GACbN,GAAYO,GACZL,GAAYM,GAEZC,GAAoB,OAExB,SAASnC,GAAqB5M,EAAMgP,EAAYjF,EAAgB,CAE9D,QADI1J,EAAWL,EAAK,WACbK,GACL2O,EAAW,IAAIC,GAAW5O,EAAU0J,CAAc,CAAC,EACnD1J,EAAWA,EAAS,WAExB,CAEA,SAAS4O,GAAWjP,EAAM+J,EAAgB,CACxC,OAAQ/J,EAAK,SAAQ,CACnB,IAAK,GACH,OAAOgM,GAAS,IAAIhM,EAAM4M,GAAsB7C,CAAc,EAChE,IAAK,GACH,OAAO,IAAIuD,GAAMtN,EAAK,UAAW+J,CAAc,EACjD,IAAK,IACH,IAAImF,EAAkB,IAAI3E,GAC1B,OAAAqC,GAAqB5M,EAAMkP,EAAiBnF,CAAc,EACnDmF,CAAgB,CAE7B,CAEA,SAASC,GAAeV,EAAM1E,EAAgB,CAC5C,GAAI,CAACgF,GAAkB,KAAKN,CAAI,EAC9B,OAAO,IAAInB,GAAMmB,EAAM1E,CAAc,EAMvC,QAHIqF,EAAe,IAAI7E,GACnBlK,EAAWmO,GAAUC,CAAI,EAEtBpO,GACL+O,EAAa,IAAIH,GAAW5O,EAAU0J,CAAc,CAAC,EACrD1J,EAAWA,EAAS,YAGtB,OAAO+O,CACT,CAEA,IAAIC,GAAiBxF,GAAM,UAM3BwF,GAAe,EAAI,SAAU7Q,EAAO,CAClC,IAAI8F,EAAO,OAAO9F,EACd8Q,EAEJ,OAAIhL,IAAS,WACP9F,GAAS,KACXA,EAAQ,GACC8F,IAAS,UACd9F,EAAM,SACR8Q,EAAWH,GAAe3Q,EAAM,OAAQ,CAAA,IAK9C,KAAK,IAAI8Q,GAAY,IAAIhC,GAAM9O,EAAM,SAAU,CAAA,CAAC,EACzC,KAAK,KACd,EAEA6Q,GAAe,IAAM,UAAY,CAC/B,OAAO,KAAK,IAAI,IAAI9E,EAAmB,CACzC,EAEWgF,EAAA,IAAGhF,GACHgF,EAAA,IAAGvD,GACHuD,EAAA,IAAGjC,GACHiC,EAAA,IAAG/B,GACH+B,EAAA,IAAGjB,GACHiB,EAAA,IAAGN,GACdM,EAAA,IAAcJ,YCjFGlN,GAAiBzF,EAC9BkD,GAAYuC,GAAe,IAC3BtC,GAAkBsC,GAAe,GACjCnB,GAAsBmB,GAAe,GAErCuN,GAAY,EAIZC,GAAuB,OAAS/P,GAChCgQ,GAAkB,CAAA,EAEtB,SAASC,GAAe7P,EAAI8P,EAAW,CACrC,IAAI7O,EAAeD,GAAoBhB,CAAE,EACrC+P,EAAY9O,EAAa6O,CAAS,EAEtC,OAAI,OAAOC,GAAc,WACvBA,EAAYA,EAAU,MAAM,GAAG,EAC3BA,EAAU,CAAC,IACbA,EAAU,CAAC,EAAIA,EAAU,CAAC,IAAM,QAE9BA,EAAU,QAAU,IACtBA,EAAU,CAAC,EAAI,SAASA,EAAU,CAAC,EAAG,EAAE,IAIrCA,CACT,CAEA,SAASC,GAAc9P,EAAM4P,EAAW3R,EAAQsI,EAAO,CACrD,IAAIwJ,EAAe9R,EAAO,CAAC,EACvB+R,EAAoB/R,EAAO,CAAC,EAC5B0C,EAAS1C,EAAO,CAAC,EACjB2C,EAAY3C,EAAO,CAAC,EAExB,GAAI0C,EAAQ,CACV,IAAII,EAAeD,GAAoBd,CAAI,EAC3C,OAAOe,EAAa6O,CAAS,EAG/B,IAAIK,EAAkBtQ,GAAgBqQ,CAAiB,EAEvD,GAAKC,EAIL,KAAIC,EACJ,OAAOH,GAAiB,WACxBA,EACAE,EAAgBF,CAAY,EAC5B,GAAI,CAACG,EACH,MAAM,MAAM,qBAAuBH,CAAY,EAG7CnP,GAAa,MACX,OAAOA,GAAc,WACvBA,EAAYqP,EAAgB,GAAGrP,CAAS,GAKxCA,EACFsP,EAAW,MAAMD,EAAiBrP,EAAU,OAAO2F,EAAOvG,CAAI,CAAC,EAE/DkQ,EAAW,KAAKD,EAAiB1J,EAAOvG,CAAI,EAEhD,CAEA,SAASmQ,GAAyBC,EAAW,CACtCV,GAAgBU,CAAS,IAC5BV,GAAgBU,CAAS,EAAI,GAEjC,CAEA,SAASC,GAA+BD,EAAWrQ,EAAM,CACvD,IAAI0E,EAAY1E,EAAK0P,EAAoB,EACzC1P,EAAK0P,EAAoB,GAAK,GACzBhL,EAAU2L,CAAS,IACrBrQ,EAAK,MAAQA,GAAM,iBACpBqQ,EACA3L,EAAU2L,CAAS,EAAI,SAAU7J,EAAO,CACtC,IAAI+J,EAAU/J,EAAM,OACpB,GAAK+J,EAIL,CAAAA,EAIAA,EAAQ,0BAGRA,EAAQ,WAAad,GAAYc,EAAQ,WAAaA,GAItD,IAAInS,EAAW,KAAOiS,EAClBnS,EAKJ,GAAIsI,EAAM,QAAS,CACjB,IAAIgK,EAAqB,GAGrBC,EAAqBjK,EAAM,gBAE/BA,EAAM,gBAAkB,UAAY,CAClCiK,EAAmB,KAAKjK,CAAK,EAC7BgK,EAAqB,EAC/B,EAEQ,EACE,KAAItS,EAAS0R,GAAeW,EAASnS,CAAQ,KAC3C2R,GAAcQ,EAASnS,EAAUF,EAAQsI,CAAK,EAE1CgK,GACF,aAGID,EAAUA,EAAQ,aAAeA,EAAQ,mBAC1CrS,EAAS0R,GAAeW,EAASnS,CAAQ,IAClD2R,GAAcQ,EAASnS,EAAUF,EAAQsI,CAAK,EAEjD,EACD,EAAI,CAGR,CAEA,SAASkK,IAAO,CAAE,CAEPC,EAAA,IAAGD,GACHC,EAAA,IAAGD,GACHC,EAAA,IAAGZ,GACHY,EAAA,IAAGf,GACHe,EAAA,IAAGP,GACHO,EAAA,IAAG,SAAU3Q,EAAM,CAC5B,OAAO,KAAK2P,EAAe,EAAE,QAAQ,SAAUU,EAAW,CACxDC,GAA+BD,EAAWrQ,CAAI,CAClD,CAAG,CACH,EC9IA,IAAI0J,GAAoBjN,GACpBkN,GAAcxH,GACdD,GAAiBE,EACjBwO,GAA0B1O,GAAe,GACzC7B,GAAuB6B,GAAe,IACtCf,GACJe,GAAe,GACXjB,GAAwBiB,GAAe,IACvC+J,GAAWtB,EAAmB,IAC9BiC,GAAoBX,GAAS,IAC7B4E,GAAa5E,GAAS,IACtB0E,GAAkB9B,EAClB/M,GAAWgN,GACX7M,GAAU8M,GACV1P,GAAUyR,GACVvR,GAAgBF,GAAQ,IACxB0R,GAAqB1R,GAAQ,GAC7BqL,GAAoBrL,GAAQ,IAC5B2R,GAAoB3R,GAAQ,IAE5BmC,GAAeS,GAAQ,IACvBN,GAAcM,GAAQ,IACtBL,GAAcK,GAAQ,IACtBF,GAAaE,GAAQ,IACrBD,GAAcC,GAAQ,IACtBgM,GAAqBnM,GAAS,GAC9BwM,GAAoBxM,GAAS,IAE7BmP,GAAe,EACfxB,GAAY,EACZyB,GAAe,EACfC,GAAiB,EACjBC,GAAgB,GAChBC,GAAe,GAMnB,SAASC,GAAUxS,EAAK,CACtB,OAAOA,EAAI,CAAC,IAAM,GACpB,CAEA,SAASyS,GAAiBtI,EAAQC,EAAM,CACtC,OAAOD,EAAO,MAAQC,EAAK,GAC7B,CAEA,SAASsI,GAAuB7F,EAAGC,EAAG,CACpC,OAAOD,EAAE,YAAW,IAAOC,EAAE,YAAW,CAC1C,CAEA,SAAS6F,GAAYxR,EAAMuF,EAAmB,CACxCvF,EAAK,WAAagR,IACpBN,GAAgB,IAAI1Q,EAAMuF,CAAiB,CAE/C,CAEA,SAASkM,GAASC,EAAUC,EAAQ5R,EAAMwF,EAAmB,CAC3D,IAAIjC,EACAsO,EAAY,GACZC,EAAe,OAAO,OAAO,IAAI,EAEjCtM,IACFjC,EAA0BiC,EAAkB,GAC5CqM,EAAYtO,EAAwB,IAGtC,SAASwO,EACTC,EACAlT,EACA0D,EACAyP,EACAjI,EACAkI,EACA,CACE,IAAIC,EAAWH,EAAM,IAAIhS,EAAMiS,EAAS,YAAY,EACpDzQ,GAAa2Q,EAAU3P,EAAayP,CAAQ,GAG5CD,EAAM,MAAQf,IACde,EAAM,MAAQZ,MAERtS,IACFS,GAAc,IAAI4S,EAAUrT,CAAG,GAC9BwS,GAAUxS,CAAG,EAAIoT,EAAkBlI,GAAgB,GACpDlL,CAAG,EACHqT,GAGEH,EAAM,MAAQ,YAChBI,EAAcD,EAAUH,EAAOE,CAAe,EAGhDT,GAAYU,EAAU3M,CAAiB,EAE1C,CAED,SAAS6M,EACTC,EACA7Q,EACA8Q,EACA5T,EACAG,EACAkL,EACAkI,EACA,CACE,IAAI7Q,EAAW1C,EAAU,IAAM6C,GAC/ByM,GAAoB,EACpBxM,EACA8Q,CAAqB,EAErBxB,GAAmB,IAAI1P,EAAU1C,CAAS,EAEtCG,GAAOkL,IACTlL,EAAMmC,GAAsBnC,EAAKoT,EAAgB,EAAE,EACnD/Q,GACA6I,EAAe,GACflL,EACAuC,EACA1C,EAAU,EAAE,EAEZY,GAAc,IAAI8B,EAAUvC,CAAG,GAGjC0T,EAAe7T,EAAW2T,CAAU,CACrC,CAED,SAASE,EAAe7T,EAAW2T,EAAY,CAC7CF,EAAczT,EAAU,IAAK2T,EAAY3T,CAAS,CACnD,CAED,IAAI8T,EAAgB,CAAA,EAEpB,SAASC,EAAWzS,EAAMyB,EAAYsI,EAAgB,CAChD/J,EAAK,WAAagR,IAAgBhR,EAAK,WAAamR,IACtDqB,EAAc,KAAKxS,CAAI,EACvB+Q,GAAkB,IAAI/Q,EAAM+J,GAAkB,EAAI,IAElD3J,GAAqBJ,CAAI,EACzB+B,GAAY/B,CAAI,EAEnB,CAED,SAAS0S,EAAiBhU,EAAW,CACnCA,EAAU,QAAO,CAClB,CAED,SAASyT,EAAcT,EAAUC,EAAQM,EAAiB,CACxD,IAAIU,EAAmB7Q,GAAW4P,CAAQ,EACtCkB,EAAiBjB,EAAO,IAExBkB,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,GACAC,EACAC,EAEJlW,EAAO,KAAOyV,GAAgB,CAC5BK,EAAgBL,EAAe,IAC/BG,EAAgBH,EAAe,IAC/BC,EAAeD,EAAe,IAG1BD,GAAoBA,EAAiB,WAAavB,KACpDuB,EAAmBhR,GAAYgR,CAAgB,GAGjD,IAAI5I,EAAiB6I,EAAe,KAAOX,EACvCqB,EAEJ,GAAIP,IAAkB7B,GAAgB,CACpC,IAAIxS,EAAYkU,EAAe,GAC/B,IACCO,GAAwBxC,GAAwBjS,EAAU,EAAE,KAC7D,OAEE,GAAIkT,IAAc,GAAM,CACtB,IAAIxQ,GAAWiN,GAAkBsE,EAAkBjB,CAAQ,EAC3DhT,EAAU,IAAM0C,GAChB0P,GAAmB,IAAI1P,GAAU1C,CAAS,EAEtCqL,GAAkB8I,IACpBA,EAAe7R,GACf6R,EACAZ,EAAgB,EAAE,EAElB/Q,GACA6I,EAAe,GACf8I,EACAzR,GACA1C,EAAU,EAAE,EAGZY,GAAc,IAAI8B,GAAUyR,CAAY,GAG1CN,EAAe7T,EAAWkU,CAAc,EAExCD,EAAmBhR,GAAYP,EAAQ,OAEvCgR,EACAQ,EACAD,EACAjB,EACAhT,EACAmU,EACA9I,EACAkI,CAAe,MAGZ,CACL,GAAIkB,GAAsB,MAAQR,EAAkB,CAClD,GACAA,IACAU,EAAgBvC,GAAmB,IAAI6B,CAAgB,IACvDrP,EAAwB,GACxB+P,EAAc,EAAE,IAChB,OACA,CAGEV,EAAmBhR,GAAY0R,EAAc,GAAG,EAChDX,EAAiBW,CAAa,EAC9B,SAKF9R,GACA4R,GAAsB,IACtBR,EACAjB,CAAQ,OAGRiB,EACAA,GAAoBhR,GAAYgR,CAAgB,EAG7CC,EAAe,IAClBL,EAAe7T,EAAWkU,CAAc,EAI5CA,EAAiBK,EACjB,iBACSJ,EAAc,CACvBO,EAAoB,OACpBN,EAAiB,OACjB,IAAIS,GAAuBV,EAwB3B,GAtBIxB,GAAUwB,CAAY,GACpB9I,IAAmBkI,IACrBY,GAAgB,IAAM9I,EAAe,IAEvCuJ,EAAqBrB,GAErBqB,EAAqBvJ,EAKvB8I,GACAhB,EAAayB,EAAmB,EAAE,IAClCzB,EAAayB,EAAmB,EAAE,EAAI,IAAI5J,KAAgB,IAC1DmJ,CAAY,EAERF,IACFG,EAAiBxT,GAAc,IAAIqT,CAAgB,EACnDS,EAAoB3I,GAAkB,IAAIkI,CAAgB,EAC1DK,EAAkBrR,GAAYgR,CAAgB,GAG5CG,IAAmBD,EAEhBD,EAAe,KAGdtB,GAAiBsB,EAAgBQ,CAAiB,EACpDI,EACAb,EACAS,EACAR,EACAX,CAAe,GAIfQ,EAAWE,EAAkBjB,EAAU3H,CAAc,EAGrD+H,EACAc,EACAC,EACAF,EACAjB,EACA3H,EACAkI,CAAe,YAKnBiB,EAAiBI,EAAmB,GAAGT,CAAY,EAEnDK,IAAmB,QACnBA,IAAmBP,EACnB,CACE,GAAIf,IAAc,IAAQe,GACxB,GACAA,EAAiB,WAAa3B,KAC9B4B,EAAe,IACfrB,GACAoB,EAAiB,SACjBC,EAAe,KAAO,EAAE,GAExB,CACEQ,EAAoBzG,GAAkBgG,CAAgB,EACtDS,EAAkB,IAAMR,EAAe,IACvCtT,GAAc,IAAIqT,EAAkBE,CAAY,EAChDS,EAAmB,GAAGT,CAAY,EAClCF,EAEIC,EAAe,GACjBnI,GAAkB,IAAIkI,EAAkBS,CAAiB,EAEzDI,EACAb,EACAS,EACAR,EACAX,CAAe,EAIjBW,EAAiBK,EACjBN,EAAmBK,EACnB,iBAEFJ,EAAe,MAAQzB,IACvBwB,EAAiB,WAAa1B,GAC9B,CACE,IAAIwC,GAAUd,EAAiB,UAC/B,GAAIc,IAAW,KAAOF,GAAsB,CAM1C,QALIG,EAAUf,EAAiB,YAC3BgB,GAAQ,EACRC,KAGS,CACX,GAAIF,EAAQ,WAAazC,GAEvB,GADA2C,GAAYF,EAAQ,UAChBE,KAAc,KAAM,CACtB,GAAID,KAAU,EACZ,MAEAA,UAEOC,GAAU,QAAQ,IAAI,IAAM,GACrCD,KAGJD,EAAUA,EAAQ,YAGpB,IAAI7R,GAAWmM,GACf2E,EACAe,EAAQ,YACRhC,CAAQ,EAERpS,GAAc,IAAIuC,GAAUgR,CAAY,EACxCpI,GAAkB,IAAI5I,GAAU+Q,CAAc,EAC9CU,EAAmB,GAAGT,CAAY,EAAIhR,GACtCE,GAAY4Q,CAAgB,EAC5B5Q,GAAY2R,CAAO,EAEdd,EAAe,IAClBT,EAActQ,GAAU+Q,EAAgBX,CAAe,EAGzDW,EAAiBK,EACjBN,EAAmB9Q,GAAS,YAC5B,WAKNiQ,EACAc,EACAC,EACAF,EACAjB,EACA3H,EACAkI,CAAe,EAEfe,EAAkBL,OAEd5B,GAAkB,IAAImC,CAAc,IAAM,QAC5CnC,GAAkB,IAAImC,EAAgB,MAAS,EAG5CN,EAAe,IA0ElBrR,GAAa2R,EAAgBP,EAAkBjB,CAAQ,EACvDsB,EAAkBL,IA1ElBS,EAAoB3I,GAAkB,IAAIyI,CAAc,EAEpD5B,GAAiB8B,EAAmBR,CAAc,GAChDI,IAAoBE,EAatBD,GACAA,EAAc,MAAQH,GAKpBE,EAAkBL,EAGlBpR,GAAa2R,EAAgBP,EAAkBjB,CAAQ,IAQvDsB,EAAkBrR,GAAYqR,CAAe,EAEzCL,GACFF,EAAWE,EAAkBjB,EAAU3H,CAAc,IAUzDrI,GAAYwR,EAAgBP,EAAkBjB,CAAQ,EAElDiB,GACFF,EAAWE,EAAkBjB,EAAU3H,CAAc,GAIzDyJ,EACAN,EACAE,EACAR,EACAX,CAAe,IAGfH,EACAc,EACAC,EACAF,EACAjB,EACA3H,EACAkI,CAAe,EAEfQ,EAAWS,EAAgBxB,EAAU3H,CAAc,IAW3D6I,EAAiBK,EACjBN,EAAmBK,EACnB,SAMF,KAAOL,GAAkB,CAGvB,GAFAK,EAAkBrR,GAAYgR,CAAgB,EAE1CU,EAAgBvC,GAAmB,IAAI6B,CAAgB,EAAG,CAO5DA,EAAmBK,EAGlB1P,EAAwB,GAAG+P,EAAc,EAAE,GAE1CX,EAAiBW,CAAa,EAGhC,SAGF,IAAIQ,EAAkBlB,EAAiB,SAEnCmB,EAAe,OAEnB,GAAID,IAAoBd,EACtB,GAAIc,IAAoB7C,GAAc,CAGpC,GADAoC,EAAoB3I,GAAkB,IAAIkI,CAAgB,EACtDS,IAAsB,OACxB,GAAIxB,IAAc,GAChBwB,EAAoBzG,GAAkBgG,CAAgB,EAGtDpB,GACA6B,EAAkB,IAClBR,EAAe,GAAG,IAGhBQ,EAAkB,IAAMR,EAAe,SAEpC,CAELD,EAAmBK,EACnB,cAEOF,EAAiBM,EAAkB,OAG5CU,EAAe,IAGjBA,EACAA,IAAiB,IACjBxC,GAAiB8B,EAAmBR,CAAc,IAAM,GAEpDkB,IAAiB,IAInBN,EACAb,EACAS,EACAR,EACAX,CAAe,OAInB4B,IAAoBrE,IACpBqE,IAAoB5C,MAGlB6C,EAAe,GAKflC,IAAc,IACdqB,GACAY,IAAoBrE,IACpByD,EAAc,MAAQzD,KAEpBwD,EAAkBL,EAAiB,UACnCC,EAAe,IAAI,MAAM,GAGvBD,EAAiB,YAAcC,EAAe,MAChDD,EAAiB,UAAYC,EAAe,MAKlD,GAAIkB,IAAiB,GAAM,CAEzBlB,EAAiBK,EACjBN,EAAmBK,EACnB,SAAS7V,EAGXsV,EAAWE,EAAkBjB,EAAU3H,CAAc,EACrD4I,EAAmBK,EAOrBlB,EACAc,EACAC,EACAF,EACAjB,EACA3H,EACAkI,CAAe,EAGfW,EAAiBK,EACjBN,EAAmBK,EAIrB,GAAItB,EAAS,IAGXA,EAAS,IAAIiB,CAAgB,MAO7B,SAHIoB,EACJrC,EAAS,WAAaP,GAAgBO,EAAS,QAAU,KAElDiB,GAAoBA,IAAqBoB,GAAkB,CAGhE,GAFAf,EAAkBrR,GAAYgR,CAAgB,EAE1CU,EAAgBvC,GAAmB,IAAI6B,CAAgB,EAAG,CAC5DA,EAAmBK,EAElB1P,EAAwB,GAAG+P,EAAc,EAAE,GAE1CX,EAAiBW,CAAa,EAEhC,SAGFD,EAAoB3I,GAAkB,IAAIkI,CAAgB,EAC1DG,EAAiBxT,GAAc,IAAIoS,CAAQ,EAIvC,CAACoB,GAAkBzB,GAAUyB,CAAc,EAC7CQ,EAAqBrB,EAErBqB,EACAF,GAAqBA,EAAkB,IAGzCX,EAAWE,EAAkBjB,EAAU4B,CAAkB,EAEzDX,EAAmBK,EAGxB,CAED,SAASQ,EAAQxK,EAAQgE,EAAS/D,EAAMgJ,EAAiB,CACvD,IAAI+B,EAAW/K,EAAK,IAEhBqD,EAAUrD,EAAK,IACnB,GAAI,EAAAqD,IAAY,QAAaU,EAAQ,MAAQV,KAI7CsE,GAAW5H,EAAQgE,EAAS/D,CAAI,EAE5B,CAAAA,EAAK,IAIT,CAAI+K,IAAa,YACf7B,EAAcnJ,EAAQC,EAAMgJ,CAAe,EAG7C,IAAIgC,EAAmBxK,GAAkBuK,CAAQ,EAC7CC,IAAqB,QACvBA,EAAiBjL,EAAQC,CAAI,EAEhC,CAODkJ,EAAcT,EAAUC,EAAQA,EAAO,EAAE,EAEzCa,EAAc,QAAQ,SAAUxS,EAAM,CACpC,IAAIkU,EAAwBnD,GAAkB,IAAI/Q,CAAI,EAEtD,GAAIkU,IAA0B,OAAW,CACvCnD,GAAkB,IAAI/Q,EAAM,MAAS,EAErC,IAAIG,EAAqB2Q,GAAmB,IAAI9Q,CAAI,EAChDG,EACFA,EAAmB,QAAO,EACjBH,EAAK,aACdI,GACAJ,EACAkU,IAA0B,IAAQA,CAAqB,EAGnDxD,GAAgB,IAAI1Q,CAAI,GAAK,IAC/B+B,GAAY/B,CAAI,GAI1B,CAAG,CAMH,CAEA,IAAAmU,GAAiB1C,GCpsBbjP,GAAYhG,GACZ4X,GAAmBlS,GACnBuB,GACJtB,GAA+B,GAC3BF,GAAiByI,EACjB/K,GAAkBsC,GAAe,GACjC7B,GAAuB6B,GAAe,IACtCyC,GAAekK,GACfzJ,GAAe0J,GACfjI,GAAsBkI,GACtBxH,GAAUuJ,GACV/H,GAAgBuL,GAChB5C,GAAW6C,GACX5D,GAAkB6D,EAClBnV,GAAUoV,GACVnV,GAAsBD,GAAQ,GAC9BqV,GAA6BrV,GAAQ,GACrCsV,GAAc,sBAEd7J,GAAiB,OAAO,UAAU,eAClCjH,GAAQ,MAAM,UAAU,MAExB+Q,GACAC,GAAqC,CACvC,mBAAoB,EACtB,EAEIC,GAAOnQ,GAAa,UAAU,KAC9BsM,GAAe,EAEnB,SAAS8D,GAAeC,EAA2B,CACjDA,GACF,CAEA,SAASC,GAAcnT,EAAU,CAG/B,QAFI7B,EAEG6B,IACL7B,EAAO6B,EAAS,WAEZ,EAAC7B,IAIL6B,EAAW7B,EAAK,SAGlB,OAAOA,CACT,CAEA,SAASiV,GACTvW,EACAwW,EACA/Q,EACAvD,EACA,CAEEuD,EAAK,KAAKzF,CAAS,EAEfkC,IACFuD,EAAOvD,EAAU,OAAOuD,CAAI,GAG9B,IAAI8L,EAAkBtQ,GAAgBjB,EAAU,EAAE,EAC9CqR,EACJ,OAAOmF,GAAqB,WAC5BA,EACAjF,EAAgBiF,CAAgB,EAChC,GAAI,CAACnF,EACH,MAAM,MAAM,qBAAuBmF,CAAgB,EAGrDnF,EAAa,MAAME,EAAiB9L,CAAI,CAC1C,CAEA,SAASgR,GAAiBtW,EAAKuW,EAAO,CACpC,OAAOA,EAAQvW,EAAM,IAAMuW,EAAQvW,CACrC,CAEA,SAASwW,GAAyB3W,EAAWG,EAAKuW,EAAO,CACvD,OAAO1W,EAAU,GAAK,IAAMyW,GAAiBtW,EAAKuW,CAAK,CACzD,CASA,SAASE,GAAsB5W,EAAW6W,EAAcC,EAAU,CAChE,IAAIC,EACAC,EAEJ,QAASvX,KAAYoX,EACnB,GAAI1K,GAAe,KAAK0K,EAAcpX,CAAQ,EAAG,CAC/C,IAAIuC,EAAoB,UAAYvC,EAGpC,GADAsX,EAAgB/W,EAAUgC,CAAiB,EACvC+U,GACDC,IAAaA,EAAW,KAAK,KAAK,CAACvX,EAAUsX,CAAa,CAAC,MAI5D,QAQN,OAAIC,IAIFA,EAAS,QAAQ,SAAUC,EAAS,CAClC,IAAIrX,EAAeqX,EAAQ,CAAC,EAC5BF,EAAgBE,EAAQ,CAAC,EAEzB,IAAItM,EAAWkM,EAAajX,CAAY,EACpCgL,EAAWkM,EAASlX,CAAY,EACpCmX,EAAc,KAAK/W,EAAW2K,EAAUC,CAAQ,CACtD,CAAK,EAED5K,EAAU,IAAG,EACbA,EAAU,IAAG,GAGR,EACT,CAEA,SAASkX,GAAkBC,EAAmBC,EAAUC,EAAU,CAChE,GAAID,GAAYC,EAAU,CACxB,GAAID,GAAY,MAAQC,GAAY,KAClC,MAAO,GAGT,IAAIC,EAAU,OAAO,KAAKF,CAAQ,EAC9BG,EAAU,OAAO,KAAKF,CAAQ,EAC9BlZ,EAAMmZ,EAAQ,OAClB,GAAInZ,IAAQoZ,EAAQ,OAClB,MAAO,GAGT,QAASlZ,EAAIF,EAAKE,KAAM,CACtB,IAAI8B,EAAMmX,EAAQjZ,CAAC,EACnB,GAAI,EAAE8B,KAAOkX,GAAYD,EAASjX,CAAG,IAAMkX,EAASlX,CAAG,GACrD,MAAO,IAKb,MAAO,EACT,CAEA,IAAIqX,GAOJ,SAASC,GAAUC,EAAI,CACrB1R,GAAa,KAAK,IAAI,EACtB,KAAK,GAAK0R,EACV,KAAK,GAAK,KACV,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,IAAM,KACX,KAAK,GAAK,KACV,KAAK,GAAK,KACV,KAAK,GAAK,KACV,KAAK,IAAM,KACX,KAAK,GAAK,OACV,KAAK,IAAM,GACX,KAAK,IAAM,OACX,KAAK,IAAM,GACX,KAAK,GAAK,GACV,KAAK,IAAM,GACX,KAAK,IAAM,GACX,KAAK,IAAM,OAEX,IAAIC,EAAmB5B,GAA2B2B,CAAE,EAEhDC,GACF,KAAK,GAAKA,EACV,OAAO5B,GAA2B2B,CAAE,GAEpC,KAAK,GAAK,EAEd,CAEAD,GAAU,UAAYD,GAAiB,CACrC,GAAI,GAEJ,YAAa,SAAUjY,EAAQ,CAC7B,GAAI,CAACA,EACH,MAAM,UAAS,EAGjB,IAAIqY,EACJ,KAAK,MACL,KAAK,IAAM,IAAI1P,IAEX2P,EAAqBtY,EAAO,GAChC0W,GACAC,GAEA,OAAO0B,EAAc,YAAYrY,EAAQsY,CAAkB,CAC5D,EAED,KAAM,SAAUnG,EAAW,CACzB,IAAIoG,EAAe,KAAK,GACpBvY,EAEJ,GAAIuY,IAAiBvY,EAASuY,EAAapG,CAAS,GAAI,CACtD,IAAI8E,EAAmBjX,EAAO,CAAC,EAC3B0C,EAAS1C,EAAO,CAAC,EACjB2C,EAAY3C,EAAO,CAAC,EACpBkG,EAAOP,GAAM,KAAK,UAAW,CAAC,EAElCqR,GACA,KACAC,EACA/Q,EACAvD,CAAS,EAGLD,GACF,OAAO6V,EAAapG,CAAS,EAIjC,OAAOyE,GAAK,MAAM,KAAM,SAAS,CAClC,EACD,QAAS,SAAUhW,EAAKuW,EAAO,CAC7B,OAAKvW,EAGEwW,GAAyB,KAAMxW,EAAKuW,CAAK,EAFvC,KAAK,EAGf,EACD,MAAO,SAAUvW,EAAKuW,EAAO,CAC3B,GAAIvW,EAAK,CACP,IAAI4X,EACJ,KAAK,GAAG,IAAMtB,GAAiBtW,EAAKuW,CAAK,CAAC,EAc1C,OAAOqB,MAEP,QAAO,KAAK,EAEf,EACD,OAAQ,SAAU5X,EAAK,CACrBA,EAAMA,EAAM,KAKZ,QAHI6X,EAAM,CAAA,EACN3Z,EAAI,EACJ+C,EACGA,EAAK,KAAK,MAAMjB,EAAK9B,CAAC,GAC3B2Z,EAAI,KAAK5W,CAAE,EACX/C,IAEF,OAAO2Z,CACR,EACD,aAAc,SAAU7X,EAAKuW,EAAO,CAClC,IAAIhU,EAAW,KAAK,GAAG,IAAM+T,GAAiBtW,EAAKuW,CAAK,CAAC,EAUzD,OAAOhU,GAAY/B,GAAoB,IAAI+B,CAAQ,CACpD,EACD,cAAe,SAAUvC,EAAK,CAC5B,IAAI8K,EAAS,KAAK,GAAG,IAAM9K,EAAM,IAAI,EACrC,OAAO8K,EACP,OAAO,KAAKA,CAAM,EAClB,IAAI,SAAU9K,EAAK,CACjB,OAAOQ,GAAoB,IAAIsK,EAAO9K,CAAG,CAAC,CAChD,CAAK,EACD,OAAO,OAAO,EACd,EACD,EACD,QAAS,UAAY,CACnB,GAAI,MAAK,IAIT,KAAI8X,EAAO,KAAK,IAEhB,KAAK,IAAG,EAER,IAAI/I,EAAQ+I,EAAK,MAEjB/I,EAAM,QAAQ,SAAU5N,EAAM,CAC5BI,GAAqBJ,CAAI,EAErB0Q,GAAgB,IAAI1Q,CAAI,IAAM,IAChCA,EAAK,WAAW,YAAYA,CAAI,CAExC,CAAK,EAED2W,EAAK,SAAW,GAEhB,OAAOhX,GAAgB,KAAK,EAAE,EAC9B,KAAK,GAAK,GACX,EAED,IAAK,UAAY,CACf,GAAI,MAAK,IAIT,MAAK,IAAG,EACR,KAAK,IAAM,GAEXN,GAAoB,IAAI,KAAK,IAAK,MAAS,EAE3C,KAAK,IAAM,KAGX,KAAK,IAAG,EAER,IAAIiX,EAAgB,KAAK,IACrBA,IACFA,EAAc,mBAAkB,EAChC,KAAK,IAAM,MAEd,EAED,YAAa,UAAY,CACvB,OAAO,KAAK,GACb,EACD,IAAI,OAAQ,CACV,OAAO,KAAK,EACb,EACD,IAAI,MAAM1X,EAAU,CAClB,IAAIP,EAAQ,KAAK,GACb,CAACA,GAAS,CAACO,IAIVP,IACHA,EAAQ,KAAK,GAAK,IAAI,KAAK,IAAI,IAAI,GAGrCA,EAAM,IAAIO,GAAY,CAAA,CAAE,EAEpBP,EAAM,KACR,KAAK,IAAG,EAGLO,IACH,KAAK,GAAK,MAEb,EACD,SAAU,SAAUG,EAAMP,EAAO,CAC/B,IAAIH,EAAQ,KAAK,GAKjB,GAHKA,IACHA,EAAQ,KAAK,GAAK,IAAI,KAAK,IAAI,IAAI,GAEjC,OAAOU,GAAQ,SAAU,CAE3B,IAAIH,EAAWG,EACf,QAAS6X,KAAKhY,EACRiM,GAAe,KAAKjM,EAAUgY,CAAC,GACjCvY,EAAM,IAAIuY,EAAGhY,EAASgY,CAAC,EAAG,SAI9BvY,EAAM,IAAIU,EAAMP,EAAO,EAAI,CAE9B,EAED,cAAe,SAAUO,EAAMP,EAAO,CACpC,IAAIH,EAAQ,KAAK,GAEb,UAAU,QAAU,IACtBG,EAAQH,EAAMU,CAAI,GAGpBV,EAAM,IACNU,EACAP,EACA,GACA,GAED,EAED,aAAc,SAAUI,EAAU,CAChC,KAAK,GAAG,IAAIA,CAAQ,CACrB,EAED,IAAI,OAAQ,CACV,OAAO,KAAK,EACb,EACD,IAAI,MAAMmX,EAAU,CACd,KAAK,IACP,KAAK,GAAKA,EAEV,KAAK,IAAIA,CAAQ,CAEpB,EAED,IAAK,SAAUA,EAAUc,EAAS3T,EAAK,CACrC2T,EAAUA,GAAW,KAAK,QAC1B,IAAIC,EAEAhB,EAAW,KAAK,GACpB,YAAK,GAAK,OACV,KAAK,IAAM5S,GAAOA,EAAIwR,EAAW,GAAK,KAAK,IAEvCmC,IAGF,KAAK,IAAM,GACXC,EAAeD,EAAQ,KAAK,KAAMd,GAAY,CAAA,EAAI7S,CAAG,EACrD,KAAK,IAAM,IAGb6S,EAAW,KAAK,IAAMe,GAAgBf,GAElC,KAAK,IAAMH,GAAkB,KAAME,EAAUC,CAAQ,IACvD,KAAK,IAAG,EAGN,KAAK,KAAO,SACd,KAAK,GAAKA,EACNA,GAAYA,EAAS,UACvB,KAAK,IAAMA,EAAS,UAIjBA,CACR,EAED,YAAa,UAAY,CACvB,KAAK,IAAM,GACX,KAAK,IAAG,CACT,EAED,IAAK,UAAY,CACV,KAAK,KACR,KAAK,GAAK,GACVjN,GAAc,IAAI,IAAI,EAEzB,EAED,OAAQ,UAAY,CAClB,GAAI,OAAK,MAAQ,IAAQ,KAAK,MAAQ,IAItC,KAAIiO,EAAQ,KAAK,GACb1Y,EAAQ,KAAK,GAEb,KAAK,MAAQ,IAASA,IAAU,MAAQA,EAAM,MAAQ,IACpDiX,GAAsB,KAAMjX,EAAM,IAAKA,EAAM,GAAU,IACzDA,EAAM,IAAM,IAIZ,KAAK,MAAQ,IAIX,KAAK,aAAa0Y,EAAO1Y,CAAK,IAAM,IACtC,KAAK,IAAG,EAIZ,KAAK,IAAG,EACT,EAED,IAAI,KAAM,CACR,OACE,KAAK,MAAQ,IACb,KAAK,KAAO,MAAQ,KAAK,GAAG,MAAQ,EAEvC,EAED,IAAK,UAAY,CACf,KAAK,IAAM,GACX,KAAK,GAAK,GACV,KAAK,IAAM,KACX,IAAIA,EAAQ,KAAK,GACbA,GACFA,EAAM,IAAG,CAEZ,EAED,aAAc,UAAY,CACxB,MAAO,EACR,EAED,IAAK,UAAY,CACf,IAAIM,EAAO,KACPqY,EAAWrY,EAAK,IAEpB,GAAI,CAACqY,EACH,MAAM,UAAS,EAGjB,IAAID,EAAQ,KAAK,KAAO,KAAK,GAE7BjO,GAAc,IAAI,UAAY,CAC5BnK,EAAK,IAAIoY,EAAO,EAAK,EAAE,YAAYpY,EAAK,GAAG,CACjD,CAAK,EAED,KAAK,IAAG,CACT,EAED,IAAK,SAAUoY,EAAOnF,EAAW,CAC/B,IAAI7R,EAAO,KAAK,IACZgD,EAAa,KAAK,IAClB3B,EAAW,KAAK,IAChB4V,EAAW,KAAK,IAChBlU,EAAYkU,EAAS,WAAa5C,GAClClR,EAAMJ,EAAUC,CAAU,EAC9BG,EAAI,KAAI,EACRA,EAAI,IAAM,KAAK,IACfA,EAAIwR,EAAW,EAAI,KAAK,IAExB,IAAInP,EAAoB9B,GAAqBP,CAAG,EAC5CI,EAA0BiC,EAAkB,GAChDjC,EAAwB,IAAM,KAC9BA,EAAwB,GAAKsO,EAE7BoF,EAASD,EAAO7T,CAAG,EAEnB,IAAIgC,EAAS,IAAIC,GAAajC,CAAG,EAE7B+T,EAAa/T,EAAI,IAAG,EAAG,IAE3BuO,OAAAA,GAASrQ,EAAU6V,EAAYlX,EAAMwF,CAAiB,EAE/CL,CACR,EAED,IAAK,UAAY,CACf,IAAIyR,EAAO,KAAK,IAChB,OAAAA,EAAK,OAAM,EACJA,CACR,EAED,IAAK,UAAY,CACf,IAAIO,EAAuB,KAAK,IAC5BA,IACFA,EAAqB,QAAQpC,EAAc,EAC3C,KAAK,IAAM,KAEd,EAED,IAAI,KAAM,CACR,IAAIzW,EAAQ,KAAK,GACjB,OAAOA,GAASA,EAAM,GACvB,EAED,IAAK,SAAUmY,EAAcW,EAAO,CAClC,IAAIC,EAAoB,KAAK,GAAK,GAClC,KAAK,GAAKD,EAEVX,EAAa,QAAQ,SAAUa,EAAa,CAC1C,IAAIjH,EAAYiH,EAAY,CAAC,EACzBnC,EAAmBmC,EAAY,CAAC,EAChC1W,EAAS0W,EAAY,CAAC,EACtBzW,EAAYyW,EAAY,CAAC,EAEzBnC,IACFkC,EAAkBhH,CAAS,EAAI,CAAC8E,EAAkBvU,EAAQC,CAAS,EAE3E,CAAK,CACF,EAED,IAAI,IAAK,CACP,OAAOoU,GAAc,KAAK,GAAG,CAC9B,EAED,IAAI,KAAM,CAOR,OAAQ,KAAK,IAAM,KAAK,IAAI,MAAQ,CAAE,GAAE,OAAO,SAC/ClV,EACA,CACE,OAAOA,EAAG,WAAakR,EAC7B,CAAK,CACF,EAED,IAAK6D,GACL,IAAIkC,EAAO7T,EAAK,CACd,KAAK,UAAY,KAAK,SAAS6T,EAAO7T,CAAG,EACzC,KAAK,IAAI,SAAU6T,EAAO7T,CAAG,CAC9B,EAED,IAAIA,EAAK,CACP,KAAK,UAAY,KAAK,SAASA,CAAG,EAClC,KAAK,IAAI,SAAUA,CAAG,CACvB,EAED,KAAM,CACJ,KAAK,UAAY,KAAK,WACtB,KAAK,IAAI,QAAQ,CAClB,EAED,KAAM,CACJ,KAAK,SAAW,KAAK,UACrB,KAAK,IAAI,OAAO,CACjB,EAED,KAAM,CACJ,KAAK,WAAa,KAAK,YACvB,KAAK,IAAI,SAAS,CACnB,CACH,EAEAgT,GAAe,KAAOA,GAAe,QACrCA,GAAe,IAAMA,GAAe,OACpCA,GAAe,IAAMA,GAAe,QASpC1T,GACA0T,GACA,SAAexX,EAAW,CACxB,OAAOA,EAAU,KACnB,EACA,SAAqBA,EAAW,CAC9B,OAAOA,CACT,CAAC,EAGD4I,GAAQ6O,GAAWzR,EAAY,EAE/B,IAAA4S,GAAiBnB,GCrpBboB,GAAY/a,GACZgb,GAAgBtV,GAChBoF,GAAUnF,GAEdsV,GAAiB,SAAyBC,EAAKV,EAAU,CACvD,GAAIU,EAAI,GACN,OAAOA,EAGT,IAAIC,EAAiB,UAAY,GAC7BpZ,EAEA+F,EAAO,OAAOoT,EAElB,GAAIpT,GAAQ,WACV/F,EAAQmZ,EAAI,kBACHpT,GAAQ,SACjB/F,EAAQmZ,MAER,OAAM,UAAS,EAGjBC,EAAe,UAAYpZ,EAQ3B,SAAS4X,EAAUC,EAAI,CACrBoB,GAAc,KAAK,KAAMpB,CAAE,CAC5B,CAEI7X,EAAM,IAET+I,GAAQqQ,EAAgBH,EAAa,EAKvCjZ,EAAQ4X,EAAU,UAAYwB,EAAe,UAM7CxB,EAAU,GAAK,GAEf,SAAS1X,EAAMC,EAAW,CACxB6Y,GAAU,KAAK,KAAM7Y,CAAS,CAC/B,CACD,OAAA4I,GAAQ7I,EAAO8Y,EAAS,EACxBhZ,EAAM,IAAME,EACZF,EAAM,IAAMyY,EAELb,CACT,iBC5DA,IAAA5Z,GAAiBC,GCEbob,GAAUpb,GAA4B,KACtCqb,GAAgB3V,EAChB1B,GAAsBqX,GAAc,IACpC1H,GACJhO,EAA8B,IAC1BnE,GAAS0M,GACThB,GAAckF,GACdhP,GAAe,CAAA,EAEfkY,GAAgC,EAChCC,GAAuB,EAO3B,SAASC,GAAatZ,EAAWmC,EAAa0E,EAAmB,CAC/D,KAAK,IAAMA,EACX,KAAK,GAAK7G,EACV,KAAK,GAAKmC,EAEV,KAAK,GAAK,OAEV,KAAK,IAAM,GAEX,KAAK,GAAK,GACV,KAAK,GAAK,EAEV,KAAK,IAAM,EACX,KAAK,IAAM,IACb,CAEAmX,GAAa,UAAY,CACvB,IAAK,SAAUnZ,EAAK,CAClB,OACA,KAAK,MAAQ,KAAK,IAAM,IAAI6K,KAAgB,IAC5C7K,CAAG,CACJ,EAMD,KAAM,SAAUoZ,EAAU,CACxB,IAAI7B,EAAK,KAAK,GAEd,OAAI6B,GAAY,KACP7B,GAEH,OAAO6B,GAAa,WAMtBA,EAAW,OAAOA,CAAQ,GAGxBA,EAAS,QAAQ,GAAG,IAAM,IAC5B7B,EAAK,IAAMA,EACX6B,EAAWA,EAAS,UAAU,CAAC,GAG1B7B,EAAK,IAAM6B,EAErB,EAID,IAAK,UAAY,CACf,OAAO,KAAK,GAAK,KAAO,KAAK,KAC9B,EAED,EAAG,SAAUrI,EAAWlP,EAAmBC,EAAQC,EAAW,CAC5D,OAAAuP,GAAyBP,CAAS,EAC3BpP,GAAoB,KAAME,EAAmBC,EAAQC,CAAS,CACtE,EAED,IAAI,IAAK,CACP,OAAO,KAAK,GAAG,EAChB,CACH,EAEAoX,GAAa,UAAU,GAAKA,GAAa,UAAU,IAEnDA,GAAa,IAAM,SAAUE,EAAGC,EAAO7b,EAAQ8b,EAAU,CACvD,IAAIhC,EAAK8B,EAAE,CAAC,EACRG,EAAWF,EAAMD,EAAE,CAAC,CAAC,EACrBnB,EAAQmB,EAAE,CAAC,GAAK,KAChBI,EAAQJ,EAAE,CAAC,GAAKtY,GAEhBvB,EAAQia,EAAM,EACdC,EAAiBD,EAAM,EACvBlM,EAAQkM,EAAM,EACd5Z,EAAY0Z,EAAS,IAAIC,EAAUjC,CAAE,EAUzC,GANA1X,EAAU,GAAK,GAEX0N,EAAQ2L,MACThB,IAAUA,EAAQ,CAAE,IAAG,WAAaa,IAGnCxL,EAAQ0L,GACNpZ,EAAU,UACZA,EAAU,SAASqY,EAAO,CAAE,OAAQza,CAAQ,CAAA,EAE1CoC,EAAU,UACZqY,EAAQrY,EAAU,QAAQqY,EAAO,CAAE,OAAQza,CAAM,CAAE,GAAKya,OAErD,CACL,GAAI1Y,EAAO,CACT,IAAIma,EAAqBF,EAAM,EAC3BE,GACFA,EAAmB,QAAQ,SAAUC,EAAmB,CACtDpa,EAAMoa,CAAiB,EAAI,MACrC,CAAS,EAIH/Z,EAAU,MAAQL,EAGhBka,GACFva,GAAOU,EAAW6Z,CAAc,EAIpC7Z,EAAU,GAAKqY,EAEXuB,EAAM,IACR5Z,EAAU,GAAK4Z,EAAM,GAGvB,IAAInB,EAAQmB,EAAM,EACd9B,EAAe8B,EAAM,EACzB,OAAI9B,GACF9X,EAAU,IAAI8X,EAAcW,CAAK,EAGnCzY,EAAU,IAAMpC,EAET,CACL,GAAI8Z,EACJ,GAAI1X,EACJ,GAAI4Z,EAAM,EACV,GAAIA,EAAM,GAAK,CACnB,CACA,EAEA,IAAAI,GAAiBV,gBCzJjB,IAAIW,EAAiBnc,GACjBoc,EAAiB1W,GACjBuV,EAAkBtV,GAClBuO,EAAkBhG,EAClBsD,EAC8CY,GAAC,GAC/CoJ,EAAenJ,GACfzP,EAAU0P,GACV7M,EAAiB4O,EACjBlR,EAAkBsC,EAAe,GACjCf,EACJe,EAAe,GACXwS,EAA6BrV,EAAQ,GACrCC,EAAsBD,EAAQ,GAC9ByZ,EAA2B,CAAA,EAC3BC,EAAqB,CAAA,EACrBzc,EAAM,OAEN0c,EAAqB,IACrBjB,EAAgC,EAGhCkB,EAAa,CAAA,EACbC,EAAS,CAAA,EACTC,EAAiB,CAAA,EACjBC,EACAC,EAEJ,SAASC,EAAS/U,EAAMoT,EAAK,CAC3B,IAAI4B,EACJ,OAAIF,IACFE,EAAiBF,EAAY9U,CAAI,GAEnC0U,EAAW1U,CAAI,EAAIoT,EACnB,OAAOuB,EAAO3U,CAAI,EAClB,OAAO4U,EAAe5U,CAAI,EAEtBgV,IACF,OAAOF,EAAY9U,CAAI,EACvBsU,EAAe,UAAY,CACzBU,EAAe,QAAQ,SAAUnV,EAAM,CACrCoV,EAAoBpV,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,EAAC,CAC/D,CAAO,CACP,CAAK,GAGIG,CACR,CAED,SAASkV,EAAc9B,EAAKpT,EAAMmV,EAAM1Z,EAAML,EAAW,CAClD0Z,IACHA,EAAc,CAAA,IAcfA,EAAY9U,CAAI,EAAI8U,EAAY9U,CAAI,GAAK,CAAE,GAAE,KAAK,CACnDoT,EACA+B,EACA1Z,EACAL,CAAS,CAAC,CAEX,CAED,SAASga,EAAKrB,EAAU,CACtB,IAAIpa,EAASgb,EAAOZ,CAAQ,EAC5B,GAAI,CAACpa,EAAQ,CAOX,GANAA,EAAS+a,EAAWX,CAAQ,EAExBpa,IACFA,EAASA,EAAM,GAGb,CAACA,EACH,MAAM,MAAM,wBAA0Boa,CAAQ,EAGhDY,EAAOZ,CAAQ,EAAIpa,EAGrB,OAAOA,CACR,CAED,SAAS0b,GAAkBtB,EAAU,CACnC,IAAIV,EAAiBuB,EAAeb,CAAQ,EAE5C,OAAIV,IAIJA,EAAiB+B,EAAKrB,CAAQ,EAE9BV,EAAiBA,EAAe,WAAaA,EAExCA,EAAe,KAClBA,EAAiBF,EAAgBE,EAAgBA,EAAe,QAAQ,GAI1EA,EAAe,UAAU,GAAKU,EA0B9Ba,EAAeb,CAAQ,EAAIV,EAEpBA,EACR,CAED,SAASiC,EAAgBvB,EAAUjC,EAAI,CACrC,IAAIuB,EAAiBgC,GAAkBtB,CAAQ,EAC/C,OAAO,IAAIV,EAAevB,CAAE,CAC7B,CAED,SAASyD,EAA+B7Z,EAAMN,EAAWoa,EAAO,CAC9D,IAAIjZ,EACAkZ,EACAhQ,EACA5I,EACAQ,EACAqY,EAAgBta,EAAU,OAI9B,IAHAoa,EAAQA,GAAS,GAEjB9Z,EAAOA,EAAK,WACLA,GAAM,CAEX,GADA2B,EAAc3B,EAAK,YACfA,EAAK,WAAa,EAAG,CAEvB,IAAIia,EAAeja,EAAK,UACxB,GAAIia,EAAa,MAAM,EAAGD,CAAa,IAAMta,EAAW,CACtD,IAAIwa,EAAYD,EAAaD,CAAa,EAE1C,GAAIE,IAAc,KAAOA,IAAc,IACrCJ,EAAM,KAAK9Z,CAAI,UACNka,IAAc,IAAK,CAC5B,IAAIxG,EAAU1T,EACViO,GAAY6L,EAAM,MAClB1Y,GAcJ,GAZI6M,GAAU,aAAeyF,EAAQ,WACnCtS,GAAW4M,EAAmBC,GAAU,YAAayF,CAAO,EAE5DtS,GAAW4M,EACX0F,EAAQ,WAAW,WACnBA,CAAO,EAIT7S,EAAcoN,GAAU,UAAU,UAAU+L,EAAgB,CAAC,EAC7DE,EAAYjM,GAAU,UAAU+L,CAAa,EAEzCE,IAAc,IAAK,CACrB,IAAIC,GAAQtZ,EAAY,MAAM,IAAI,EAC9BhC,GAAMsb,GAAM,CAAC,EACjBJ,EAAUI,GAAM,CAAC,EACjBtZ,EAAcsZ,GAAM,CAAC,GACjBpQ,EAAiBpK,EAAgBoa,CAAO,GAC1C5Y,EAAgB4I,EAAe,GAE/B5I,EACAsT,EAA2BsF,CAAO,IAClCtF,EAA2BsF,CAAO,EAAI,CAAA,GAExC7Y,EACAC,EACAtC,GACAuC,GACAP,CAAW,EAIbgY,EAAyBhY,CAAW,EAAIO,GAExC6M,GAAU,WAAW,YAAYA,EAAS,EAC1CyF,EAAQ,WAAW,YAAYA,CAAO,YAGjC1T,EAAK,WAAa,EAAG,CAE9B,IAAIoa,GAAWpa,EAAK,aAAa,gBAAgB,EAC7Cqa,GAAapY,EAAe,GAAGjC,CAAI,EACvC,GAAIoa,GAAU,CACZ,IAAIE,GAAiBF,GAAS,QAAQ,GAAG,EACzCL,EAAUK,GAAS,UAAUE,GAAiB,CAAC,EAC/CF,GAAWA,GAAS,UAAU,EAAGE,EAAc,GAC3CvQ,EAAiBpK,EAAgBoa,CAAO,GAC1C5Y,EAAgB4I,EAAe,GAE/B5I,EACAsT,EAA2BsF,CAAO,IAClCtF,EAA2BsF,CAAO,EAAI,CAAA,GAExC5Y,EAAciZ,EAAQ,EAAIpa,EAExBqa,IACF,OAAO,KAAKA,EAAU,EAAE,QAAQ,SAAUxb,GAAK,CACzCA,GAAI,MAAM,EAAG,CAAC,IAAM,MACtB6R,EAAgB,IAAI7R,GAAI,MAAM,CAAC,CAAC,CAE5C,CAAS,EAEHgb,EAA+B7Z,EAAMN,EAAWoa,CAAK,EAGvD9Z,EAAO2B,EAEV,CAED,SAAS4Y,EAA4B7b,EAAWwW,EAAkB/Q,EAAM,CACtE,IAAIqW,EAAS9b,EAAUwW,CAAgB,EACvC,GAAI,CAACsF,EACH,MAAM,MAAM,qBAAuBtF,CAAgB,EAGrDsF,EAAO,MAAM9b,EAAWyF,CAAI,CAC7B,CAED,SAASsW,EAAuB3a,EAAIsQ,EAAWzP,EAAQqD,EAAU,CAC/D,IAAI0W,EAAgB1W,EACpB,OAAIrD,IACF+Z,EAAgB,SAAUnU,EAAO,CAC/BvC,EAASuC,CAAK,EACdzG,EAAG,oBAAoBsQ,EAAWsK,CAAa,CACrD,GAGE5a,EAAG,iBAAiBsQ,EAAWsK,EAAe,EAAK,EAE5C,UAAkB,CACvB5a,EAAG,oBAAoBsQ,EAAWsK,CAAa,CACnD,CACC,CAED,SAASC,EACTjc,EACAoB,EACAsQ,EACA8E,EACAvU,EACAC,EACAga,EACA,CACE,IAAI9F,EAAiB2F,EACrB3a,EACAsQ,EACAzP,EACA,SAAU4F,EAAO,CACf,IAAIpC,EAAO,CAACoC,EAAOzG,CAAE,EACjBc,IACFuD,EAAOvD,EAAU,OAAOuD,CAAI,GAG9BoW,EAA4B7b,EAAWwW,EAAkB/Q,CAAI,CACjE,CAAG,EAEDyW,EAAQ,KAAK9F,CAAc,CAC5B,CAED,SAAS+F,GAAcpa,EAAcV,EAAM,CACzC,IAAIrB,EAAY+B,EAAa,GAE7B/B,EAAU,IAAG,EACbA,EAAU,IAAMqB,EAEhB,IAAI+a,EAAara,EAAa,IAE1Bqa,GACFpc,EAAU,IAAG,EAGf,IAAIqc,EAAYta,EAAa,GAC7B,GAAIsa,EAAW,CACb,IAAI7D,EAAuB,CAAA,EAE3B6D,EAAU,QAAQ,SAAUC,EAAc,CAGxC,IAAI5K,EAAY4K,EAAa,CAAC,EAC1B9F,EAAmB8F,EAAa,CAAC,EACjCC,EAAUvc,EAAU,GAAGsc,EAAa,CAAC,CAAC,EACtCra,EAASqa,EAAa,CAAC,EACvBpa,EAAYoa,EAAa,CAAC,EAE9BL,EACAjc,EACAuc,EACA7K,EACA8E,EACAvU,EACAC,EACAsW,CAAoB,CAE1B,CAAK,EAEGA,EAAqB,SACvBxY,EAAU,IAAMwY,GAIhBxY,EAAU,IACZA,EAAU,IAAG,GAEbA,EAAU,IAAM,GAChBA,EAAU,IAAG,EAEhB,CAUD,SAASwc,GAAmB1X,EAAezD,EAAM,CAC1CA,IAAMA,EAAO,UAGlB2Q,EAAgB,IAAI3Q,CAAI,EACxB,IAAIlD,EAAM2G,EAAc,OACpB/C,EACA1D,EAEJ,IAAKA,EAAIF,EAAKE,KACZ0D,EAAe+C,EAAczG,CAAC,EAC9Boe,GAAe1a,CAAY,EAG7B,IAAK1D,EAAIF,EAAKE,KACZ0D,EAAe+C,EAAczG,CAAC,EAC9B8d,GAAcpa,EAAcV,CAAI,CAEnC,CAMD,SAASqb,GAAmBC,EAAoBtb,EAAM,CACpD,IAAIuE,EAAO,OAAO+W,EACdC,EAAY,IACZ5b,EAEJ,GAAI4E,IAAS,SAAU,CACjBA,IAAS,UACX5E,EAAY2b,EACZC,GAAa5b,EAAY,MAEzB4b,IAAc5b,EAAYqZ,GAAsB,IAGlDsC,EAAqBhf,EAAIif,CAAS,EAelC,IAAIC,EAAYlf,EAAIif,CAAS,EAAI,CAC/B,EAAG5b,EACH,OAAQ0b,EACd,EAOI,OAAIC,GAAsBA,EAAmB,SAC3CA,EAAmB,QAAQ,SAAUG,EAAmB,CACtDD,EAAU,OAAOC,CAAiB,CAC1C,CAAO,EAGID,EAGT,IAAIE,EAA0B,KAAK,SAAWL,GAC9CC,EAAqB1C,EAAe0C,CAAkB,EAElDI,GACF/b,EAAY,KAAK,EACjBK,EAAO,WAEPL,EAAY2b,EAAmB,GAAKtC,EAC/BhZ,IAAMA,EAAO,WAmBpB,IAAI2b,EAASL,EAAmB,GAAK,GACjC5B,EAAOX,EAAmB4C,CAAM,EAChCC,EAASN,EAAmB,EAEhC,OAAI5B,EACEkC,GACF,OAAO7C,EAAmB4C,CAAM,GAGlCjC,EAAO,CAAA,EAEFkC,IACH7C,EAAmB4C,CAAM,EAAIjC,IAMjCI,EAA+B9Z,EAAML,CAAS,EAC9CgR,EAAgB,IAAI3Q,CAAI,EAEpBsb,EAAmB,IACrB5B,EAAK,IAAM4B,EAAmB,GAG5BA,EAAmB,IACrB5B,EAAK,IAAMA,EAAK,IAChBA,EAAK,IAAI,OAAO4B,EAAmB,CAAC,EACpCA,EAAmB,IAKpBA,EAAmB,GAAK,CAAE,GAC3B,IAAI,SAAU5a,EAAc,CAC1B,IAAI4X,EAAWoB,EAAK,IAAIhZ,EAAa,CAAC,CAAC,EAEvC,OAAOuY,EAAWX,CAAQ,EAC1BkB,EAAoB9Y,EAAcgZ,EAAM1Z,EAAML,CAAS,EACvD8Z,EAAc/Y,EAAc4X,EAAUoB,EAAM1Z,EAAML,CAAS,CAC/D,CAAG,EACD,QAAS,EACT,QAAQkc,EAAS,EAEV,IACR,CAED,SAASrC,EAAoBsC,EAAQpC,EAAM1Z,EAAML,EAAW,CAC1D,IAAIe,EAAeuX,EAAa,IAChC6D,EACApC,EAAK,IACLA,EAAK,IACL9V,CAAO,EAEHmY,EAAQC,GAA4Btb,EAAcV,CAAI,EAE1D,OAAK+b,IAIC3C,EACFA,EAAa,KAAK1Y,CAAY,GAE9B0Y,EAAe,CAAC1Y,CAAY,EAC5B,SAAS,iBAAiB,mBAAoB,UAAY,CACxDoZ,EAA+B9Z,EAAML,CAAS,EAC9CyZ,EACA,IAAI,SAAU1Y,EAAc,CAC1B,OAAOsb,GAA4Btb,EAAcV,CAAI,CAC/D,CAAS,EACD,QAAS,EACT,QAAQ6b,EAAS,EACjBzC,EAAe,MACvB,CAAO,IAIE2C,CACR,CAED,SAASC,GAA4Btb,EAAcV,EAAM,CACvD,IAAIc,EAAcJ,EAAa,GAC3B/B,EAAY+B,EAAa,GACzBW,EAAWyX,EAAyBhY,CAAW,EAC/C2E,EAEJ,GAAIpE,EAMF,OALA,OAAOyX,EAAyBhY,CAAW,EAE3CnC,EAAU,IAAM0C,EAChB/B,EAAoB,IAAI+B,EAAU1C,CAAS,EAEvC+B,EAAa,GAAKqX,GACpBpZ,EAAU,IAAMqB,EAChByF,EAAe9G,EAAU,IAAIA,EAAU,GAAI,EAAI,EAC/Cyc,GAAe1a,CAAY,EACpB,UAAiB,CACtB+E,EAAa,YAAYzF,CAAI,CACrC,IAEMob,GAAe1a,CAAY,EAGtB,UAAiB,CACtBoa,GAAcpa,EAAcV,CAAI,CACtC,EAEC,CAED,SAASob,GAAe1a,EAAc,CACpC,IAAI/B,EAAY+B,EAAa,GACzB/B,IACFiB,EAAgBjB,EAAU,EAAE,EAAIA,EAEnC,CAED,SAASkd,GAAUzS,EAAI,CACjBA,GAAIA,GACT,CAEDxF,EAAA,EAAY0V,EACZ1V,EAAA,IAAciW,EACdjW,EAAA,IAAcgW,GACdhW,EAAA,GAAatH,EAAI,gBAAkB+e,GAEqB/G,GAAC,IAAM6G,SCzjBlD,IAAI9C,GAAW5b,GAE5B8E,GAAA,kBAA4BY,EAAqC,GACjEZ,GAAA,KAAe8W,GAAS,GACxB9W,GAAA,SAAmB,SAAU8U,EAAI1X,EAAW,CAC1C0Z,GAAS,EAAEhC,EAAI,UAAY,CACzB,OAAO1X,CACX,CAAG,CACH,ECRY,IAAC4G,GAAiB9I,GCE9B,IAAAwf,GAAiB,SAASC,EAAYnY,EAAK,CACzC,OAAQ,OAAOA,EAAG,CAChB,IAAK,SACH,OAAOA,GAAO,KAChB,IAAK,SACH,IAAIoB,EAAS,GACTgX,EAAM,GAEV,GAAI,MAAM,QAAQpY,CAAG,EACnB,QAAS/G,EAAI,EAAGF,EAAMiH,EAAI,OAAQ/G,EAAIF,EAAKE,IAAK,CAC9C,IAAIyB,EAAQyd,EAAYnY,EAAI/G,CAAC,CAAC,EAC1ByB,IACF0G,GAAUgX,EAAM1d,EAChB0d,EAAM,SAIV,SAASrd,KAAOiF,EACVA,EAAIjF,CAAG,IACTqG,GAAUgX,EAAMrd,EAChBqd,EAAM,KAKZ,OAAOhX,GAAU,KAEnB,QACE,OAAO,IAAK,CAElB,QC9BIiX,GAAoB,OAAO,OAAO,IAAI,EACtCC,GAAoB,OAAO,OAAO,IAAI,EAK1CC,GAAA,IAAc,SAAyBtd,EAAM,CAC3C,IAAIud,EAAaH,GAAkBpd,CAAI,EACvC,OAAKud,IACHA,EAAaH,GAAkBpd,CAAI,EAAIA,EACvC,QAAQ,WAAY,KAAK,EACzB,cAEIud,IAAevd,IACjBqd,GAAkBE,CAAU,EAAIvd,IAI7Bud,CACT,EAKAD,GAAA,IAAc,SAAyBtd,EAAM,CAC3C,IAAIwd,EAAYH,GAAkBrd,CAAI,EACtC,OAAKwd,IACHA,EAAYH,GAAkBrd,CAAI,EAAIA,EAAK,QAC3C,YACAyd,EAAgB,EAGZD,IAAcxd,IAChBod,GAAkBI,CAAS,EAAIxd,IAI5Bwd,CACT,EAEA,SAASC,GAAiBC,EAAGC,EAAM,CACjC,OAAOA,EAAK,aACd,CC1CA,IAAIC,GAAangB,GAKjBogB,GAAiB,SAASC,EAAYC,EAAO,CAC3C,GAAI,CAACA,EACH,OAAO,KAGT,IAAIxY,EAAO,OAAOwY,EAElB,GAAIxY,IAAS,SAAU,CACrB,IAAIyY,EAAS,GAEb,GAAI,MAAM,QAAQD,CAAK,EACrB,QAAS/f,EAAI,EAAGF,EAAMigB,EAAM,OAAQ/f,EAAIF,EAAKE,IAAK,CAChD,IAAI6E,EAAOib,EAAYC,EAAM/f,CAAC,CAAC,EAC3B6E,IAAMmb,GAAUnb,GAAQA,EAAKA,EAAK,OAAS,CAAC,IAAM,IAAM,IAAM,aAE3D0C,IAAS,SAClB,QAASvF,KAAQ+d,EAAO,CACtB,IAAIte,EAAQse,EAAM/d,CAAI,EAClBP,GAAS,MAAQA,IAAU,KACzB,OAAOA,GAAU,UAAYA,IAC/BA,GAAS,MAGXue,GAAUJ,GAAW,IAAI5d,CAAI,EAAI,IAAMP,EAAQ,KAKrD,OAAOue,GAAU,KAGnB,OAAOD,CACT,ECrCIb,GAAczf,GACdqgB,GAAc3a,GAKlBgK,GAAiB,SAAUM,EAAY,CACrC,GAAIA,GAAc,KAAM,CAUtB,IAAIwQ,EAAgB,CAAA,EAEpB,QAASvQ,KAAYD,EAAY,CAC/B,IAAIyQ,EAAMzQ,EAAWC,CAAQ,EACzBA,IAAa,eAIbA,IAAa,QACfwQ,EAAMhB,GAAYgB,CAAG,EACZxQ,IAAa,UACtBwQ,EAAMJ,GAAYI,CAAG,GAGvBD,EAAcvQ,CAAQ,EAAIwQ,GAG5B,OAAOD,EAGT,OAAOxQ,CACT,ECxCiB9H,GAAelI,GAC5B+S,GAAOrN,EACP8J,GAAWuD,GAAK,IAChBhF,GAAoBgF,GAAK,IACzBjC,GAAQiC,GAAK,IACb/B,GAAa+B,GAAK,IAClBjB,GAAYiB,GAAK,IACjBJ,GAAiBI,GAAK,IACtBpK,GAAehD,GACfsP,GAAW/G,GACXwS,GAActO,GAEduO,GAAe,SACfC,GAAe,SAEnB,SAAS3e,GAAM4e,EAAM,CACnB,KAAK,IAAM,IAAI3Y,GACf,KAAK,IAAM2Y,EACX,KAAK,IAAM,EACb,CAEA,SAASC,GAAiBva,EAAYtB,EAAY8b,EAAW,CACtD9b,IACHA,EAAa,IAAI8I,IAGnB,IAAIlM,EAEAkf,EACFlf,EAAQkf,EAAU,GAElBlf,EAAQ,IAAII,GAAMgD,CAAU,EAG9B,KAAK,IAAM,EACX,KAAK,IAAM,EACX,KAAK,IAAM,KACX,KAAK,IAAM8b,EAEX,KAAK,KAAO,GACZ,KAAK,GAAKlf,EACV,KAAK,GAAKoD,EACV,KAAK,OAASsB,GAAc,GAC5B,KAAK,IAAM,CAACtB,CAAU,EACtB,KAAK,IAAM,GACX,KAAK,IAAM,OACX,KAAK,GAAK,KAEV,KAAK,GAAK,KACV,KAAK,GAAK,KACV,KAAK,IAAM,IACb,CAEA,IAAIlD,EAAQ+e,GAAiB,UAAY,CACvC,IAAK,GACL,IAAK,OAAO,UAAa,UAAY,SAErC,GAAI,SAAU5e,EAAWG,EAAKkL,EAAgB,CAC5C,IAAIsI,EAAa,IAAI7E,GAAW9O,EAAWG,EAAKkL,CAAc,EAC9D,OAAO,KAAK,IAAIsI,EAAY,EAAG,EAAI,CACpC,EAED,IAAK,SAAU3T,EAAWG,EAAKkL,EAAgB,CAC7C,IAAIsI,EAAa,IAAI7E,GAAW9O,EAAWG,EAAKkL,EAAgB,EAAI,EACpE,KAAK,IAAIsI,EAAY,CAAC,CACvB,EAED,IAAK,SAAUpI,EAAOkC,EAAYqR,EAAa,CAC7C,YAAK,GAAG,IAAIvT,CAAK,EACbuT,IAAgB,KAClB,KAAK,IAAI,KAAKvT,CAAK,EACnB,KAAK,GAAKA,GAELkC,IAAe,EAAI,KAAOlC,CAClC,EAED,QAAS,SAAUgC,EAASC,EAAOrN,EAAKH,EAAWyN,EAAYC,EAAOC,EAAO,CAC3E,IAAIoR,EAAU,IAAIzR,GAClBC,EACAC,EACArN,EACAH,EACAyN,EACAC,EACAC,CAAK,EAEL,OAAO,KAAK,IAAIoR,EAAStR,CAAU,CACpC,EAED,IAAK,SAAUF,EAASC,EAAOrN,EAAK4B,EAAc4L,EAAO,CACvD,OAAO,KAAK,QACZJ,EACAiR,GAAYhR,CAAK,EACjBrN,EACA4B,EAAa,GACb,EACA,EACA4L,CAAK,CAEN,EAED,EAAG,SAAUrM,EAAMtB,EAAW,CAG5B,IAAIgf,EAAQ1d,EAAK,MACjB,YAAK,KAAK0d,CAAK,EACfA,EAAM,IAAMhf,EAEL,IACR,EAED,KAAM,SAAUsB,EAAM,CACpB,YAAK,GAAG,IAAIA,CAAI,EACT,IACR,EAED,KAAM,SAAU2d,EAAM5T,EAAgB,CACpC,IAAIzF,EAAO,OAAOqZ,EAElB,GAAIrZ,GAAQ,SAAU,CACpB,GAAIqZ,GAAQ,KACV,OACK,GAAIrZ,IAAS,UACdqZ,EAAK,OACP,OAAO,KAAK,EAAEA,EAAK,OAAQ,EAAE5T,CAAc,EAI/C4T,EAAOA,EAAK,WAGd,YAAK,GAAG,IAAI,IAAIrQ,GAAMqQ,EAAM5T,CAAc,CAAC,EACpC,IACR,EAED,KAAM,SAAU0E,EAAM1E,EAAgB,CACpC,GAAI0E,GAAQ,KAAM,CAChB,IAAIa,EAAWH,GAAeV,EAAM1E,CAAc,EAClD,KAAK,KAAKuF,CAAQ,EAGpB,OAAO,IACR,EAED,aAAc,SACdrD,EACAC,EACArN,EACAH,EACAyN,EACAC,EACAC,EACA,CACE,IAAIoR,EAAU,IAAIzR,GAClBC,EACAC,EACArN,EACAH,EACAyN,EACAC,EACAC,CAAK,EAEL,YAAK,IAAIoR,EAAStR,EAAY,EAAI,EAC3B,IACR,EAED,IAAK,SAAUF,EAASC,EAAOrN,EAAK4B,EAAc4L,EAAO,CACvD,OAAO,KAAK,aACZJ,EACAiR,GAAYhR,CAAK,EACjBrN,EACA4B,EAAa,GACb,EACA,EACA4L,CAAK,CAEN,EAED,GAAI,SAAUxN,EAAKH,EAAW+O,EAAU,CACtC,IAAI5L,EAAW,IAAIyM,GAAUzP,EAAKH,EAAW+O,CAAQ,EACrD,YAAK,IAAI5L,EAAU,KAAM,EAAI,EACtB,IACR,EAED,GAAI,UAAY,CACd,KAAK,WAAU,CAChB,EAED,WAAY,UAAY,CACtB,IAAIiY,EAAQ,KAAK,IACjBA,EAAM,IAAG,EACT,KAAK,GAAKA,EAAMA,EAAM,OAAS,CAAC,CACjC,EAED,IAAK,UAAY,CACf,KAAK,GAAK,OAEV,IAAI8D,EAAY,EAAE,KAAK,IACnBL,EAAY,KAAK,IAErB,OAAIK,IAAc,EACZL,EACFA,EAAU,IAAG,EAEb,KAAK,IAAG,EAEDK,EAAY,KAAK,MAAQ,GAClC,KAAK,IAAG,EAGH,IACR,EAED,IAAK,UAAY,CACf,IAAIA,EAAY,EAAE,KAAK,IAEvB,GAAIA,IAAc,EAAG,CACnB,IAAIL,EAAY,KAAK,IACjBA,EACFA,EAAU,IAAG,EAEb,KAAK,IAAG,OAEDK,EAAY,KAAK,MAAQ,GAClC,KAAK,IAAG,CAEX,EAED,IAAK,UAAY,CACf,IAAIvf,EAAQ,KAAK,GACjBA,EAAM,IAAM,GACZA,EAAM,IAAI,KAAK+e,GAAc,KAAK,IAAG,CAAE,CACxC,EAED,IAAK,UAAY,CACf,IAAIS,EAAY,KAAK,MAEjB9gB,EAAI,EAER,SAAS6E,GAAO,CACd,GAAI7E,IAAM8gB,EAAU,OAGpB,KAAIC,EAAeD,EAAU9gB,GAAG,EAChC+gB,EAAalc,CAAI,EAEZkc,EAAa,QAChBlc,IAEH,CAEDA,GACD,EAED,MAAO,SAAU,EAAG,CAClB,GAAI,CACF,KAAK,KAAK,QAAS,CAAC,CAC1B,QAAc,CAKR,KAAK,IAAG,CACT,CAED,OAAO,IACR,EAED,WAAY,SAAUiF,EAAS,CAC7B,GAAI,KAAK,IACP,MAAM,MACN,2HAA2H,EAI7H,IAAIxI,EAAQ,KAAK,GAEbwI,GACEA,EAAQ,MACV,KAAK,MAIT,KAAK,MAEL,IAAIkX,EAAmB,KAAK,GAAG,IAAG,EAC9BC,EAAW,IAAIV,GAAiB,KAAK,OAAQS,EAAkB,IAAI,EAEvE,OAAA1f,EAAM,IAAI,KAAK,aAAc,CAC3B,IAAK2f,EACL,UAAW,IACjB,CAAK,EAEMA,CACR,EAED,UAAW,UAAY,CACrB,OAAO,IAAIV,GAAiB,KAAK,MAAM,CACxC,EAED,MAAO,UAAY,CACjB,IAAI9Y,EAAS,KAAK,GAAG,IAEjBA,EAAO,cAAc2Y,EAAY,GACnC3Y,EAAO,KAAK2Y,GAAc,IAAIhY,GAAa,IAAI,CAAC,CAEnD,EAED,IAAK,UAAY,CACf,OAAO,KAAK,GAAG,GAChB,EAED,IAAK,UAAY,CACf,OAAO,KAAK,MAAQ,KAAK,IAAM,IAAIA,GAAa,IAAI,EACrD,EAED,GAAI,SAAUoB,EAAO0B,EAAU,CAC7B,IAAI5J,EAAQ,KAAK,GAEjB,OAAIkI,IAAU6W,IAAgB/e,EAAM,IAClC4J,EAAS,KAAK,IAAG,CAAE,EACV1B,IAAU,OACnB,KAAK,OAAO0B,CAAQ,EAEpB5J,EAAM,IAAI,GAAGkI,EAAO0B,CAAQ,EAGvB,IACR,EAED,KAAM,SAAU1B,EAAO0B,EAAU,CAC/B,IAAI5J,EAAQ,KAAK,GAEjB,OAAIkI,IAAU6W,IAAgB/e,EAAM,IAClC4J,EAAS,KAAK,IAAG,CAAE,EACV1B,IAAU,OACnB,KAAK,OAAO0B,CAAQ,EAEpB5J,EAAM,IAAI,KAAKkI,EAAO0B,CAAQ,EAGzB,IACR,EAED,KAAM,SAAU3D,EAAMR,EAAK,CACzB,IAAIU,EAAS,KAAK,GAAG,IACrB,OAAQ,UAAU,OAAM,CACtB,IAAK,GACHA,EAAO,KAAKF,CAAI,EAChB,MACF,IAAK,GACHE,EAAO,KAAKF,EAAMR,CAAG,EACrB,MACF,QACEU,EAAO,KAAK,MAAMA,EAAQ,SAAS,EACnC,KAAM,CAEV,OAAO,IACR,EAED,eAAgB,UAAY,CAC1B,IAAIA,EAAS,KAAK,GAAG,IACrB,OAAAA,EAAO,eAAe,MAAMA,EAAQ,SAAS,EACtC,IACR,EAED,KAAM,UAAY,CAChB,KAAK,IAAM,EACZ,EAED,OAAQ,UAAY,CAClB,OAAO,KAAK,GACb,EAED,OAAQ,SAAUyD,EAAU,CAC1B,IAAI4V,EAAY,KAAK,MAErB,OAAIA,IAAc,OAChB,KAAK,MAAQ,CAAC5V,CAAQ,EAEtB4V,EAAU,KAAK5V,CAAQ,EAGlB,IACR,EAED,IAAK,SAAUlI,EAAM,CACnB,IAAIC,EAAO,KAAK,IAChB,GAAI,CAACA,EAAM,CACT,IAAIie,EAAW,KAAK,MAEfle,IAAMA,EAAO,KAAK,KACvB,KAAK,IAAMC,EAAOie,EAAS,IAAIle,EAAM,IAAI,EACzC0R,GAASzR,EAAMie,EAAUle,EAAM,KAAK,EAAE,EAExC,OAAOC,CACR,EAED,SAAU,SAAUD,EAAM,CAKxB,QAJIme,EAAc,KAAK,IAAIne,CAAI,EAC3B0O,EAAO,GAEPxE,EAAQiU,EAAY,WACjBjU,GAAO,CACZ,IAAItI,EAAcsI,EAAM,YACxB,GAAIA,EAAM,UAAY,EAAG,CACvB,IAAIyE,EAAYwP,EAAY,cAAc,cAAc,KAAK,EAC7DxP,EAAU,YAAYzE,EAAM,UAAW,CAAA,EACvCwE,GAAQC,EAAU,eAElBD,GAAQxE,EAAM,UAGhBA,EAAQtI,EAGV,OAAO8M,CACR,EAED,KAAM,SAAUtF,EAAIgV,EAAO,CACzB,IAAIjb,EAAM,KACNvF,EAAU,IAAI,QAAQ,SAAUjB,EAAS0hB,EAAQ,CACnDlb,EAAI,GAAG,QAASkb,CAAM,EAAE,GAAGhB,GAAc,SAAUlY,EAAQ,CACzDxI,EAAQwI,CAAM,CACtB,CAAO,CACP,CAAK,EAED,OAAO,QAAQ,QAAQvH,CAAO,EAAE,KAAKwL,EAAIgV,CAAK,CAC/C,EAED,MAAO,SAAUA,EAAO,CACtB,OAAO,KAAK,KAAK,OAAWA,CAAK,CAClC,EAED,OAAQ,GAER,EAAG,SAAU1d,EAAc5B,EAAK2X,EAAc,CAC5C,KAAK,GAAK/V,EACV,KAAK,GAAK5B,EACV,KAAK,IAAM2X,CACZ,CACH,EAEAjY,EAAM,EAAIA,EAAM,QAChBA,EAAM,GAAKA,EAAM,aACjBA,EAAM,GAAKA,EAAM,IAAMA,EAAM,WAC7BA,EAAM,EAAIA,EAAM,KAChBA,EAAM,EAAIA,EAAM,EAAIA,EAAM,MAAQA,EAAM,KAExC,IAAA8f,GAAiBf,GCjcAlJ,GAAmB5X,GAChC6L,GAAenG,GAAmC,IAClDlE,GAASmE,GAEb,SAASmc,GAAWC,EAAYC,EAAWC,EAAUC,EAAW,CAC9D,GAAI,CACFH,EAAWC,EAAWC,CAAQ,EAE1BC,GACFD,EAAS,IAAG,CAEf,OAAQ1gB,EAAP,CACA,IAAI4gB,EAAYF,EAAS,IACzBA,EAAS,IAAM,UAAY,GAE3BpW,GAAa,UAAY,CACvBoW,EAAS,IAAME,EACfF,EAAS,MAAM1gB,CAAG,CACxB,CAAK,CACF,CACD,OAAO0gB,CACT,CAEA,IAAAG,GAAiB,SAAU3gB,EAAQ+Y,EAAU,CAC3C,IAAIuH,EACJvH,IAAaA,EAAS,UAAYA,EAAS,QAAUA,GACjDlU,EAAY7E,EAAO,WAAa+Y,EAAS,WAAa5C,GAE1D,OAAOpW,GAAOC,EAAQ,CACpB,UAAW6E,EAEX,eAAgB,SAAU+b,EAAM5W,EAAU,CACxC,IAAI6W,EAAYD,GAAQ,GACpBE,EAASR,GAAc,KAAK,EAC5Bxb,EAAa+b,EAAU,QACvB5b,EAAMJ,EAAUC,CAAU,EAQ9B,OANAG,EAAI,OAAO,SAAW,KAElBH,IACF+b,EAAU,QAAU,QAGlB7W,GACF/E,EACA,GAAG,SAAU,UAAY,CACvB+E,EAAS,KAAM/E,EAAI,SAAU,EAAEA,CAAG,CAC5C,CAAS,EACD,KAAK,QAAS+E,CAAQ,EAEfqW,GAAWS,EAAQD,EAAW5b,EAAK,EAAI,IAE9CA,EAAI,KAAI,EACR6b,EAAOD,EAAW5b,CAAG,EACdA,EAAI,WAEd,EAED,WAAY,SAAU2b,EAAM,CAC1B,IAAIC,EAAYD,GAAQ,GACpBE,EAASR,GAAc,KAAK,EAC5Bxb,EAAa+b,EAAU,QACvB5b,EAAMJ,EAAUC,CAAU,EAC9B,OAAAG,EAAI,KAAI,EAERA,EAAI,OAAO,SAAW,KAElBH,IACF+b,EAAU,QAAU,QAGtBC,EAAOD,EAAW5b,CAAG,EACdA,EAAI,KACZ,EAmBD,OAAQ,SAAU2b,EAAM3b,EAAK,CAC3B,IAAI+E,EACAwW,EACAD,EACAzb,EACAgc,EAASR,GAAc,KAAK,EAC5BS,EAAe,KAAK,IACpBN,EAAY,GAEhB,OAAIG,GACFL,EAAYK,GACR9b,EAAa8b,EAAK,WACpBL,EAAU,QAAU,SAGtBA,EAAY,CAAA,EAGVtb,GAAOA,EAAI,KACbub,EAAWvb,EACXwb,EAAY,GACZ1gB,GAAOkF,EAAI,OAAQH,CAAU,GACpB,OAAOG,GAAO,YACvBub,EAAW3b,EAAUC,CAAU,EAC/BkF,EAAW/E,GAEXub,EAAW3b,EACXC,EACAG,EACA,OACA8b,CACR,EAGU/W,GACFwW,EACA,GAAG,SAAU,UAAY,CACvBxW,EAAS,KAAMwW,EAAS,IAAK,CAAA,CACvC,CAAS,EACD,KAAK,QAASxW,CAAQ,EAGxBlF,EAAa0b,EAAS,OAEtB1b,EAAW,SAAWA,EAAW,UAAY,KAEtCub,GAAWS,EAAQP,EAAWC,EAAUC,CAAS,CACzD,CACL,CAAG,CACH,EC3IA,OAAO,MAAQ,CACb,UAAW,UAAY,CAAE,CAC3B,EAQA,IAAAO,EAAY,SAAwB5G,EAAU,CAC5C,OAAO,IAAI6G,GAAS7G,CAAQ,CAC9B,EAEA,SAAS6G,GAAS7G,EAAU,CAC1B,KAAK,IAAMA,CACb,CAEA,IAAIiF,GAAmB9gB,GACvB0F,GAAwB,IACxBgd,GAAS,UAAU,UAAY,SAC/Bnc,EACAoc,EACA5B,EACA,CACE,OAAO,IAAID,GAAiBva,EAAYoc,EAAQ5B,CAAS,CAC3D,CAAC,EAGDpb,GAAyB+c,GAAS,SAAS,EC7B3C,IAAIlT,GAAWxP,EAAmB,IAElCyD,GAAiB,SACjBgM,EACAC,EACArN,EACAH,EACAyN,EACAC,EACAC,EACA,CACE,OAAO,IAAIL,GAASC,EAASC,EAAOrN,EAAKH,EAAWyN,EAAYC,EAAOC,CAAK,CAC9E,kBCda,IAAI2L,GAAexb,GAEhC8E,GAAiB,SACjBiE,EACA7G,EACAG,EACAugB,EACA,CACE,IAAIve,EAAcnC,EAAU,GACxB+B,EAAe8E,EAAkB,GAAK,IAAIyS,GAC9CtZ,EACAmC,EACA0E,CAAiB,EAEjBA,EAAkB,GAAG,GACrB1E,CAAW,EACX,GACA0E,EAAkB,GAAG,KAAK9E,CAAY,EAEtC,IAAIyC,EAAMqC,EAAkB,GAC5B,OAAArC,EAAI,GAAGxE,EAAWG,EAAKugB,GAAqBA,EAAkB,EAAE,EACzD3e,CACT,ECpBAa,GAAiB,SAAsB4B,EAAK,CAC1CA,EAAI,GAAE,CACR,ECJiBjB,GAAiBzF,EAC9BmD,GAAkBsC,GAAe,GAEjCmB,GAAoBlB,GACpBuB,GAAuBL,GAAkB,GACzCgV,GAAWjW,GACX+E,GAAYwD,GACZ2U,GAAWpd,GAAe,MAAQ,GAClCqd,GAAiB1Q,GACjB2Q,GAAe1Q,GAEf2Q,GAAkC,MAEtC,SAASC,GAAoB5gB,EAAK6gB,EAAoB,CACpD,OAAI7gB,EAAI,CAAC,IAAM,IACNA,EAAI,UAAU,CAAC,EAEf6gB,EAAmB,GAAK,IAAMA,EAAmB,IAAI7gB,CAAG,CAEnE,CAEA,SAAS8gB,GAAqBzc,EAAK,CAC7BA,EAAI,OAAQ,GAAIA,EAAI,OAAOsc,EAA+B,IAI9Dtc,EAAI,GAAG,aAAc0c,EAAgB,EACrC1c,EAAI,GAAG,qBAAsB2c,EAAwB,EACrD3c,EAAI,OAAOsc,EAA+B,EAAI,GAChD,CAEA,SAASI,GAAiBrZ,EAAO,CAC/B,IAAIgX,EAAYhX,EAAM,UAClByX,EAAWzX,EAAM,IACjBhB,EAAoBgY,EAAU,GAE9BhY,IAAsB,SAExByY,EAAS,GAAK,IAAI5a,GAAkB4a,EAAUzY,CAAiB,GAGjEyY,EAAS,EACTT,EAAU,GACVA,EAAU,GACVA,EAAU,GAAG,CAEf,CAEA,SAASsC,GAAyBtZ,EAAO,CACvC,IAAIyX,EAAWzX,EAAM,IACrBqZ,GAAiBrZ,CAAK,EACtByX,EAAS,GAAG,aAAc4B,EAAgB,EAC1C5B,EAAS,GAAG,qBAAsB6B,EAAwB,CAC5D,CAEA,SAASC,GACTC,EACAxH,EACAyH,EACA,CACE,IAAInJ,EAAUmJ,GAAkBA,EAAe,QAC3C3H,EAAWE,EAAe,EAC1B0H,EAAU1H,EAAe,IAAM,GACTA,EAAe,EAEzC,IAAI2H,EAAyBF,GAAkBC,EAS/C,GAAI1H,EAAe,EACjB,MAAM,IAAI,MAAM,2BAA2B,EAG7C,OAAO,SAAkBxB,EAAO7T,EAAK,CACnCyc,GAAqBzc,CAAG,EAExB,IAAIqC,EAAoB9B,GAAqBP,CAAG,EAC5CI,EAA0BiC,EAAkB,GAE5C7G,EAAY4E,EAAwB,IACpC6c,EAAazhB,IAAc,OAC3B0X,EACA0E,EACAtE,EACAkJ,EAAqBna,EAAkB,GACvC6Z,EAAoBlc,EAAI,GACxBkd,EAAmBhB,GAAqBA,EAAkB,GAC1DvgB,EAAMqE,EAAI,GA4Bd,GA1BIxE,GAGF0X,EAAK1X,EAAU,GACfoc,EAAa,GACbxX,EAAwB,IAAM,MAO1Boc,GAEFlJ,EAAetT,EAAI,IAEfrE,GAAO,KACTuX,EAAKqJ,GAAoB5gB,EAAI,SAAU,EAAE6gB,CAAkB,EAE3DtJ,EAAKsJ,EAAmB,OAG1BtJ,EAAK9S,EAAwB,MAI7B+b,GAKF3gB,EAAY0Z,GAAS,IACrB4H,EACA5J,EACAW,EACA7T,EACAmV,EACA7B,EACA4J,CAAgB,EAKhBrJ,EAAQrY,EAAU,OACb,CACL,GAAI,CAACA,EAAW,CAWd,GATAyhB,IACAzhB,EAAYiB,GAAgByW,CAAE,IAC9B1X,EAAU,KAAO2Z,IAGf3Z,EAAU,QAAO,EACjBA,EAAY,QAGVA,EACFoc,EAAa,WAEbA,EAAa,GAEbpc,EAAY0Z,GAAS,IAAIC,EAAUjC,CAAE,EAEjC8J,IAA2B,GAAM,CACnCA,EAAyB,GAEzB,IAAIG,EACJ,OAAOL,GAAkB,WACzBA,EAAe,UACfA,EAEA9Y,GAAUmZ,EAAqB3hB,EAAU,YAAY,SAAS,EAmBlE,GAZAA,EAAU,GAAK,GAEX8X,IAAiB,QACnB9X,EAAU,IAAI8X,EAAc4J,CAAgB,EAG1CtF,IAAe,IACjBpc,EAAU,IAAIqY,EAAO7T,CAAG,EAG1B6T,EAAQrY,EAAU,IAAIqY,EAAOF,EAAS3T,CAAG,EAErC4X,IAAe,KAEjBpc,EAAU,MAAQ,IAClBA,EAAU,aAAaqY,EAAOrY,EAAU,EAAE,IAAM,IAChD,CAIEwE,EAAI,IAAIxE,CAAS,EACjB4E,EAAwB,GAAG8S,CAAE,EAAI,GACjC1X,EAAU,IAAG,EACb,QAKNA,EAAU,IAAMwE,EAAI,OACpBxE,EAAU,IAAIwE,CAAG,EAGnB,IAAIzC,EAAe6e,GACnB/Z,EACA7G,EACAG,EACAugB,CAEmB,EAGnB3e,EAAa,IAAMqa,EAInBiF,EACAhJ,EACA7T,EACAzC,EACA/B,EACAA,EAAU,IACVwE,EAAI,MAAM,EAGVqc,GAAarc,CAAiB,EAC9BqC,EAAkB,GAAKma,CAC3B,CACA,CAEA,IAAA1I,GAAiB8I,kBCvOL,IAAC1H,EAAiB5b,sCCA7B,MAAG,CAAA,MAAA,6BAAA,OAAA,KAAA,QAAA,iBAAA,MAAA,KAAA,cAAA,MAAA,EAAA8jB,IAAAA,KAAAA,EAAAA,CAAAA,EAAAA,EACD,OAAI,CAAA,EAAA,uTAAA,EAAA,IAAA,KAAA,EAAA,CAAA,EAAAC,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAAA,EAAAD,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAAA5d,EAAA6d,EAAAC,GAAAH,CAAA,CAAA,EAAA,CAAA5B,EAAAuB,GAAAzjB,EAAA,EAAA,EAAA2jB,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,MCIPyE,GAAiB,SACjBvL,EACAoB,EACA7T,EACAzC,EACA5B,EACA2X,EACA,CACEtT,EAAI,EAAEzC,EAAc5B,EAAK2X,CAAY,GACpCb,EAAQ,IAAMA,EAAQ,EAAIA,EAAQ,QAAUA,EAAQ,UAAYA,IACjEoB,EACA7T,CAAG,EAEHA,EAAI,GAAK,IACX,8CCqDG,QAAK,CAAA,KAAA,SAAA,aAAA,SAAA,YAAA,iBAAA,GAAA,QAAA,EAAA,IAAA,KAAA,EAAA,CAAA,EAAAqd,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAlELS,SAAS5a,EAAO,CACfA,EAAM6a,eAAc,EACpB,MAAMC,EAAaC,SAASC,eAAe,QAAQ,EAAE/iB,MACjD6iB,GAAcA,EAAWG,OAAS,GACpC,KAAK3M,KAAK,gBAAiBwM,CAAU,CAEzC,CAAC,EAAAZ,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CA2DF5d,EAAAue,GAAI,OAAA,CAAA,MAAA,WAAA,EAAA,IAAAZ,EAAA,KAAA,EAAA,CAAA,SAAAD,EAAAc,EAAA,SAAqB,WAAU,EAAA,CAAA,CAAA,EAA/Bxe,EAAA6d,EAAAC,GAAAH,CAAA,EAEF3d,EAAAue,GAAM,SAAA,CAAA,KAAA,SAAA,aAAA,eAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EACLc,EAAAC,GAAA1e,CAAAA,EAAAA,EAAA0d,EAAA,GAAA,EAAW1d,EAAAgB,GAAA,EAAAhB,EAAAgB,GAAA,CAAA,EAAA,CAAA+a,EAAAuB,EAAA,EAAAE,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,qCC1Ed,MAAG,CAAA,MAAA,6BAAA,OAAA,KAAA,QAAA,iBAAA,MAAA,KAAA,cAAA,MAAA,EAAA6D,IAAAA,KAAAA,EAAAA,CAAAA,EAAAA,EACD,OAAI,CAAA,EAAA,ygDAAA,EAAA,IAAA,KAAA,EAAA,CAAA,EAAAC,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAAA,EAAAD,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAAA5d,EAAA6d,EAAAC,GAAAH,CAAA,CAAA,EAAA,CAAA5B,EAAAuB,GAAAzjB,EAAA,EAAA,EAAA2jB,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,ECEP,IAAIE,GAAangB,GACb4G,GAAoBlB,GACpBuB,GAAuBL,GAAkB,GACzC4U,GAAe7V,GACf0f,GAAUnX,GAA4B,KACtCoX,GAAsB,UAAY,CACpC,OAAOD,EACT,EAEI/J,GAAgC,EAEhCiK,GAAY,OAAO,SAAa,IAKpCC,GAAiB,SACjB9e,EACA+e,EACAC,EACAC,EACAhe,EACAkI,EACA5L,EACA5B,EACA2X,EACA,CACE,GAAIyL,EAAK,CACHA,EAAI,UACNA,EAAMA,EAAI,SAGZ,IAAI/V,EAAQgW,GAAYA,IACpBxjB,EAAY+B,GAAgBA,EAAa,GAC7C,GAAI,OAAOwhB,GAAQ,SACbE,GACFjf,EAAI,IACJ+e,EACA/V,EACArN,EACA4B,EACA2hB,GAAU3hB,EAAc+V,EAAcnK,CAAK,CAAC,EAE5C8V,EAAWjf,CAAG,EACdA,EAAI,IAAG,GAEPA,EAAI,IACJ+e,EACA/V,EACArN,EACA4B,EACA2hB,GAAU3hB,EAAc+V,EAAcnK,CAAK,CAAC,MAGzC,CACDH,GAAS,KACXA,EAAQ,CAAE,WAAYiW,GACb,OAAOjW,GAAU,WAC1BA,EAAQmW,GAAiBnW,CAAK,EAC1BiW,IACFjW,EAAM,WAAaiW,IAIvB,IAAInL,EACJiL,EAAI,GACJA,EAAI,QACJA,EAAI,UAAYA,EAAI,SAAS,UAC7BA,EAAI,SAWJ,GAAIjL,EACF9T,EAAI,EAAEzC,EAAc5B,EAAK2X,CAAY,EACrCQ,EAAS9K,EAAOhJ,CAAG,EACnBA,EAAI,GAAK,SACJ,CACL,IAAI6b,EAASkD,GAAOA,EAAI,YAAcA,EAClCK,EAAO,OAAOvD,GAAW,WAU7B,GAAIuD,EAAM,CACR,IAAIlW,EAAQ3L,EAAeA,EAAa,GAAK,EACzC8hB,EAAenW,EAAQ0L,GACvB0K,EAAYzD,IAAW8C,GACvBpU,EAAWsU,GAAYQ,EAAeC,EAE1C,GADAtf,EAAI,GAAGrE,EAAKH,EAAW+O,CAAQ,EAC3B,CAAC+U,GAAaF,EAAM,CACtB,IAAI/c,EAAoB9B,GAAqBP,CAAG,EAC5Cwc,EAAqBna,EAAkB,GACvCkd,EAAgBld,EAAkB,GACtCA,EAAkB,GAAK,IAAIyS,GAC3BtZ,EACAghB,EAAmB,GAAK,IAAMA,EAAmB,IAAI7gB,CAAG,EACxD4jB,CAAa,EAEb1D,EAAO,OAAS+C,GAEZ3d,EACF4a,EAAO,MAAM,KAAM,CAAC7b,CAAG,EAAE,OAAOiB,EAAM+H,CAAK,CAAC,EAE5C6S,EAAO7b,EAAKgJ,CAAK,EAGnB3G,EAAkB,GAAKma,EAEzBxc,EAAI,GAAE,OAENA,EAAI,MAAM,2BAA2B,SAIlCif,IACTjf,EAAI,GACJrE,EACAH,EACAqjB,IACAthB,GACAA,EAAa,GAAKqX,EAA6B,EAE/CqK,EAAWjf,CAAG,EACdA,EAAI,GAAE,EAEV,EAEA,SAASmf,GAAiBnW,EAAO,CAC/B,IAAIhH,EAAS,CAAA,EAEb,QAASrG,KAAOqN,EACdhH,EAAOyX,GAAW,IAAI9d,CAAG,CAAC,EAAIqN,EAAMrN,CAAG,EAGzC,OAAOqG,CACT,CAEA,SAASkd,GAAU3hB,EAAc+V,EAAcnK,EAAO,CACpD,IAAIxP,EAAM2Z,EAAeA,EAAa,OAAS,EAE/C,GAAI3Z,IAAQ,EACV,OAAOwP,EAMT,QAHInH,EAASmH,GAAS,GAClB9F,EAEKxJ,EAAIF,EAAKE,KAChBwJ,EAAQiQ,EAAazZ,CAAC,EACtBmI,EAAO,KAAOqB,EAAM,CAAC,CAAC,EAAI9F,EAAa,EACvC8F,EAAM,CAAC,EACPA,EAAM,CAAC,EACPA,EAAM,CAAC,EACPA,EAAM,CAAC,CAAC,EAIV,OAAOrB,CACT,gGCtHChC,EAAAue,GAAM,SAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACJ3d,EAAAue,GAAG,MAAA,CAAA,MAAA,MAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EACD3d,EAAAue,GAAC,IAAA,CAAA,KAAA,IAAA,MAAA,MAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EACAc,EAAAe,GAAAxf,CAAAA,EAAAA,EAAA0d,EAAA,GAAA,EACC1d,EAAAue,GAAI,OAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EAAC3d,EAAA+b,EAAElI,EAAM4L,MAAK9B,CAAA,EAAC3d,EAAAgB,GAAA,EAAAhB,EAAAgB,GAAA,EAAAhB,EAAAgB,GAAA,EAGxB0e,GAAA1f,EAAG6T,EAAMoL,+BAAUvB,EAAA,GAAA,EAAG1d,EAAAgB,GAAA,CAAA,EAAA,CAAA+a,EAAAuB,GAAAzjB,EAAA,EAAA,EAAA2jB,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,EC9DjB,MAAMoG,GAAgB,mCAChBC,GAA4B,+CAA+CD,KCC3EE,GAAU,MAAOC,EAAOnc,IAAY,CAC/C,MAAMoc,EAAc,IAAI,gBAAgB,CAAC,EAAGD,EAAO,MAAO,GAAI,OAAQ,IAAK,GAAGnc,CAAO,CAAC,EAAE,SAAQ,EAC1Fqc,EAAW,GAAGJ,MAA6BG,IACjD,GAAI,CAKF,OADa,MAHI,MAAM,MAAMC,EAAU,CACrC,KAAM,MACZ,CAAK,GAC2B,MAE7B,OAAQve,EAAP,CACA,QAAQ,MAAM,UAAUA,GAAO,CAChC,CACH,EAEawe,GAAa,MAAO/M,GAAO,CACtC,MAAM8M,EAAW,iCAAiC9M,aAAcyM,KAChE,GAAI,CAKF,OADa,MAHI,MAAM,MAAMK,EAAU,CACrC,KAAM,MACZ,CAAK,GAC2B,QAChB,IACb,OAAQve,EAAP,CACA,QAAQ,MAAM,UAAUA,GAAO,CAChC,CACH,EC1BA,IAAAye,GAAiB,UAAY,CAC3B,IAAIC,EAAY,SAAS,eACzB,GAAI,CAACA,EAAU,WACb,OAAO,UAAY,CAAA,EAKrB,QAHIC,EAAS,SAAS,cAElBC,EAAS,CAAA,EACJ,EAAI,EAAG,EAAIF,EAAU,WAAY,IACxCE,EAAO,KAAKF,EAAU,WAAW,CAAC,CAAC,EAGrC,OAAQC,EAAO,QAAQ,YAAa,EAAA,CAClC,IAAK,QACL,IAAK,WACHA,EAAO,KAAI,EACX,MAEF,QACEA,EAAS,KACT,KACH,CAED,OAAAD,EAAU,gBAAe,EAClB,UAAY,CACjBA,EAAU,OAAS,SACnBA,EAAU,gBAAe,EAEpBA,EAAU,YACbE,EAAO,QAAQ,SAASC,EAAO,CAC7BH,EAAU,SAASG,CAAK,CAChC,CAAO,EAGHF,GACAA,EAAO,MAAK,CAChB,CACA,ECpCIG,GAAkBjnB,GAElBknB,GAA4B,CAC9B,aAAc,OACd,YAAa,MACb,QAAW,MACb,EAEIC,GAAiB,mCAErB,SAASC,GAAOC,EAAS,CACvB,IAAIC,GAAW,YAAY,KAAK,UAAU,SAAS,EAAI,IAAM,QAAU,KACvE,OAAOD,EAAQ,QAAQ,gBAAiBC,CAAO,CACjD,CAEA,SAASC,GAAKpG,EAAM9W,EAAS,CAC3B,IAAImd,EACFH,EACAI,EACAT,EACAH,EACAa,EACAC,EAAU,GACPtd,IACHA,EAAU,CAAA,GAEZmd,EAAQnd,EAAQ,OAAS,GACzB,GAAI,CACFod,EAAmBR,GAAe,EAElCD,EAAQ,SAAS,cACjBH,EAAY,SAAS,eAErBa,EAAO,SAAS,cAAc,MAAM,EACpCA,EAAK,YAAcvG,EAEnBuG,EAAK,WAAa,OAElBA,EAAK,MAAM,IAAM,QAEjBA,EAAK,MAAM,SAAW,QACtBA,EAAK,MAAM,IAAM,EACjBA,EAAK,MAAM,KAAO,mBAElBA,EAAK,MAAM,WAAa,MAExBA,EAAK,MAAM,iBAAmB,OAC9BA,EAAK,MAAM,cAAgB,OAC3BA,EAAK,MAAM,aAAe,OAC1BA,EAAK,MAAM,WAAa,OACxBA,EAAK,iBAAiB,OAAQ,SAAS5D,EAAG,CAExC,GADAA,EAAE,gBAAe,EACbzZ,EAAQ,OAEV,GADAyZ,EAAE,eAAc,EACZ,OAAOA,EAAE,cAAkB,IAAa,CAC1C0D,GAAS,QAAQ,KAAK,+BAA+B,EACrDA,GAAS,QAAQ,KAAK,0BAA0B,EAChD,OAAO,cAAc,YACrB,IAAIJ,EAASF,GAA0B7c,EAAQ,MAAM,GAAK6c,GAA0B,QACpF,OAAO,cAAc,QAAQE,EAAQjG,CAAI,OAEzC2C,EAAE,cAAc,YAChBA,EAAE,cAAc,QAAQzZ,EAAQ,OAAQ8W,CAAI,EAG5C9W,EAAQ,SACVyZ,EAAE,eAAc,EAChBzZ,EAAQ,OAAOyZ,EAAE,aAAa,EAEtC,CAAK,EAED,SAAS,KAAK,YAAY4D,CAAI,EAE9BV,EAAM,mBAAmBU,CAAI,EAC7Bb,EAAU,SAASG,CAAK,EAExB,IAAIY,EAAa,SAAS,YAAY,MAAM,EAC5C,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,+BAA+B,EAEjDD,EAAU,EACX,OAAQpmB,EAAP,CACAimB,GAAS,QAAQ,MAAM,qCAAsCjmB,CAAG,EAChEimB,GAAS,QAAQ,KAAK,0BAA0B,EAChD,GAAI,CACF,OAAO,cAAc,QAAQnd,EAAQ,QAAU,OAAQ8W,CAAI,EAC3D9W,EAAQ,QAAUA,EAAQ,OAAO,OAAO,aAAa,EACrDsd,EAAU,EACX,OAAQpmB,EAAP,CACAimB,GAAS,QAAQ,MAAM,uCAAwCjmB,CAAG,EAClEimB,GAAS,QAAQ,MAAM,wBAAwB,EAC/CH,EAAUD,GAAO,YAAa/c,EAAUA,EAAQ,QAAU8c,EAAc,EACxE,OAAO,OAAOE,EAASlG,CAAI,CAC5B,CACL,QAAY,CACJ0F,IACE,OAAOA,EAAU,aAAe,WAClCA,EAAU,YAAYG,CAAK,EAE3BH,EAAU,gBAAe,GAIzBa,GACF,SAAS,KAAK,YAAYA,CAAI,EAEhCD,GACD,CAED,OAAOE,CACT,CAEA,IAAAE,GAAiBN,sDClHhB,MAAG,CAAA,MAAA,6BAAA,OAAA,KAAA,QAAA,iBAAA,MAAA,KAAA,cAAA,MAAA,EAAAzD,IAAAA,KAAAA,EAAAA,CAAAA,EAAAA,EACD,OAAI,CAAA,EAAA,yWAAA,EAAA,IAAA,KAAA,EAAA,CAAA,EAAAC,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAAA,EAAAD,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAAA5d,EAAA6d,EAAAC,GAAAH,CAAA,CAAA,EAAA,CAAA5B,EAAAuB,GAAAzjB,EAAA,EAAA,EAAA2jB,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,+BCK8B8D,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAsDnC4D,UAAW,CACTP,GAAK,KAAKhN,MAAMwN,IAAIC,SAAS,CAC/B,CAAC,EAAA/D,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAGF5d,EAAAue,GAAG,MAAA,CAAA,MAAA,eAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EACD3d,EAAAue,GAAO,UAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACL3d,EAAAod,EAAM,SAAA,CAAA,MAAA,kDAAA,OAAsEvJ,EAAMwN,IAAIE,OAAOC,mBAAmBC,GAAG,EAAA,IAAA9D,EAAA,EAAA,CAAA,EACnH3d,EAAAod,EAAM,SAAA,CAAA,MAAA,qBAAA,OAAyCvJ,EAAMwN,IAAIE,OAAOG,aAAaD,GAAG,EAAA,IAAA9D,EAAA,EAAA,CAAA,EAChF3d,EAAAod,EAAM,SAAA,CAAA,MAAA,2BAAA,OAAyCvJ,EAAMwN,IAAIE,OAAOI,eAAeF,GAAG,EAAA,IAAA9D,EAAA,EAAA,CAAA,EAClF3d,EAAAod,EAAG,MAAA,CAAA,IAAKvJ,EAAMwN,IAAIE,OAAOK,SAASH,IAAG,IAAK5N,EAAMwN,IAAI5B,KAAK,EAAA,IAAA9B,EAAA,EAAA,CAAA,EAAtD3d,EAAAgB,GAAA,EAEF6S,EAAMsN,kBACPnhB,EAAAue,GAAM,SAAA,CAAA,aAAoB,YAAW1K,EAAMwN,IAAI5B,OAAS,OAAS5L,EAAMwN,IAAI5B,QAAO,MAAA,YAAA,MAAA,QAAA,EAAA,IAAA9B,EAAA,KAAA,EAAA,CAAA,QAAAD,EAAAc,EAAA,QAA4B,WAAU,EAAA,CAAA,CAAA,EACvHC,EAAAoD,GAAA7hB,CAAAA,EAAAA,EAAA0d,EAAA,GAAA,EAAY1d,EAAAgB,GAAA,GAEXhB,EAAAgB,GAAA,CAAA,EAAA,CAAA+a,EAAAuB,EAAA,EAAAE,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,+BC5EgDuE,GAAAgE,GAyDpD,uBAAC/F,EAAA,6CAAA,EAAAsB,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAhCF7J,QAAQE,EAAO,CACb,KAAK1Y,MAAQ,CACX4mB,QAAS,GACTV,IAAKW,QAEP,KAAKC,QAAUC,QAAQ1oB,UACvB,KAAK2oB,QAAO,CACb,EAAA,MAEKA,SAAU,CACd,KAAM,CAAEhnB,MAAAA,CAAO,EAAG,KAElBA,EAAM4mB,QAAU,GAChB,MAAM,KAAKE,QAEX,GAAI,CACF,MAAMZ,EAAM,MAAO,KAAKY,QAAUhC,GAAW,eAAe,GACxDoB,IACAlmB,EAAMkmB,IAAMA,EAEjB,OAAQxmB,EAAP,CACAunB,QAAQC,IAAI,gBAAiBxnB,CAAG,CAClC,CAEAM,EAAM4mB,QAAU,EAClB,CAAC,EAAAxE,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAGF5d,EAAAue,GAAG,MAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACExiB,EAAMkmB,KACR5C,EAAA6D,GAAA,CAAA,IAAgBnnB,EAAMkmB,KAAGrhB,EAAA0d,EAAA,GAAA,EACtB1d,EAAA6d,EAAAC,GAAAH,CAAA,EAAA3d,EAAAgB,GAAA,CAAA,EAAA,CAAA+a,EAAAuB,EAAA,EAAAE,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,+BCjD6C8D,EAAAA,EAAAC,GAAA,IAAAC,EAAA,EAAA,MAAAC,GAAA,CAyBlD7J,QAAQE,EAAO,CACb,KAAK1Y,MAAQ,CACXgjB,WAAYtK,EAAMsK,WAClB4D,QAAS,GACTQ,WAAY,CAAE,EACdC,KAAM,CAAA,GAER,KAAKP,QAAUC,QAAQ1oB,UACvB,KAAKipB,gBAAe,CACrB,EAAA,MAEKA,iBAAkB,CACtB,KAAM,CAAEtnB,MAAAA,CAAO,EAAG,KAElBA,EAAM4mB,QAAU,GAChB,MAAM,KAAKE,QAEX,GAAI,CACF,MAAMS,EAAe,MAAO,KAAKT,QAAUpC,GAAQ1kB,EAAMgjB,UAAU,GAC/DuE,IACAvnB,EAAMqnB,KAAOE,EAAa/G,KAC1BxgB,EAAMonB,WAAaG,EAAaH,WAErC,OAAQ1nB,EAAP,CACAunB,QAAQC,IAAI,gBAAiBxnB,CAAG,CAClC,CAEAM,EAAM4mB,QAAU,EACjB,EAAA,MAEKY,cAAe,CACnB,KAAM,CAAExnB,MAAAA,CAAO,EAAG,KAElBA,EAAM4mB,QAAU,GAChB,MAAM,KAAKE,QAEX,GAAI,CACF,MAAMS,EAAe,MAAO,KAAKT,QAAUpC,GAAQ1kB,EAAMgjB,WAAY,CAACyE,OAAQznB,EAAMqnB,KAAKlE,MAAO,CAAA,GAC5FoE,GAAgBA,EAAa/G,OAC/BxgB,EAAMqnB,KAAOrnB,EAAMqnB,KAAKK,OAAOH,EAAa/G,IAAI,EAChDxgB,EAAMonB,WAAaG,EAAaH,WAEnC,OAAQ1nB,EAAP,CACAunB,QAAQC,IAAI,gBAAiBxnB,CAAG,CAClC,CAEAM,EAAM4mB,QAAU,EAClB,CAAC,EAAAxE,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CAaH,GAVC5d,EAAAue,GAAE,KAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACA3d,EAAAue,GAAI,OAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EAAC3d,EAAA+b,EAAE5gB,EAAMonB,WAAWO,YAAWnF,CAAA,EAAC3d,EAAA+b,EAAA,YAAA4B,CAAA,EAAS3d,EAAAgB,GAAA,EAC9ChB,EAAA+b,EAAElI,EAAMsK,WAAUR,CAAA,EAAC3d,EAAAgB,GAAA,EAEjB7F,EAAM4mB,QACR/hB,EAAA+b,EAAA,aAAA4B,CAAA,EAEOxiB,EAAMqnB,KAAKlE,QAAU,GAC5BG,EAAAsE,GAAA/iB,CAAAA,EAAAA,EAAA0d,EAAA,GAAA,EAEEviB,EAAMqnB,KAAKlE,OAAS,EAAC,CACtBte,EAAAue,GAAG,MAAA,CAAA,MAAA,MAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EAAA,CAAA,IAAAqF,EAAA,EAAA,UACG3B,KAAQlmB,EAAMqnB,KAAI,CAAA,MAAAS,MAAAD,OACrBvE,EAAA6D,GAAA,CAAA,IAAgBjB,EAAG,gBAAA,EAAA,EAAArhB,EAAA0d,EAAA,IAAAuF,CAAA,EAAmB,CAAAjjB,EAAAgB,GAAA,EAGzChB,EAAAue,GAAG,MAAA,CAAA,MAAA,QAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EACExiB,EAAMqnB,KAAKlE,OAASnjB,EAAMonB,WAAWO,aACtC9iB,EAAAue,GAAM,SAAA,CAAA,MAAA,QAAA,EAAA,IAAAZ,EAAA,KAAA,EAAA,CAAA,QAAAD,EAAAc,EAAA,QAAiB,eAAc,EAAA,CAAA,CAAA,EAAExe,EAAA+b,EAAA,YAAA4B,CAAA,EAAS3d,EAAAgB,GAAA,IAGhDhB,EAAAue,GAAC,IAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EAAC3d,EAAA+b,EAAA,iDAAA4B,CAAA,EAA8C3d,EAAA+b,EAAElI,EAAMsK,WAAUR,CAAA,EAAC3d,EAAA+b,EAAA,wCAAA4B,CAAA,EAAqC3d,EAAAgB,GAAA,GAFtGhB,EAAAgB,GAAA,EAKJ,EAAA,CAAA+a,EAAAuB,EAAA,EAAAE,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,uFC1GH,MAAM2J,EAAU,CAChB,CAACzB,IAAK,iCAAkC/f,QAAS,WAAYyhB,SAAU,UAAU,EACjF,CAAC1B,IAAK,mBAAoB/f,QAAS,aAAcyhB,SAAU,OAAO,EAClE,CAAC1B,IAAK,4BAA6B/f,QAAS,WAAYyhB,SAAU,OAAO,EACzE,CAAC1B,IAAK,oCAAqC/f,QAAS,UAAWyhB,SAAU,gBAAgB,CAAC,EAwC3FnjB,EAAAue,GAAM,SAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACL3d,EAAA+b,EAAA,KAAA4B,CAAA,EAAO3d,EAAA+b,EAAE,IAAIqH,KAAM,EAACC,YAAW,EAAE1F,CAAA,EAAC3d,EAAA+b,EAAA,eAAA4B,CAAA,EACjC3d,EAAAue,GAAC,IAAA,CAAA,MAAA,SAAA,EAAA,IAAAZ,EAAA,KAAA,CAAA,EAAA,CAAA,IAAA2F,EAAA,EAAA,UACKC,KAAkBL,EAAO,CAAA,IAAjBhR,EAAKoR,IAAA,MAAAL,MAAL/Q,KACPA,IAAU,IACXlS,EAAAue,GAAI,OAAA,CAAA,cAAA,OAAA,MAAA,SAAA0E,EAAAA,IAAAA,EAAAtF,EAAA,KAAA,CAAA,EAA4B3d,EAAA+b,EAAA,IAAA4B,CAAA,EAAQ3d,EAAAgB,GAAA,GAExChB,EAAAue,GAAA,OAAI0E,KAAAA,IAAAA,EAAAtF,EAAA,KAAA,CAAA,EACH3d,EAAA+b,EAAEwH,EAAO7hB,QAAOic,CAAA,EAAC3d,EAAA+b,EAAA,IAAA4B,CAAA,EAAE3d,EAAAue,GAAC,IAAA,CAAA,KAAMgF,EAAO9B,GAAGwB,EAAAA,IAAAA,EAAAtF,EAAA,KAAA,CAAA,EAAC3d,EAAA+b,EAAEwH,EAAOJ,SAAQxF,CAAA,EAAC3d,EAAAgB,GAAA,EAAAhB,EAAAgB,GAAA,EAAA,CAAAhB,EAAAgB,GAAA,EAAAhB,EAAAgB,GAAA,CAAA,EAAA,CAAA+a,EAAAuB,GAAAzjB,EAAA,EAAA,EAAA2jB,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA,wDCnD/D5F,QAAQE,EAAO,CAEb,MAAM2P,EAAcC,OAAO,IAAIL,KAAM,EAACM,aAAc,EAACC,UAAU,EAAG,CAAC,CAAC,EACpE,IAAIC,EAAgB,aAChBJ,EAAc,EAChBI,EAAgB,YACPJ,EAAc,GACvBI,EAAgB,eACPJ,EAAc,GACvBI,EAAgB,iBACPJ,EAAc,KACvBI,EAAgB,gBAGlB,KAAKzoB,MAAQ,CACXgjB,WAAYtK,EAAMsK,YAAcyF,EAChCC,QAAS,CAAE,EACXC,QAAS,CAAA,EAEZ,EAEDC,aAAa5F,EAAY,CACvB,KAAKhjB,MAAMgjB,WAAaA,CAC1B,CAAC,EAAAZ,GAAAhE,EAAAkE,WAAA5J,EAAA7T,EAAA0d,EAAAC,EAAAxiB,EAAAyiB,EAAA,CASHa,EAAAuF,GAAA,CAAA,MAAkB,aAAY,WAAAhkB,GAAA,CAC5Bye,EAAAwF,GAAA,GAAAjkB,EAAA0d,wBAA+B,eAAc,EAAA,CAAA,CAAA,CAAG,GAAA1d,EAAA0d,EAAA,GAAA,EAEjD1d,EAAAue,GAAI,OAAA,KAAA,IAAAZ,EAAA,KAAA,CAAA,EACHc,EAAAyF,GAAA,CAAA,WAA2B/oB,EAAMgjB,YAAUne,EAAA0d,EAAA,GAAA,EAAE1d,EAAAgB,GAAA,EAE/Cyd,EAAA0F,GAAAnkB,CAAAA,EAAAA,EAAA0d,EAAA,GAAA,CAAa,EAAA,CAAA3B,EAAAuB,EAAA,EAAAE,EAAA,EAAAD,GAAAtK,UAAA8K,EAAAP,GAAAD,GAAAhE,CAAA","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,53,56,60,61]}